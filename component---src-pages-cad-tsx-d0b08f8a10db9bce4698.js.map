{"version":3,"sources":["webpack:///./node_modules/react-reconciler/cjs/react-reconciler.production.min.js","webpack:///./node_modules/lodash/isSymbol.js","webpack:///./node_modules/konva/lib/Shape.js","webpack:///./node_modules/konva/lib/_FullInternals.js","webpack:///./node_modules/core-js/internals/dom-iterables.js","webpack:///./node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/konva/lib/Global.js","webpack:///./node_modules/core-js/internals/set-to-string-tag.js","webpack:///./node_modules/konva/lib/shapes/Transformer.js","webpack:///./node_modules/redux-undo/lib/actions.js","webpack:///./node_modules/konva/lib/shapes/Label.js","webpack:///./node_modules/konva/lib/DragAndDrop.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./node_modules/konva/lib/shapes/Star.js","webpack:///./node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./node_modules/core-js/modules/es.array.iterator.js","webpack:///./node_modules/konva/lib/filters/Emboss.js","webpack:///./node_modules/konva/lib/Stage.js","webpack:///./node_modules/konva/lib/Container.js","webpack:///./node_modules/konva/lib/Animation.js","webpack:///./node_modules/core-js/modules/es.string.trim-start.js","webpack:///./node_modules/konva/lib/Group.js","webpack:///./src/components/PageMetaData.tsx","webpack:///./node_modules/konva/lib/Factory.js","webpack:///./node_modules/react-konva/lib/ReactKonvaHostConfig.js","webpack:///./node_modules/redux-undo/lib/helpers.js","webpack:///./node_modules/konva/lib/Canvas.js","webpack:///./node_modules/konva/lib/shapes/Line.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/react-konva/lib/ReactDOMComponentTree.js","webpack:///./node_modules/konva/lib/Tween.js","webpack:///./node_modules/react-konva/lib/HostConfigWithNoPersistence.js","webpack:///./node_modules/konva/lib/Layer.js","webpack:///./node_modules/lodash/throttle.js","webpack:///./node_modules/konva/lib/filters/Threshold.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/redux-undo/lib/reducer.js","webpack:///./node_modules/konva/lib/shapes/Arrow.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/konva/lib/filters/Kaleidoscope.js","webpack:///./node_modules/redux-undo/lib/debug.js","webpack:///./node_modules/core-js/modules/es.string.trim-end.js","webpack:///./node_modules/konva/lib/shapes/Circle.js","webpack:///./node_modules/konva/lib/filters/Posterize.js","webpack:///./node_modules/konva/lib/shapes/Image.js","webpack:///./src/i18n/LocalizedLink.tsx","webpack:///./node_modules/konva/lib/shapes/RegularPolygon.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/konva/lib/shapes/TextPath.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/konva/lib/FastLayer.js","webpack:///./node_modules/is-touch-device/build/index.js","webpack:///./node_modules/react-konva/lib/HostConfigWithNoHydration.js","webpack:///./node_modules/react-reconciler/index.js","webpack:///./node_modules/konva/lib/index.js","webpack:///./node_modules/konva/lib/_CoreInternals.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/core-js/internals/a-possible-prototype.js","webpack:///./node_modules/konva/lib/shapes/Ellipse.js","webpack:///./node_modules/react-konva/lib/ReactKonvaCore.js","webpack:///./node_modules/core-js/internals/iterators.js","webpack:///./node_modules/konva/lib/Core.js","webpack:///./node_modules/konva/lib/filters/Pixelate.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/react-konva/lib/invariant.js","webpack:///./node_modules/konva/lib/Validators.js","webpack:///./node_modules/konva/lib/filters/HSV.js","webpack:///./node_modules/symbol-observable/es/ponyfill.js","webpack:///./node_modules/konva/lib/Node.js","webpack:///./node_modules/konva/lib/shapes/Text.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/react-konva/node_modules/scheduler/index.js","webpack:///./node_modules/react-konva/lib/ReactKonva.js","webpack:///./node_modules/konva/lib/shapes/Rect.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/react-konva/lib/makeUpdates.js","webpack:///./node_modules/konva/lib/filters/Brighten.js","webpack:///./node_modules/symbol-observable/es/index.js","webpack:///./node_modules/redux-undo/lib/index.js","webpack:///./node_modules/konva/lib/filters/Sepia.js","webpack:///./node_modules/konva/lib/filters/Solarize.js","webpack:///./node_modules/konva/lib/PointerEvents.js","webpack:///./node_modules/core-js/internals/define-iterator.js","webpack:///./node_modules/konva/lib/shapes/Arc.js","webpack:///./node_modules/konva/lib/filters/Invert.js","webpack:///./node_modules/konva/lib/shapes/Path.js","webpack:///./node_modules/konva/lib/filters/RGB.js","webpack:///./node_modules/konva/lib/filters/HSL.js","webpack:///./node_modules/konva/lib/filters/Mask.js","webpack:///./node_modules/konva/lib/shapes/Wedge.js","webpack:///./node_modules/konva/lib/Util.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/core-js/internals/create-iterator-constructor.js","webpack:///./node_modules/konva/lib/shapes/Sprite.js","webpack:///./node_modules/react-reconciler/node_modules/scheduler/cjs/scheduler.production.min.js","webpack:///./node_modules/core-js/internals/iterators-core.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/konva/lib/filters/RGBA.js","webpack:///./node_modules/react-reconciler/node_modules/scheduler/index.js","webpack:///./node_modules/lodash/toNumber.js","webpack:///./node_modules/konva/lib/filters/Noise.js","webpack:///./node_modules/react-konva/node_modules/scheduler/cjs/scheduler.production.min.js","webpack:///./node_modules/konva/lib/filters/Enhance.js","webpack:///./node_modules/konva/lib/filters/Blur.js","webpack:///./node_modules/konva/lib/shapes/Ring.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/konva/lib/filters/Contrast.js","webpack:///./node_modules/react-redux/es/components/Context.js","webpack:///./node_modules/react-redux/es/utils/batch.js","webpack:///./node_modules/react-redux/es/utils/Subscription.js","webpack:///./node_modules/react-redux/es/components/Provider.js","webpack:///./node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js","webpack:///./node_modules/redux/es/redux.js","webpack:///./node_modules/react-redux/es/hooks/useReduxContext.js","webpack:///./node_modules/react-redux/es/hooks/useStore.js","webpack:///./node_modules/react-redux/es/hooks/useDispatch.js","webpack:///./node_modules/react-redux/es/hooks/useSelector.js","webpack:///./node_modules/react-redux/es/index.js","webpack:///./src/cad/storage/reduser.ts","webpack:///./src/cad/storage/localStorage.ts","webpack:///./src/cad/themes/light.ts","webpack:///./node_modules/use-gestures/dist/bundle.js","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///./src/cad/Portal.ts","webpack:///./src/cad/themes/accentDark.ts","webpack:///./src/cad/ElementsType.tsx","webpack:///./src/cad/storage/selectors.ts","webpack:///./src/cad/NumberInput.tsx","webpack:///./src/cad/tools/WallTool.tsx","webpack:///./src/cad/tools/MainDoorTools.tsx","webpack:///./src/cad/reusableFunctions.ts","webpack:///./src/cad/tools/ApertureTool.tsx","webpack:///./src/cad/tools/BatteryTool.tsx","webpack:///./src/cad/tools/VentTool.tsx","webpack:///./src/cad/tools/TubeTool.tsx","webpack:///./src/cad/tools/BalconyDoorTool.tsx","webpack:///./src/cad/types.ts","webpack:///./src/cad/Canvas.tsx","webpack:///./src/cad/themes/dark.ts","webpack:///./src/cad/content/IntroductionContent.tsx","webpack:///./src/cad/instruction.tsx","webpack:///./src/cad/dxf/lineDxf.ts","webpack:///./src/cad/dxf/apertureDxf.ts","webpack:///./src/cad/dxf/balconyDoor.ts","webpack:///./src/cad/saveModal.tsx","webpack:///./src/cad/dxf/tubeDxf.ts","webpack:///./src/cad/dxf/doorDxf.ts","webpack:///./src/cad/dxf/batteryDxf.ts","webpack:///./src/cad/dxf/ventDxf.ts","webpack:///./src/cad/dxf/downloadDxf.ts","webpack:///./src/cad/dxf/fileDxf.ts","webpack:///./src/cad/feedback/FeedbackModal.tsx","webpack:///./src/cad/Workplace.tsx","webpack:///./src/i18n/LanguageSwitcherCad.tsx","webpack:///./src/cad/AppHeader.tsx","webpack:///./src/pages/cad.tsx","webpack:///./node_modules/konva/lib/Context.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/konva/lib/filters/Grayscale.js"],"names":["module","exports","$$$reconciler","$$$hostConfig","aa","ba","m","n","a","b","c","arguments","length","encodeURIComponent","p","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","hasOwnProperty","ReactCurrentDispatcher","current","ReactCurrentBatchConfig","suspense","u","Symbol","for","ca","da","ea","fa","ha","ia","ja","ka","la","ma","na","oa","pa","qa","ra","iterator","sa","ua","displayName","name","$$typeof","render","type","_status","_result","va","alternate","return","effectTag","tag","wa","Error","xa","d","e","f","child","sibling","g","h","stateNode","ya","Aa","getPublicInstance","Ba","getRootHostContext","Ca","getChildHostContext","Da","prepareForCommit","Ea","resetAfterCommit","Fa","createInstance","Ga","appendInitialChild","Ha","finalizeInitialChildren","Ia","prepareUpdate","Ja","shouldSetTextContent","Ka","shouldDeprioritizeSubtree","La","createTextInstance","Ma","setTimeout","Na","clearTimeout","Oa","noTimeout","Pa","isPrimaryRenderer","Qa","supportsMutation","Ra","supportsPersistence","Sa","supportsHydration","Ta","appendChild","Ua","appendChildToContainer","Va","commitTextUpdate","Wa","commitMount","Xa","commitUpdate","Ya","insertBefore","Za","insertInContainerBefore","$a","removeChild","ab","removeChildFromContainer","bb","resetTextContent","cb","hideInstance","db","hideTextInstance","eb","unhideInstance","fb","unhideTextInstance","gb","cloneInstance","hb","createContainerChildSet","ib","appendChildToContainerChildSet","jb","finalizeContainerChildren","kb","replaceContainerChildren","lb","cloneHiddenInstance","mb","cloneHiddenTextInstance","nb","canHydrateInstance","ob","canHydrateTextInstance","pb","isSuspenseInstancePending","qb","isSuspenseInstanceFallback","rb","getNextHydratableSibling","sb","getFirstHydratableChild","tb","hydrateInstance","ub","hydrateTextInstance","vb","getNextHydratableInstanceAfterSuspenseInstance","wb","commitHydratedContainer","xb","commitHydratedSuspenseInstance","yb","zb","_debugOwner","_debugSource","fileName","replace","lineNumber","Ab","Bb","B","C","Cb","D","E","Db","Eb","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","F","childContextTypes","Fb","Gb","Hb","getChildContext","Ib","__reactInternalMemoizedMergedChildContext","Jb","Kb","unstable_runWithPriority","Lb","unstable_scheduleCallback","Mb","unstable_cancelCallback","Nb","unstable_requestPaint","Ob","unstable_now","Pb","unstable_getCurrentPriorityLevel","Qb","unstable_ImmediatePriority","Rb","unstable_UserBlockingPriority","Sb","unstable_NormalPriority","Tb","unstable_LowPriority","Ub","unstable_IdlePriority","Vb","Wb","unstable_shouldYield","Xb","Yb","Zb","$b","ac","G","bc","cc","dc","ec","fc","gc","push","H","slice","hc","jc","Object","is","kc","prototype","lc","keys","call","mc","defaultProps","nc","oc","pc","qc","rc","sc","_context","_currentValue","_currentValue2","tc","uc","childExpirationTime","vc","dependencies","firstContext","expirationTime","wc","I","context","observedBits","next","responders","xc","yc","updateQueue","baseState","memoizedState","baseQueue","shared","pending","effects","zc","Ac","suspenseConfig","payload","callback","Bc","Cc","Dc","k","l","q","r","w","z","Q","Ec","A","v","Gc","Hc","Ic","Jc","Component","refs","Kc","Oc","isMounted","_reactInternalFiber","enqueueSetState","Lc","Mc","Nc","enqueueReplaceState","enqueueForceUpdate","Pc","shouldComponentUpdate","isPureReactComponent","Qc","contextType","state","updater","Rc","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Sc","props","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Tc","Array","isArray","Uc","ref","_owner","_stringRef","Vc","toString","join","Wc","lastEffect","nextEffect","firstEffect","Map","key","set","index","Xc","Yc","mode","elementType","Zc","containerInfo","implementation","$c","children","ad","get","t","x","y","delete","forEach","done","value","bd","cd","dd","J","ed","fd","gd","hd","id","jd","kd","K","ld","dehydrated","memoizedProps","revealOrder","md","responder","nd","L","od","M","N","O","pd","P","qd","rd","sd","td","ud","vd","wd","queue","xd","yd","zd","lastRenderedReducer","action","eagerReducer","eagerState","lastRenderedState","dispatch","Ad","Bd","Cd","bind","Dd","create","destroy","deps","Ed","Fd","Gd","Hd","Id","Jd","Kd","Ld","concat","Md","Nd","Od","Pd","Qd","readContext","useCallback","useContext","useEffect","useImperativeHandle","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useResponder","useDeferredValue","useTransition","Rd","Sd","Td","Ud","Vd","Wd","pendingProps","Xd","Yd","Zd","$d","ae","ReactCurrentOwner","R","be","ce","de","ee","compare","fe","ge","he","ie","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","je","getDerivedStateFromError","le","pendingContext","_se","te","ue","ve","me","retryTime","ne","fallback","unstable_avoidThisFallback","oe","pe","isBackwards","rendering","renderingStartTime","last","tail","tailExpiration","tailMode","qe","re","we","pendingChildren","xe","ye","S","ze","Ae","Be","Ce","T","De","U","Ee","Fe","Ge","source","stack","He","WeakSet","Set","Ie","console","error","Le","Ke","Me","__reactInternalSnapshotBeforeUpdate","Ne","Oe","Pe","Qe","Re","componentWillUnmount","Je","Se","Te","Ue","Ve","We","Xe","Ye","instance","Ze","$e","hydrate","af","bf","cf","df","has","add","then","ef","WeakMap","ff","element","gf","hf","jf","componentDidCatch","kf","this","componentStack","fg","lf","Math","ceil","mf","nf","W","X","uf","vf","wf","xf","yf","Y","Af","Bf","Cf","Df","Ef","Ff","Gf","timeoutMs","Hf","If","Z","Jf","lastExpiredTime","Kf","firstPendingTime","lastPingedTime","nextKnownPendingLevel","callbackExpirationTime","callbackPriority","callbackNode","Lf","timeout","Mf","Nf","Of","Pf","Qf","Rf","finishedWork","finishedExpirationTime","lastSuspendedTime","Sf","timeoutHandle","Tf","busyMinDurationMs","busyDelayMs","Uf","Xf","Yf","pingCache","ke","cg","$f","Fc","dg","bg","eg","gg","firstSuspendedTime","hg","ig","jg","kg","_ctor","default","ta","lg","_calculateChangedBits","unstable_observedBits","mg","og","isReactComponent","pg","qg","sg","tg","ug","vg","IsSomeRendererActing","wg","unstable_flushAllWithoutAsserting","xg","yg","random","setImmediate","MessageChannel","port1","onmessage","port2","postMessage","rg","zg","Ag","Bg","__proto__","createContainer","updateContainer","batchedEventUpdates","batchedUpdates","unbatchedUpdates","deferredUpdates","syncUpdates","discreteUpdates","flushDiscreteUpdates","Wf","flushControlled","flushSync","flushPassiveEffects","IsThisRendererActing","getPublicRootInstance","attemptSynchronousHydration","Vf","attemptUserBlockingHydration","attemptContinuousHydration","attemptHydrationAtCurrentPriority","findHostInstance","findHostInstanceWithWarning","findHostInstanceWithNoPortals","za","shouldSuspend","injectIntoDevTools","findFiberByHostInstance","__REACT_DEVTOOLS_GLOBAL_HOOK__","isDisabled","supportsFiber","inject","onCommitFiberRoot","onCommitFiberUnmount","ng","overrideHookState","overrideProps","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","act","Cg","$$$renderer","baseGetTag","isObjectLike","_extendStatics","__extends","setPrototypeOf","__","constructor","defineProperty","dummyContext","Util_1","Factory_1","Node_1","Validators_1","Global_1","PointerEvents","getDummyContext","Util","createCanvasElement","getContext","shapes","Shape","_super","config","_this","getRandomColor","colorKey","getLayer","getCanvas","getSceneFunc","attrs","sceneFunc","getHitFunc","hitFunc","hasShadow","_getCache","_hasShadow","shadowEnabled","shadowOpacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","_getFillPattern","__getFillPattern","fillPatternImage","pattern","createPattern","fillPatternRepeat","setTransform","fillPatternScaleX","fillPatternScaleY","_getLinearGradient","__getLinearGradient","colorStops","fillLinearGradientColorStops","ctx","start","fillLinearGradientStartPoint","end","fillLinearGradientEndPoint","grd","createLinearGradient","addColorStop","_getRadialGradient","__getRadialGradient","fillRadialGradientColorStops","fillRadialGradientStartPoint","fillRadialGradientEndPoint","createRadialGradient","fillRadialGradientStartRadius","fillRadialGradientEndRadius","getShadowRGBA","_getShadowRGBA","rgba","colorToRGBA","hasFill","_calculate","fillEnabled","fill","hasStroke","strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops","hasHitStroke","width","hitStrokeWidth","intersects","point","bufferHitCanvas","getStage","clear","drawHit","getImageData","round","data","Node","_useBufferCanvas","forceFill","_a","perfectDrawEnabled","isTransparent","getAbsoluteOpacity","strokeForShadow","shadowForStrokeEnabled","setStrokeHitEnabled","val","warn","getStrokeHitEnabled","getSelfRect","size","_centroid","height","getClientRect","skipTransform","relativeTo","fillRect","skipStroke","fillAndStrokeWidth","fillAndStrokeHeight","applyShadow","skipShadow","preWidth","abs","preHeight","blurRadius","roundingOffset","rect","min","_transformedRect","drawScene","can","top","bufferCanvas","bufferContext","layer","canvas","cachedCanvas","_getCanvasCache","drawFunc","caching","isCache","skipBuffer","cachingSelf","isVisible","save","getAbsoluteTransform","getMatrix","transform","_drawCachedSceneCanvas","restore","_applyLineJoin","o","ratio","pixelRatio","_applyShadow","_applyOpacity","_applyGlobalCompositeOperation","drawImage","_canvas","shouldDrawHit","hitCanvas","cachedHitCanvas","hit","log","_drawCachedHitCanvas","drawHitFromCache","alphaThreshold","hitImageData","hitData","len","rgbColorKey","i","sceneCanvas","_getCachedSceneCanvas","hitContext","hitWidth","getWidth","hitHeight","getHeight","_hexToRgb","putImageData","message","hasPointerCapture","pointerId","setPointerCapture","releaseCapture","_fillFunc","_strokeFunc","_fillFuncHit","_strokeFuncHit","nodeType","_registerNode","eventListeners","on","_clearCache","Factory","addGetterSetter","undefined","getStringOrGradientValidator","getNumberValidator","getNumberOrAutoValidator","getBooleanValidator","getStringValidator","addComponentsGetterSetter","backCompat","dashArray","getDashArray","setDashArray","getDrawFunc","setDrawFunc","drawHitFunc","getDrawHitFunc","setDrawHitFunc","Collection","mapMethods","_CoreInternals_1","Arc_1","Arrow_1","Circle_1","Ellipse_1","Image_1","Label_1","Line_1","Path_1","Rect_1","RegularPolygon_1","Ring_1","Sprite_1","Star_1","Text_1","TextPath_1","Transformer_1","Wedge_1","Blur_1","Brighten_1","Contrast_1","Emboss_1","Enhance_1","Grayscale_1","HSL_1","HSV_1","Invert_1","Kaleidoscope_1","Mask_1","Noise_1","Pixelate_1","Posterize_1","RGB_1","RGBA_1","Sepia_1","Solarize_1","Threshold_1","Konva","_assign","Arc","Arrow","Circle","Ellipse","Image","Label","Tag","Line","Path","Rect","RegularPolygon","Ring","Sprite","Star","Text","TextPath","Transformer","Wedge","Filters","Blur","Brighten","Contrast","Emboss","Enhance","Grayscale","HSL","HSV","Invert","Kaleidoscope","Mask","Noise","Pixelate","Posterize","RGB","RGBA","Sepia","Solarize","Threshold","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","anObject","aPossiblePrototype","setter","CORRECT_SETTER","test","getOwnPropertyDescriptor","proto","PI_OVER_180","PI","_detectIE","msie","indexOf","parseInt","substring","rv","edge","_parseUA","userAgent","toLowerCase","match","exec","mobile","ieMobile","browser","version","isIE","glob","global","window","WorkerGlobalScope","self","_global","isBrowser","isUnminified","param","dblClickWindow","getAngle","angle","angleDeg","enableTrace","_pointerEventsEnabled","hitOnDragEnabled","captureTouchEventsEnabled","listenClickTap","inDblClickWindow","dragDistance","showWarnings","dragButtons","isDragging","isDragReady","node","UA","navigator","document","_injectGlobal","_NODES_REGISTRY","NodeClass","getClassName","TO_STRING_TAG","wellKnownSymbol","it","TAG","STATIC","configurable","__assign","assign","s","apply","Shape_1","Group_1","Global_2","ATTR_CHANGE_LIST","map","TRANSFORM_CHANGE_STR","ANGLES","TOUCH_DEVICE","ANCHORS_NAMES","rotateAroundPoint","shape","angleRad","cos","sin","rotation","rotateAroundCenter","deltaRad","getCenter","_transforming","_createElements","_handleMouseMove","_handleMouseUp","update","getNode","attachTo","setNode","setNodes","_nodes","nodes","detach","additionalEvents","_attrsAffectingSize","prop","onChange","_resetTransformCache","_proxyDrag","findOne","lastPos","getAbsolutePosition","startDrag","dx","dy","otherNode","otherAbs","setAbsolutePosition","getNodes","getActiveAnchor","_movingAnchorName","off","_clearSelfAndDescendantCache","_getNodeRect","__getNodeRect","__getNodeShape","rot","relative","ignoreStroke","absScale","getAbsoluteScale","absPos","offsetX","offsetY","getAbsoluteRotation","totalPoints","box","points","trans","transformed","minX","minY","maxX","maxY","tr","Transform","rotate","max","invert","getX","getY","_createBack","_createAnchor","anchor","draggable","_handleMouseDown","stopDrag","cancelBubble","rad","cursor","anchorName","_degToRad","_radToDeg","_inRange","getCursor","content","style","_cursorChange","back","getParent","padding","beginPath","moveTo","rotateEnabled","lineTo","rotateAnchorOffset","_sign","fillStrokeShape","shouldOverdrawWholeArea","target","split","hypotenuse","sqrt","pow","addEventListener","ap","pos","getPointerPosition","_anchorDragOffset","_fire","evt","newHypotenuse","anchorNode","stage","setPointersPositions","pp","newNodePos","oldAbs","newAbs","keepProportion","keepRatio","shiftKey","centeredScaling","altKey","comparePoint","reverseX","reverseY","position","topLeft","bottomRight","topOffsetX","topOffsetY","bottomOffsetX","bottomOffsetY","move","_fitNodesInto","delta","atan2","newRotation","tol","rotationSnapTolerance","snaps","newRotationRad","snapped","absDiff","getSnap","rotationSnaps","_removeEvents","getTransform","removeEventListener","fire","newAttrs","oldAttrs","offset","boundBoxFunc","bounded","oldTr","translate","scale","newTr","multiply","parentTransform","localTransform","copy","newLocalTransform","decompose","setAttrs","_getRotation","batchDraw","forceUpdate","_batchChangeChild","selector","enabledAnchors","resizeEnabled","anchorSize","find","each","anchorStroke","anchorStrokeWidth","anchorFill","cornerRadius","anchorCornerRadius","visible","borderEnabled","borderStroke","borderStrokeWidth","dash","borderDash","isTransforming","stopTransform","Group","toObject","className","lineEnabled","rotateHandlerOffset","enabledHandlers","ActionCreators","ActionTypes","UNDO","REDO","JUMP_TO_FUTURE","JUMP_TO_PAST","JUMP","CLEAR_HISTORY","undo","redo","jumpToFuture","jumpToPast","jump","clearHistory","attrChangeListLen","_addListeners","_sync","getText","getTag","text","that","func","pointerDirection","pointerWidth","pointerHeight","_sceneFunc","topRight","bottomLeft","arc","closePath","direction","getNumberOrArrayOfNumbersValidator","DD","flag","_dragElements","elem","dragStatus","justDragged","_drag","nodesToFireEvents","_getFirstPointerId","_changedPointerPositions","startPointerPos","_setDragPosition","_endDragBefore","drawNode","draw","_endDragAfter","originalModule","webpackPolyfill","enumerable","DOMIterables","ArrayIteratorMethods","createNonEnumerableProperty","ITERATOR","ArrayValues","values","COLLECTION_NAME","CollectionPrototype","METHOD_NAME","innerRadius","outerRadius","numPoints","radius","setWidth","setHeight","sharedKey","CORRECT_PROTOTYPE_GETTER","IE_PROTO","ObjectPrototype","getPrototypeOf","fails","toIndexedObject","addToUnscopables","Iterators","InternalStateModule","defineIterator","setInternalState","getInternalState","getterFor","iterated","kind","Arguments","imageData","strength","embossStrength","greyLevel","embossWhiteLevel","embossDirection","blend","embossBlend","dirY","dirX","w4","otherY","offsetYOther","otherX","offsetOther","dR","dG","dB","dif","absDif","grey","afterSetFilter","Container_1","Canvas_1","DragAndDrop_1","EVENTS","eventsLength","addEvent","eventName","checkNoClip","clipFunc","clipWidth","clipHeight","stages","Stage","_pointerPositions","_buildDOM","_bindContentEvents","_resizeDOM","_checkVisibility","_validateAdd","isLayer","getType","isFastLayer","throw","display","setContainer","container","charAt","getElementsByClassName","getElementById","_setAttr","parentElement","layers","clone","obj","createElement","Container","_isInDocument","splice","_getPointerById","getPointersPositions","getContent","_toKonvaCanvas","SceneCanvas","layerCanvas","getPixelRatio","getIntersection","setSize","getLayers","getChildren","_mouseenter","currentTarget","_mouseover","_mouseout","targetShape","eventsEnabled","_fireAndBubble","pointerPos","_mousemove","_touchmove","isListening","cancelable","preventDefault","_mousedown","_touchstart","clickStartShape","_mouseup","_touchend","clickEndShape","fireDblClick","dblTimeout","_id","_contextmenu","triggeredOnShape","tapStartShape","processedShapesIds","getCapturedShape","tapEndShape","tapTriggered","dblTapTriggered","_wheel","_pointerdown","createEvent","_pointermove","_pointerup","_pointercancel","_lostpointercapture","contentPosition","_getContentPosition","event","touches","touch","identifier","clientX","left","scaleX","clientY","scaleY","changedTouches","_setPointerPosition","getBoundingClientRect","clientWidth","clientHeight","HitCanvas","innerHTML","userSelect","setAttribute","cache","clearCache","filterFunc","results","hasChildren","removeChildren","parent","remove","destroyChildren","_i","_children","_clearCaches","_generalFind","result","retArr","_descendants","valid","_isMatch","toCollection","fn","isAncestorOf","no","getAllIntersections","arr","_setChildrenIndices","cachedSceneCanvas","scene","_drawChildren","drawMethod","hasClip","selfCache","clipX","clipY","clip","hasComposition","globalCompositeOperation","selfRect","Infinity","hasVisible","_isVisible","now","performance","Date","getTime","Animation","animIdCounter","frame","time","timeDiff","lastTime","frameRate","setLayers","lays","addLayer","isRunning","animations","stop","_addAnimation","_removeAnimation","_updateFrameObject","anim","_handleAnimation","_runFrames","layersLen","layerHash","_animationLoop","Anim","requestAnimationFrame","animRunning","$","$trimStart","FORCED","forcedStringTrimMethod","trimStart","forced","trimLeft","languagesList","languages","HelmetFunc","i18n","useTranslation","langData","language","getPagePath","usePagePath","title","description","lang","rel","hrefLang","href","attr","def","validator","after","addGetter","addSetter","addOverloadedGetterSetter","method","_capitalize","overWriteSetter","components","component","capitalize","getter","ret","getAttr","basicValidator","getComponentValidator","oldVal","_fireChangeEvent","capitalizedAttr","addDeprecatedGetterSetter","methods","oldMethodName","newMethodName","oldGetter","oldSetter","deprecated","_filterUpToDate","__esModule","cancelPassiveEffects","schedulePassiveEffects","cancelTimeout","scheduleTimeout","cancelDeferredCallback","shouldYield","scheduleDeferredCallback","_HostConfigWithNoPersistence","_HostConfigWithNoHydration","_scheduler","parentInstance","_invariant2","_makeUpdates","updatePicture","internalInstanceHandle","_Core2","propsWithoutEvents","propsWithOnlyEvents","applyNodeProps","rootContainerInstance","domElement","oldProps","newProps","UPDATE_SIGNAL","NO_CONTEXT","moveToTop","beforeChild","EVENTS_NAMESPACE","textInstance","oldText","newText","updatePayload","hide","show","_interopRequireDefault","_applyProps","_remove","setZIndex","getZIndex","parseActions","rawActions","defaultValue","isHistory","history","present","future","past","includeAction","actions","excludeAction","combineFilters","_len","filters","_key","reduce","prev","curr","currentState","previousHistory","groupByActionTypes","newHistory","group","_latestUnfiltered","limit","_pixelRatio","Context_1","Canvas","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","getDevicePixelRatio","margin","border","background","setPixelRatio","previousRatio","toDataURL","mimeType","quality","err","SceneContext","HitContext","__spreadArrays","il","j","jl","tp","tension","closed","bezier","getTensionPoints","quadraticCurveTo","bezierCurveTo","strokeShape","_getTensionPoints","_getTensionPointsClosed","_expandPoints","firstControlPoints","_getControlPoints","lastControlPoints","middle","getNumberArrayValidator","objectProto","nativeObjectToString","symToStringTag","toStringTag","isOwn","unmasked","getClosestInstanceFromNode","internalInstanceKey","parentNode","inst","Animation_1","blacklist","duration","easing","onFinish","yoyo","idCounter","colorAttrs","TweenEngine","propFunc","begin","finish","_pos","_change","prevPos","_time","_position","_startTime","_finish","pause","str","handler","setTime","reverse","play","reset","setPosition","getPosition","getTimer","onEnterFrame","seek","Tween","nodeId","Easings","Linear","tween","_tweenFunc","tweens","_addAttr","onReset","onUpdate","diff","tweenId","trueEnd","trueStart","endRGBA","_isArray","_prepareArrayForTween","startRGBA","newVal","setAttr","onPlay","onReverse","onPause","thisId","to","params","BackEaseIn","BackEaseOut","BackEaseInOut","ElasticEaseIn","asin","ElasticEaseOut","ElasticEaseInOut","BounceEaseOut","BounceEaseIn","BounceEaseInOut","EaseIn","EaseOut","EaseInOut","StrongEaseIn","StrongEaseOut","StrongEaseInOut","createHiddenTextInstance","cloneUnhiddenInstance","_invariant","shim","INTERSECTION_OFFSETS","INTERSECTION_OFFSETS_LEN","Layer","_waitingForDraw","_setSmoothEnabled","createPNGStream","getHitCanvas","bounds","moveUp","moveDown","moveToBottom","imageSmoothingEnabled","requestAnimFrame","intersectionOffset","spiralSearchDistance","continueSearch","_getIntersection","findAncestor","antialiased","p3","_rgbToHex","clearBeforeDraw","enableHitGraph","hitGraphEnabled","disableHitGraph","setHitGraphEnabled","listening","getHitGraphEnabled","toggleHitCanvas","debounce","isObject","wait","options","leading","trailing","TypeError","level","threshold","_typeof","reducer","rawConfig","debug","initialState","_objectSpread","filter","groupBy","undoType","_actions","redoType","jumpToPastType","jumpToFutureType","jumpType","neverSkipReducer","ignoreInitialState","syncFilter","initTypes","_helpers","clearHistoryType","skipReducer","res","slices","_len2","_key2","createHistoryAction","createHistory","actionTypeAmongClearHistoryType","some","actionType","filtered","filteredState","groupedState","insert","_getRequireWildcardCache","newObj","hasPropertyDescriptor","desc","_interopRequireWildcard","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","_defineProperty","getOwnPropertyDescriptors","defineProperties","writable","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","lengthWithoutFuture","isHistoryOverflow","pastSliced","newPast","newPresent","newFuture","PI2","fromTension","radians","pointerLength","pointerAtBeginning","isDashEnabled","dashEnabled","setLineDash","lineRect","srcPos","dstPos","xSize","ySize","power","kaleidoscopePower","kaleidoscopeAngle","floor","tempCanvas","scratchData","src","dst","opt","srcPixels","dstPixels","xMid","polarCenterX","yMid","polarCenterY","rMax","theta","rSize","tSize","conversion","ToPolar","minSectionSize","sectionSize","xStart","xEnd","xDelta","x1","phaseShift","polarRotation","FromPolar","__DEBUG__","displayBuffer","header","msgs","colorFormat","colors","nextState","_displayBuffer","_console","_console2","_console3","_console4","_console5","groupCollapsed","groupEnd","_console6","_console7","_console8","_console9","_console10","printBuffer","args","color","$trimEnd","trimEnd","trimRight","levels","cropWidth","cropHeight","image","cropX","cropY","_hitFunc","_b","fromURL","url","img","createImageElement","onload","crossOrigin","LocalizedLink","isDefault","pathPrefix","pathIsDefault","path","pathNotDefault","pathTo","LocalizedLinkAnchor","sides","fillText","partialText","strokeText","dummyCanvas","dataArray","parsePathData","_setTextData","kerningFunc","_getContextFont","textBaseline","textDecoration","fontSize","glyphInfo","p0","strokeStyle","lineWidth","p1","getTextWidth","textWidth","getTextHeight","textHeight","setText","_getTextSize","font","metrics","measureText","letterSpacing","align","textFullWidth","fullPathWidth","pathLength","pathCmd","charArr","stringToArray","spacesNumber","pIndex","currentT","getNextPathSegment","pathData","command","findSegmentToFitCharacter","glyphWidth","currLen","attempts","cumulativePathLength","needNewSegment","getLineLength","getPointOnLine","dTheta","getPointOnEllipticalArc","getPointOnCubicBezier","getPointOnQuadraticBezier","lettersInOffset","kern","midpoint","transposeX","transposeY","info","freeGlobal","freeSelf","root","Function","Layer_1","FastLayer","DocumentTouch","maxTouchPoints","msMaxTouchPoints","didNotFindHydratableTextInstance","didNotFindHydratableInstance","didNotFindHydratableContainerTextInstance","didNotFindHydratableContainerInstance","didNotHydrateInstance","didNotHydrateContainerInstance","didNotMatchHydratedTextInstance","didNotMatchHydratedContainerTextInstance","Stage_1","FastLayer_1","Tween_1","ids","names","Context","getRawTag","objectToString","String","rx","radiusX","ry","radiusY","_extends","_classCallCheck","Constructor","_possibleConstructorReturn","ReferenceError","React","ReactFiberReconciler","ReactDOMComponentTree","HostConfig","_require","toggleStrictMode","_React$Component","subClass","superClass","_inherits","_stage","_tagRef","_setRef","_mountNode","KonvaRenderer","forwardedRef","prevProps","_this2","_ref","accessKey","role","tabIndex","TYPES","nodeName","bundleType","rendererPackageName","getInspectorDataForViewTag","StageWrap","forwardRef","__matchRectVersion","useStrictMode","red","green","blue","alpha","xBinStart","xBinEnd","yBinStart","yBinEnd","xBin","yBin","pixelsInBin","pixelSize","nBinsX","nBinsY","validateFormat","format","condition","argIndex","framesToPop","_formatValue","_isString","_isBoolean","RGBComponent","alphaComponent","_isNumber","noOfElements","isNumber","isValidArray","isString","isGradient","getFunctionValidator","_isFunction","item","nPixels","saturation","hue","vsu","vsw","rr","gr","br","symbolObservablePonyfill","observable","_removeId","_addName","_removeName","emptyChildren","_allEventListeners","_cache","_attachedDepsListeners","_lastPos","_batchingTransformChange","_needClearTransformCache","_isUnderCache","_dragEventId","_shouldFireChangeEvents","dirty","privateGetter","depsString","dep","forceEvent","isCached","conf","drawBorder","cachedFilterCanvas","sceneContext","canvasCache","cacheCanvas","filterCanvas","filterContext","evtStr","_delegate","parts","baseEvent","events","_off","dispatchEvent","stopNode","targets","findAncestors","cloneObject","subname","getAncestors","ancestors","getAttrs","_batchTransformChanges","_isListening","layerUnderDrag","dragSkip","getAbsoluteZIndex","depth","getDepth","addChildren","toArray","haveCachedParent","absoluteMatrix","absoluteTransform","getTranslation","origTrans","_clearTransform","_getAbsoluteTransform","_setTransform","skewX","skewY","change","changeX","changeY","_eachAncestorReverse","family","unshift","zIndex","_getAbsoluteOpacity","absOpacity","opacity","newContainer","_isPlainObject","_prepareToStringify","toJSON","JSON","stringify","includeSelf","ancestor","sel","selectorArr","isValidSelector","hasName","_getStage","eventType","bubble","at","transformsEnabled","copyInto","_getTransform","skew","allListeners","listener","toCanvas","toImage","_urlToImage","getSize","getDragDistance","evtName","evtListeners","setId","oldId","_addId","setName","oldNames","newNames","addName","oldName","newName","fullName","removeName","skipFire","_setComponentAttr","compareShape","stopBubble","_getListeners","totalEvents","_createDragElement","bubbleEvent","dbf","dragBoundFunc","setDraggable","_dragChange","_listenDrag","_dragCleanup","hasDraggingChild","dragElement","isReady","parse","_createNode","Class","rotateDeg","setRotationDeg","getRotationDeg","string","checkDefaultFill","_partialTextX","_partialTextY","lineHeightPx","lineHeight","textArr","textArrLen","verticalAlign","alignY","totalWidth","shouldUnderline","shouldLineThrough","translateY","lineTranslateX","lineTranslateY","oneWord","lastLine","array","li","letter","_partialText","measureSize","fontStyle","fontFamily","fontVariant","hasSpace","trim","hasQuotes","_addTextLine","line","_getTextWidth","lines","fixedWidth","fixedHeight","maxWidth","maxHeightPx","currentHeightPx","wrap","shouldWrap","wrapAtWord","shouldAddEllipsis","ellipsis","additionalWidth","low","high","matchWidth","mid","substr","substrWidth","wrapIndex","nextChar","lastIndexOf","getStrokeScaleEnabled","requireObjectCoercible","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","ReactKonvaCore","deprecate","paths","EMPTY_PROPS","zIndexWarningShowed","Z_INDEX_WARNING","dragWarningShowed","hasPosition","hasEvents","onDragEnd","onDragMove","DRAGGABLE_WARNING","propsToSkip","isEvent","propChanged","toUpperCase","toRemove","strictUpdate","_useStrictMode","updatedProps","hasUpdates","newEvents","toAdd","unstable_applyCache","unstable_applyDrawHitFromCache","drawingNode","brightness","_reducer","Captures","SUPPORT_POINTER_EVENTS","PointerEvent","createIteratorConstructor","setToStringTag","redefine","IS_PURE","IteratorsCore","IteratorPrototype","BUGGY_SAFARI_ITERATORS","returnThis","Iterable","NAME","IteratorConstructor","DEFAULT","IS_SET","CurrentIteratorPrototype","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","clockwise","isClosed","cx","cy","psi","fs","inc","isNaN","getLength","getPointAtLength","ii","cp","y1","x2","y2","dist","P1x","P1y","P2x","P2y","fromX","fromY","run","pt","rise","ix","iy","pRise","pRun","pct","P3x","P3y","P4x","P4y","CB1","CB2","CB3","CB4","QB1","QB2","QB3","cosPsi","sinPsi","cs","coords","cpx","cpy","jlen","parsed","parseFloat","prevCmd","ctlPtx","ctlPty","cmd","startX","startY","shift","idx","convertEndpointToCenterParameterization","calcLength","p2","psiDeg","xp","yp","lambda","cxp","cyp","vMag","vRatio","vAngle","acos","luminance","pixelAt","idata","rgbDistance","mask","rgbv_no","rgbv_ne","rgbv_so","rgbv_se","thres","mean","pTab","rgbMean","backgroundMask","applyMask","sw","sh","weights","side","halfSide","maskResult","so","scy","scx","wt","smoothEdgeMask","dilateMask","erodeMask","getAngleDeg","setAngleDeg","collection","_mapMethod","methodName","prot","sx","sy","m11","m12","m21","m22","matrix","m0","m1","m2","m3","m4","m5","yt","xt","PI_OVER_DEG180","DEG180_OVER_PI","COLORS","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","transparent","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","RGB_REGEX","animQueue","_isElement","isFinite","firstChar","number","el","_simplifyArray","util","imageObj","hex","bigint","randColor","getRGB","rgb","_namedColorToRBA","_hex3ColorToRGBA","_hex6ColorToRGBA","_rgbColorToRGBA","_rgbaColorToRGBA","_hslColorToRGBA","Number","hsl","t2","t3","t1","haveIntersection","r1","r2","retObj","cloneArray","deg","extend","Ctor","oldProto","__super__","super","x0","y0","d01","d12","allPoints","right","_getProjectionToSegment","x3","y3","pd2","_getProjectionToLine","MAX_VALUE","proj","px","py","pdist","startArray","endArray","temp","newStart","pr","visitedByCircularReferenceRemoval","createPropertyDescriptor","_updated","updated","frameIndex","clearInterval","interval","_setInterval","animation","ix4","offsets","frameOffsets","ix2","fillShape","setInterval","_updateIndex","getIndex","setIndex","unstable_forceFrameRate","cancelAnimationFrame","pop","sortIndex","V","startTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","delay","unstable_wrapCallback","PrototypeOfArrayIteratorPrototype","arrayIterator","toNumber","nativeMax","nativeMin","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","cancel","flush","isSymbol","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","other","valueOf","isBinary","amount","noise","half","remap","fromValue","fromMin","fromMax","toMin","toMax","fromRange","toRange","nSubPixels","rMin","gMin","gMax","bMin","bMax","enhanceAmount","enhance","rMid","rGoalMax","rGoalMin","gMid","gGoalMax","gGoalMin","bMid","bGoalMax","bGoalMin","BlurStack","mul_table","shg_table","yi","yw","r_sum","g_sum","b_sum","a_sum","r_out_sum","g_out_sum","b_out_sum","a_out_sum","r_in_sum","g_in_sum","b_in_sum","a_in_sum","rbs","pixels","div","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","stackEnd","stackIn","stackOut","mul_sum","shg_sum","filterGaussBlurRGBA","PIx2","adjust","contrast","ReactReduxContext","createContext","nullListeners","notify","createListenerCollection","batch","first","listeners","subscribe","isSubscribed","Subscription","store","parentSub","unsubscribe","handleChangeWrapper","_proto","addNestedSub","trySubscribe","notifyNestedSubs","onStateChange","Boolean","tryUnsubscribe","contextValue","subscription","previousState","getState","Provider","useIsomorphicLayoutEffect","randomString","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","createStore","preloadedState","enhancer","_ref2","currentReducer","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","replaceReducer","nextReducer","outerSubscribe","observer","observeState","getUndefinedStateErrorMessage","createStoreHook","useReduxContext","createDispatchHook","useStore","useDispatch","refEquality","createSelectorHook","equalityFn","_useReduxContext","selectedState","contextSub","forceRender","latestSubscriptionCallbackError","latestSelector","latestStoreState","latestSelectedState","storeState","checkForUpdates","newSelectedState","useSelectorWithStoreAndSubscription","newBatch","reduxApp","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","hasChanged","previousStateForKey","nextStateForKey","errorMessage","combineReducers","elements","undoable","persistedState","serializedState","localStorage","getItem","loadState","throtle","setItem","saveState","light","backgroundColors","formPromo","bgColor","dark","bgColorHover","overlayColor","Pointer","getDistance","minDelta","_useState","_useState2","_useState3","_useState4","_e","_f","_g","stopPropagation","pointers","distance","_e2","deltaX","deltaY","_e3","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","rng","uuid","byteToHex","buf","rnds","Portal","renderPortal","ReactDOM","unmountComponentAtNode","defaultNode","body","cloneElement","accentDark","Wall","isInProgres","setCursor","selected","setSelected","currentTool","cursorStyle","lockedContur","cursorElement","currentStroke","onMouseOver","tools","heater","vent","tube","aperture","apertureDoor","balconyDoor","onMouseOut","onTouchStart","onClick","lineCap","lineJoin","MainDoor","Aperture","isApertureWindow","Battery","Vent","Tube","BalconyDoor","balconyType","getElements","statePastElements","stateFutureElements","Input","styled","input","span","Wrapper","Unit","NumberInput","placeholder","setInputValue","inputMode","LineEditorContainer","form","InputSubmit","button","Title","InputWraper","displayWidth","tablet","ButtonDirection","active","LockButton","Desktop","Mobile","WallTool","toolEditorContainerNode","setElementDirection","elementDirection","dragableState","setCenteringState","startPoint","setCurrentTool","inputEl","sizeInputValue","setSizeInputValue","lastDoorElement","objectType","lastWall","mainDoor","handleChangeSizeInput","stateElements","useSelector","elementsToDetermineContinuePointFrom","wall","isApertureWall","lastElementInState","elementToStartWallFrom","renderCurrentDirection","doorElements","selectInputText","isTouchDevice","select","theme","onSubmit","MainDoorEditorContainer","LineS","MainDoorTool","MainDoorWidthInputValue","setMainDoorWidthInputValue","MainDoorDepthInputValue","setMainDoorDepthInputValue","MainDoorHeigthInputValue","setMainDoorHeigthInputValue","getSelectedWallLength","calculateDefaultIndent","selectedLine","balcony","ApertureEditorContainer","ApertureTool","setStartPoint","setWallDirection","selectedWallLength","leftIndent","setLeftIndent","rightIndent","setRightIndent","defaultIndent","apertureDepth","setApertureDepth","apertureNicheDepth","setApertureNicheDepth","apertureHeigthTop","setApertureHeigthTop","apertureHeigthBottom","setApertureHeigthBottom","getCurrentAperturePoints","BatteryTool","setDepth","getCurrentBatteryPoints","VentTool","switchDirection","setSwitchDirection","indent","setIndent","getCurrentVentPoints","InputWraperWide","TubeTool","indentMine","setIndentMine","indentSide","setIndentSide","diameter","setDiameter","getCurrentTubePoints","WrapperBlock","disabled","Button","BalconyDoorTool","inputWindowNumber","setInputWindowNumber","setBalconyType","outsideWidth","setOutsideWidth","doorWidth","setDoorWidth","doorHeigthBottom","setDoorHeigthBottom","outsideDepth","setOutsideDepth","balconyT","outsideIndent","currentBalconyDoorPoints","isWall","isTube","isMainDoor","isAperture","isApertureDoor","isHeater","isVent","isBalconyDoor","CanvasContainer","setCanvasScale","centeringState","setDragableState","containerRef","canvasSize","setcanvasSize","handleResize","useGestures","onPinchChanged","renderCurrentTool","H3","h3","Ul","ul","Li","email","IntroductionContentEN","IntroductionContentUK","IntroductionContentRU","CadWrapper","SubTitle","HeroColumn","TitleStyled","desktop","InstructionColumn","Img","ContainerS","IntroductionContentContainer","ExitButton","Instruction","closeFunction","IntroductionContent","introductionContent","useStaticQuery","cadYaml","getDataByLanguage","allCadYaml","subTitle","imageFluid","getImageByImageName","allImageSharp","columns","tabletColumns","fluid","toDxfStringLine","toDxfStringAperture","itIsDoor","ModalWraper","ModalContainer","SaveNameLabel","label","SaveNameInput","WarningContainer","section","WarningIcon","ISvg","WarningHeader","h2","WarningMessage","Div","SaveButton","CancelButton","ButtonWrapper","SaveModal","setShouldShowSaveModal","isConturLocked","onClose","date","formatDate","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","dfxElementsArray","toDxfStringTube","vector1","vector2","vector3","toDxfStringDoor","toDxfStringBattery","toDxfStringVent","toDxfStringBalconyDoor","saveName","setSaveName","handleDownloadClick","filename","elementDxf","click","sendEvent","eventCategory","placement","CloseIconStyled","CloseIcon","FeedbackModal","Form","FeedbackText","textarea","SubmitButton","FeedbackForm","feedbackContent","setFeedbackContent","isFormSent","setIsFormSent","handleFormSubmit","ga","WorkplaceStyled","LeftTopTools","RightTopTools","ToolEditorContainer","StartWindow","ClearWindow","OrietationScreen","Ask","ButtonConf","ButtonCanc","Hint","ButtonStyled","disable","ButtonTools","ButtonMobileHidden","ButtonGroupStyled","showTools","ButtonS","LineEditorContainerAskWrapper","LineEditorContainerAsk","StartText","getDirection","Workplace","shouldShowAskModal","setShouldShowAskModal","shouldShowSaveModal","shouldShowFeedbackModal","setShouldShowFeedbackModal","stateElementsPast","stateElementsFuture","showInstruction","setShowInstruction","canvasScale","setShowTools","setToolEditorContainerNode","toolEditorContainerRef","shouldShowContinueModal","getPointToContinueFrom","elementToContinueFrom","mainDoorElement","apertureDoorElements","balconyDoorElements","lastBalconyDoorElement","lastPoint","isDoorAdded","disable1","disable2","onWheel","currentAperturePoints","currentToolName","futureObjectType","LanguageList","headerHeight","cadMobile","open","css","cadDesctop","IconStyled","ShevronIcon","FakeLink","LinkStyled","Link","activeClassName","LangItem","LanguageSwitcherCad","isOpen","setIsOpen","langLabel","ButtonArea","LogoSvg","LogoSwg","Logo","AppHeaderContainer","Banner","AppHeader","windowRef","windowWidth","setWindowWidth","pageMetadata","uk","ru","en","AppStyled","CadPage","shouldRender","setShouldRender","CONTEXT_METHODS","traceArr","_enableTrace","_fill","_stroke","getTrace","relaxed","trace","property","clearTrace","_trace","clearRect","_applyLineCap","getLineCap","a0","a1","a2","a3","a4","a5","arcTo","createImageData","a6","a7","a8","ellipse","isPointInPath","strokeRect","getLineDash","origSetter","origMethod","getGlobalCompositeOperation","_fillColor","_fillPattern","fillPatternX","getFillPatternX","fillPatternY","getFillPatternY","fillPatternRotation","getFillPatternRotation","fillPatternOffsetX","getFillPatternOffsetX","fillPatternOffsetY","getFillPatternOffsetY","getFillPatternScaleX","getFillPatternScaleY","_fillLinearGradient","_fillRadialGradient","hasColor","fillPriority","getFillPriority","hasPattern","getFillPatternImage","hasLinearGradient","getFillLinearGradientColorStops","hasRadialGradient","getFillRadialGradientColorStops","_strokeLinearGradient","getStrokeLinearGradientStartPoint","getStrokeLinearGradientEndPoint","getStrokeLinearGradientColorStops","strokeScaleEnabled","dashOffset","getShadowForStrokeEnabled","blur","getShadowBlur","getShadowOffset","whitespaces"],"mappings":"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,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACnwCC,EAAY,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,G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","file":"component---src-pages-cad-tsx-d0b08f8a10db9bce4698.js","sourcesContent":["/** @license React v0.25.1\n * react-reconciler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nmodule.exports = function $$$reconciler($$$hostConfig) {\n  'use strict';\n\n  var aa = require(\"object-assign\"),\n      ba = require(\"react\"),\n      m = require(\"scheduler\");\n\n  function n(a) {\n    for (var b = \"https://reactjs.org/docs/error-decoder.html?invariant=\" + a, c = 1; c < arguments.length; c++) {\n      b += \"&args[]=\" + encodeURIComponent(arguments[c]);\n    }\n\n    return \"Minified React error #\" + a + \"; visit \" + b + \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\";\n  }\n\n  var p = ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  p.hasOwnProperty(\"ReactCurrentDispatcher\") || (p.ReactCurrentDispatcher = {\n    current: null\n  });\n  p.hasOwnProperty(\"ReactCurrentBatchConfig\") || (p.ReactCurrentBatchConfig = {\n    suspense: null\n  });\n  var u = \"function\" === typeof Symbol && Symbol.for,\n      ca = u ? Symbol.for(\"react.element\") : 60103,\n      da = u ? Symbol.for(\"react.portal\") : 60106,\n      ea = u ? Symbol.for(\"react.fragment\") : 60107,\n      fa = u ? Symbol.for(\"react.strict_mode\") : 60108,\n      ha = u ? Symbol.for(\"react.profiler\") : 60114,\n      ia = u ? Symbol.for(\"react.provider\") : 60109,\n      ja = u ? Symbol.for(\"react.context\") : 60110,\n      ka = u ? Symbol.for(\"react.concurrent_mode\") : 60111,\n      la = u ? Symbol.for(\"react.forward_ref\") : 60112,\n      ma = u ? Symbol.for(\"react.suspense\") : 60113,\n      na = u ? Symbol.for(\"react.suspense_list\") : 60120,\n      oa = u ? Symbol.for(\"react.memo\") : 60115,\n      pa = u ? Symbol.for(\"react.lazy\") : 60116,\n      qa = u ? Symbol.for(\"react.block\") : 60121,\n      ra = \"function\" === typeof Symbol && Symbol.iterator;\n\n  function sa(a) {\n    if (null === a || \"object\" !== typeof a) return null;\n    a = ra && a[ra] || a[\"@@iterator\"];\n    return \"function\" === typeof a ? a : null;\n  }\n\n  function ta(a) {\n    if (-1 === a._status) {\n      a._status = 0;\n      var b = a._ctor;\n      b = b();\n      a._result = b;\n      b.then(function (b) {\n        0 === a._status && (b = b.default, a._status = 1, a._result = b);\n      }, function (b) {\n        0 === a._status && (a._status = 2, a._result = b);\n      });\n    }\n  }\n\n  function ua(a) {\n    if (null == a) return null;\n    if (\"function\" === typeof a) return a.displayName || a.name || null;\n    if (\"string\" === typeof a) return a;\n\n    switch (a) {\n      case ea:\n        return \"Fragment\";\n\n      case da:\n        return \"Portal\";\n\n      case ha:\n        return \"Profiler\";\n\n      case fa:\n        return \"StrictMode\";\n\n      case ma:\n        return \"Suspense\";\n\n      case na:\n        return \"SuspenseList\";\n    }\n\n    if (\"object\" === typeof a) switch (a.$$typeof) {\n      case ja:\n        return \"Context.Consumer\";\n\n      case ia:\n        return \"Context.Provider\";\n\n      case la:\n        var b = a.render;\n        b = b.displayName || b.name || \"\";\n        return a.displayName || (\"\" !== b ? \"ForwardRef(\" + b + \")\" : \"ForwardRef\");\n\n      case oa:\n        return ua(a.type);\n\n      case qa:\n        return ua(a.render);\n\n      case pa:\n        if (a = 1 === a._status ? a._result : null) return ua(a);\n    }\n    return null;\n  }\n\n  function va(a) {\n    var b = a,\n        c = a;\n    if (a.alternate) for (; b.return;) {\n      b = b.return;\n    } else {\n      a = b;\n\n      do {\n        b = a, 0 !== (b.effectTag & 1026) && (c = b.return), a = b.return;\n      } while (a);\n    }\n    return 3 === b.tag ? c : null;\n  }\n\n  function wa(a) {\n    if (va(a) !== a) throw Error(n(188));\n  }\n\n  function xa(a) {\n    var b = a.alternate;\n\n    if (!b) {\n      b = va(a);\n      if (null === b) throw Error(n(188));\n      return b !== a ? null : a;\n    }\n\n    for (var c = a, d = b;;) {\n      var e = c.return;\n      if (null === e) break;\n      var f = e.alternate;\n\n      if (null === f) {\n        d = e.return;\n\n        if (null !== d) {\n          c = d;\n          continue;\n        }\n\n        break;\n      }\n\n      if (e.child === f.child) {\n        for (f = e.child; f;) {\n          if (f === c) return wa(e), a;\n          if (f === d) return wa(e), b;\n          f = f.sibling;\n        }\n\n        throw Error(n(188));\n      }\n\n      if (c.return !== d.return) c = e, d = f;else {\n        for (var g = !1, h = e.child; h;) {\n          if (h === c) {\n            g = !0;\n            c = e;\n            d = f;\n            break;\n          }\n\n          if (h === d) {\n            g = !0;\n            d = e;\n            c = f;\n            break;\n          }\n\n          h = h.sibling;\n        }\n\n        if (!g) {\n          for (h = f.child; h;) {\n            if (h === c) {\n              g = !0;\n              c = f;\n              d = e;\n              break;\n            }\n\n            if (h === d) {\n              g = !0;\n              d = f;\n              c = e;\n              break;\n            }\n\n            h = h.sibling;\n          }\n\n          if (!g) throw Error(n(189));\n        }\n      }\n      if (c.alternate !== d) throw Error(n(190));\n    }\n\n    if (3 !== c.tag) throw Error(n(188));\n    return c.stateNode.current === c ? a : b;\n  }\n\n  function ya(a) {\n    a = xa(a);\n    if (!a) return null;\n\n    for (var b = a;;) {\n      if (5 === b.tag || 6 === b.tag) return b;\n      if (b.child) b.child.return = b, b = b.child;else {\n        if (b === a) break;\n\n        for (; !b.sibling;) {\n          if (!b.return || b.return === a) return null;\n          b = b.return;\n        }\n\n        b.sibling.return = b.return;\n        b = b.sibling;\n      }\n    }\n\n    return null;\n  }\n\n  function za(a) {\n    a = xa(a);\n    if (!a) return null;\n\n    for (var b = a;;) {\n      if (5 === b.tag || 6 === b.tag) return b;\n      if (b.child && 4 !== b.tag) b.child.return = b, b = b.child;else {\n        if (b === a) break;\n\n        for (; !b.sibling;) {\n          if (!b.return || b.return === a) return null;\n          b = b.return;\n        }\n\n        b.sibling.return = b.return;\n        b = b.sibling;\n      }\n    }\n\n    return null;\n  }\n\n  var Aa = $$$hostConfig.getPublicInstance,\n      Ba = $$$hostConfig.getRootHostContext,\n      Ca = $$$hostConfig.getChildHostContext,\n      Da = $$$hostConfig.prepareForCommit,\n      Ea = $$$hostConfig.resetAfterCommit,\n      Fa = $$$hostConfig.createInstance,\n      Ga = $$$hostConfig.appendInitialChild,\n      Ha = $$$hostConfig.finalizeInitialChildren,\n      Ia = $$$hostConfig.prepareUpdate,\n      Ja = $$$hostConfig.shouldSetTextContent,\n      Ka = $$$hostConfig.shouldDeprioritizeSubtree,\n      La = $$$hostConfig.createTextInstance,\n      Ma = $$$hostConfig.setTimeout,\n      Na = $$$hostConfig.clearTimeout,\n      Oa = $$$hostConfig.noTimeout,\n      Pa = $$$hostConfig.isPrimaryRenderer,\n      Qa = $$$hostConfig.supportsMutation,\n      Ra = $$$hostConfig.supportsPersistence,\n      Sa = $$$hostConfig.supportsHydration,\n      Ta = $$$hostConfig.appendChild,\n      Ua = $$$hostConfig.appendChildToContainer,\n      Va = $$$hostConfig.commitTextUpdate,\n      Wa = $$$hostConfig.commitMount,\n      Xa = $$$hostConfig.commitUpdate,\n      Ya = $$$hostConfig.insertBefore,\n      Za = $$$hostConfig.insertInContainerBefore,\n      $a = $$$hostConfig.removeChild,\n      ab = $$$hostConfig.removeChildFromContainer,\n      bb = $$$hostConfig.resetTextContent,\n      cb = $$$hostConfig.hideInstance,\n      db = $$$hostConfig.hideTextInstance,\n      eb = $$$hostConfig.unhideInstance,\n      fb = $$$hostConfig.unhideTextInstance,\n      gb = $$$hostConfig.cloneInstance,\n      hb = $$$hostConfig.createContainerChildSet,\n      ib = $$$hostConfig.appendChildToContainerChildSet,\n      jb = $$$hostConfig.finalizeContainerChildren,\n      kb = $$$hostConfig.replaceContainerChildren,\n      lb = $$$hostConfig.cloneHiddenInstance,\n      mb = $$$hostConfig.cloneHiddenTextInstance,\n      nb = $$$hostConfig.canHydrateInstance,\n      ob = $$$hostConfig.canHydrateTextInstance,\n      pb = $$$hostConfig.isSuspenseInstancePending,\n      qb = $$$hostConfig.isSuspenseInstanceFallback,\n      rb = $$$hostConfig.getNextHydratableSibling,\n      sb = $$$hostConfig.getFirstHydratableChild,\n      tb = $$$hostConfig.hydrateInstance,\n      ub = $$$hostConfig.hydrateTextInstance,\n      vb = $$$hostConfig.getNextHydratableInstanceAfterSuspenseInstance,\n      wb = $$$hostConfig.commitHydratedContainer,\n      xb = $$$hostConfig.commitHydratedSuspenseInstance,\n      yb = /^(.*)[\\\\\\/]/;\n\n  function zb(a) {\n    var b = \"\";\n\n    do {\n      a: switch (a.tag) {\n        case 3:\n        case 4:\n        case 6:\n        case 7:\n        case 10:\n        case 9:\n          var c = \"\";\n          break a;\n\n        default:\n          var d = a._debugOwner,\n              e = a._debugSource,\n              f = ua(a.type);\n          c = null;\n          d && (c = ua(d.type));\n          d = f;\n          f = \"\";\n          e ? f = \" (at \" + e.fileName.replace(yb, \"\") + \":\" + e.lineNumber + \")\" : c && (f = \" (created by \" + c + \")\");\n          c = \"\\n    in \" + (d || \"Unknown\") + f;\n      }\n\n      b += c;\n      a = a.return;\n    } while (a);\n\n    return b;\n  }\n\n  var Ab = [],\n      Bb = -1;\n\n  function B(a) {\n    0 > Bb || (a.current = Ab[Bb], Ab[Bb] = null, Bb--);\n  }\n\n  function C(a, b) {\n    Bb++;\n    Ab[Bb] = a.current;\n    a.current = b;\n  }\n\n  var Cb = {},\n      D = {\n    current: Cb\n  },\n      E = {\n    current: !1\n  },\n      Db = Cb;\n\n  function Eb(a, b) {\n    var c = a.type.contextTypes;\n    if (!c) return Cb;\n    var d = a.stateNode;\n    if (d && d.__reactInternalMemoizedUnmaskedChildContext === b) return d.__reactInternalMemoizedMaskedChildContext;\n    var e = {},\n        f;\n\n    for (f in c) {\n      e[f] = b[f];\n    }\n\n    d && (a = a.stateNode, a.__reactInternalMemoizedUnmaskedChildContext = b, a.__reactInternalMemoizedMaskedChildContext = e);\n    return e;\n  }\n\n  function F(a) {\n    a = a.childContextTypes;\n    return null !== a && void 0 !== a;\n  }\n\n  function Fb() {\n    B(E);\n    B(D);\n  }\n\n  function Gb(a, b, c) {\n    if (D.current !== Cb) throw Error(n(168));\n    C(D, b);\n    C(E, c);\n  }\n\n  function Hb(a, b, c) {\n    var d = a.stateNode;\n    a = b.childContextTypes;\n    if (\"function\" !== typeof d.getChildContext) return c;\n    d = d.getChildContext();\n\n    for (var e in d) {\n      if (!(e in a)) throw Error(n(108, ua(b) || \"Unknown\", e));\n    }\n\n    return aa({}, c, {}, d);\n  }\n\n  function Ib(a) {\n    a = (a = a.stateNode) && a.__reactInternalMemoizedMergedChildContext || Cb;\n    Db = D.current;\n    C(D, a);\n    C(E, E.current);\n    return !0;\n  }\n\n  function Jb(a, b, c) {\n    var d = a.stateNode;\n    if (!d) throw Error(n(169));\n    c ? (a = Hb(a, b, Db), d.__reactInternalMemoizedMergedChildContext = a, B(E), B(D), C(D, a)) : B(E);\n    C(E, c);\n  }\n\n  var Kb = m.unstable_runWithPriority,\n      Lb = m.unstable_scheduleCallback,\n      Mb = m.unstable_cancelCallback,\n      Nb = m.unstable_requestPaint,\n      Ob = m.unstable_now,\n      Pb = m.unstable_getCurrentPriorityLevel,\n      Qb = m.unstable_ImmediatePriority,\n      Rb = m.unstable_UserBlockingPriority,\n      Sb = m.unstable_NormalPriority,\n      Tb = m.unstable_LowPriority,\n      Ub = m.unstable_IdlePriority,\n      Vb = {},\n      Wb = m.unstable_shouldYield,\n      Xb = void 0 !== Nb ? Nb : function () {},\n      Yb = null,\n      Zb = null,\n      $b = !1,\n      ac = Ob(),\n      G = 1E4 > ac ? Ob : function () {\n    return Ob() - ac;\n  };\n\n  function bc() {\n    switch (Pb()) {\n      case Qb:\n        return 99;\n\n      case Rb:\n        return 98;\n\n      case Sb:\n        return 97;\n\n      case Tb:\n        return 96;\n\n      case Ub:\n        return 95;\n\n      default:\n        throw Error(n(332));\n    }\n  }\n\n  function cc(a) {\n    switch (a) {\n      case 99:\n        return Qb;\n\n      case 98:\n        return Rb;\n\n      case 97:\n        return Sb;\n\n      case 96:\n        return Tb;\n\n      case 95:\n        return Ub;\n\n      default:\n        throw Error(n(332));\n    }\n  }\n\n  function dc(a, b) {\n    a = cc(a);\n    return Kb(a, b);\n  }\n\n  function ec(a, b, c) {\n    a = cc(a);\n    return Lb(a, b, c);\n  }\n\n  function fc(a) {\n    null === Yb ? (Yb = [a], Zb = Lb(Qb, gc)) : Yb.push(a);\n    return Vb;\n  }\n\n  function H() {\n    if (null !== Zb) {\n      var a = Zb;\n      Zb = null;\n      Mb(a);\n    }\n\n    gc();\n  }\n\n  function gc() {\n    if (!$b && null !== Yb) {\n      $b = !0;\n      var a = 0;\n\n      try {\n        var b = Yb;\n        dc(99, function () {\n          for (; a < b.length; a++) {\n            var c = b[a];\n\n            do {\n              c = c(!0);\n            } while (null !== c);\n          }\n        });\n        Yb = null;\n      } catch (c) {\n        throw null !== Yb && (Yb = Yb.slice(a + 1)), Lb(Qb, H), c;\n      } finally {\n        $b = !1;\n      }\n    }\n  }\n\n  function hc(a, b, c) {\n    c /= 10;\n    return 1073741821 - (((1073741821 - a + b / 10) / c | 0) + 1) * c;\n  }\n\n  function ic(a, b) {\n    return a === b && (0 !== a || 1 / a === 1 / b) || a !== a && b !== b;\n  }\n\n  var jc = \"function\" === typeof Object.is ? Object.is : ic,\n      kc = Object.prototype.hasOwnProperty;\n\n  function lc(a, b) {\n    if (jc(a, b)) return !0;\n    if (\"object\" !== typeof a || null === a || \"object\" !== typeof b || null === b) return !1;\n    var c = Object.keys(a),\n        d = Object.keys(b);\n    if (c.length !== d.length) return !1;\n\n    for (d = 0; d < c.length; d++) {\n      if (!kc.call(b, c[d]) || !jc(a[c[d]], b[c[d]])) return !1;\n    }\n\n    return !0;\n  }\n\n  function mc(a, b) {\n    if (a && a.defaultProps) {\n      b = aa({}, b);\n      a = a.defaultProps;\n\n      for (var c in a) {\n        void 0 === b[c] && (b[c] = a[c]);\n      }\n    }\n\n    return b;\n  }\n\n  var nc = {\n    current: null\n  },\n      oc = null,\n      pc = null,\n      qc = null;\n\n  function rc() {\n    qc = pc = oc = null;\n  }\n\n  function sc(a, b) {\n    a = a.type._context;\n    Pa ? (C(nc, a._currentValue), a._currentValue = b) : (C(nc, a._currentValue2), a._currentValue2 = b);\n  }\n\n  function tc(a) {\n    var b = nc.current;\n    B(nc);\n    a = a.type._context;\n    Pa ? a._currentValue = b : a._currentValue2 = b;\n  }\n\n  function uc(a, b) {\n    for (; null !== a;) {\n      var c = a.alternate;\n      if (a.childExpirationTime < b) a.childExpirationTime = b, null !== c && c.childExpirationTime < b && (c.childExpirationTime = b);else if (null !== c && c.childExpirationTime < b) c.childExpirationTime = b;else break;\n      a = a.return;\n    }\n  }\n\n  function vc(a, b) {\n    oc = a;\n    qc = pc = null;\n    a = a.dependencies;\n    null !== a && null !== a.firstContext && (a.expirationTime >= b && (wc = !0), a.firstContext = null);\n  }\n\n  function I(a, b) {\n    if (qc !== a && !1 !== b && 0 !== b) {\n      if (\"number\" !== typeof b || 1073741823 === b) qc = a, b = 1073741823;\n      b = {\n        context: a,\n        observedBits: b,\n        next: null\n      };\n\n      if (null === pc) {\n        if (null === oc) throw Error(n(308));\n        pc = b;\n        oc.dependencies = {\n          expirationTime: 0,\n          firstContext: b,\n          responders: null\n        };\n      } else pc = pc.next = b;\n    }\n\n    return Pa ? a._currentValue : a._currentValue2;\n  }\n\n  var xc = !1;\n\n  function yc(a) {\n    a.updateQueue = {\n      baseState: a.memoizedState,\n      baseQueue: null,\n      shared: {\n        pending: null\n      },\n      effects: null\n    };\n  }\n\n  function zc(a, b) {\n    a = a.updateQueue;\n    b.updateQueue === a && (b.updateQueue = {\n      baseState: a.baseState,\n      baseQueue: a.baseQueue,\n      shared: a.shared,\n      effects: a.effects\n    });\n  }\n\n  function Ac(a, b) {\n    a = {\n      expirationTime: a,\n      suspenseConfig: b,\n      tag: 0,\n      payload: null,\n      callback: null,\n      next: null\n    };\n    return a.next = a;\n  }\n\n  function Bc(a, b) {\n    a = a.updateQueue;\n\n    if (null !== a) {\n      a = a.shared;\n      var c = a.pending;\n      null === c ? b.next = b : (b.next = c.next, c.next = b);\n      a.pending = b;\n    }\n  }\n\n  function Cc(a, b) {\n    var c = a.alternate;\n    null !== c && zc(c, a);\n    a = a.updateQueue;\n    c = a.baseQueue;\n    null === c ? (a.baseQueue = b.next = b, b.next = b) : (b.next = c.next, c.next = b);\n  }\n\n  function Dc(a, b, c, d) {\n    var e = a.updateQueue;\n    xc = !1;\n    var f = e.baseQueue,\n        g = e.shared.pending;\n\n    if (null !== g) {\n      if (null !== f) {\n        var h = f.next;\n        f.next = g.next;\n        g.next = h;\n      }\n\n      f = g;\n      e.shared.pending = null;\n      h = a.alternate;\n      null !== h && (h = h.updateQueue, null !== h && (h.baseQueue = g));\n    }\n\n    if (null !== f) {\n      h = f.next;\n      var k = e.baseState,\n          l = 0,\n          q = null,\n          r = null,\n          w = null;\n\n      if (null !== h) {\n        var z = h;\n\n        do {\n          g = z.expirationTime;\n\n          if (g < d) {\n            var Q = {\n              expirationTime: z.expirationTime,\n              suspenseConfig: z.suspenseConfig,\n              tag: z.tag,\n              payload: z.payload,\n              callback: z.callback,\n              next: null\n            };\n            null === w ? (r = w = Q, q = k) : w = w.next = Q;\n            g > l && (l = g);\n          } else {\n            null !== w && (w = w.next = {\n              expirationTime: 1073741823,\n              suspenseConfig: z.suspenseConfig,\n              tag: z.tag,\n              payload: z.payload,\n              callback: z.callback,\n              next: null\n            });\n            Ec(g, z.suspenseConfig);\n\n            a: {\n              var A = a,\n                  v = z;\n              g = b;\n              Q = c;\n\n              switch (v.tag) {\n                case 1:\n                  A = v.payload;\n\n                  if (\"function\" === typeof A) {\n                    k = A.call(Q, k, g);\n                    break a;\n                  }\n\n                  k = A;\n                  break a;\n\n                case 3:\n                  A.effectTag = A.effectTag & -4097 | 64;\n\n                case 0:\n                  A = v.payload;\n                  g = \"function\" === typeof A ? A.call(Q, k, g) : A;\n                  if (null === g || void 0 === g) break a;\n                  k = aa({}, k, g);\n                  break a;\n\n                case 2:\n                  xc = !0;\n              }\n            }\n\n            null !== z.callback && (a.effectTag |= 32, g = e.effects, null === g ? e.effects = [z] : g.push(z));\n          }\n\n          z = z.next;\n          if (null === z || z === h) if (g = e.shared.pending, null === g) break;else z = f.next = g.next, g.next = h, e.baseQueue = f = g, e.shared.pending = null;\n        } while (1);\n      }\n\n      null === w ? q = k : w.next = r;\n      e.baseState = q;\n      e.baseQueue = w;\n      Gc(l);\n      a.expirationTime = l;\n      a.memoizedState = k;\n    }\n  }\n\n  function Hc(a, b, c) {\n    a = b.effects;\n    b.effects = null;\n    if (null !== a) for (b = 0; b < a.length; b++) {\n      var d = a[b],\n          e = d.callback;\n\n      if (null !== e) {\n        d.callback = null;\n        d = e;\n        e = c;\n        if (\"function\" !== typeof d) throw Error(n(191, d));\n        d.call(e);\n      }\n    }\n  }\n\n  var Ic = p.ReactCurrentBatchConfig,\n      Jc = new ba.Component().refs;\n\n  function Kc(a, b, c, d) {\n    b = a.memoizedState;\n    c = c(d, b);\n    c = null === c || void 0 === c ? b : aa({}, b, c);\n    a.memoizedState = c;\n    0 === a.expirationTime && (a.updateQueue.baseState = c);\n  }\n\n  var Oc = {\n    isMounted: function isMounted(a) {\n      return (a = a._reactInternalFiber) ? va(a) === a : !1;\n    },\n    enqueueSetState: function enqueueSetState(a, b, c) {\n      a = a._reactInternalFiber;\n      var d = Lc(),\n          e = Ic.suspense;\n      d = Mc(d, a, e);\n      e = Ac(d, e);\n      e.payload = b;\n      void 0 !== c && null !== c && (e.callback = c);\n      Bc(a, e);\n      Nc(a, d);\n    },\n    enqueueReplaceState: function enqueueReplaceState(a, b, c) {\n      a = a._reactInternalFiber;\n      var d = Lc(),\n          e = Ic.suspense;\n      d = Mc(d, a, e);\n      e = Ac(d, e);\n      e.tag = 1;\n      e.payload = b;\n      void 0 !== c && null !== c && (e.callback = c);\n      Bc(a, e);\n      Nc(a, d);\n    },\n    enqueueForceUpdate: function enqueueForceUpdate(a, b) {\n      a = a._reactInternalFiber;\n      var c = Lc(),\n          d = Ic.suspense;\n      c = Mc(c, a, d);\n      d = Ac(c, d);\n      d.tag = 2;\n      void 0 !== b && null !== b && (d.callback = b);\n      Bc(a, d);\n      Nc(a, c);\n    }\n  };\n\n  function Pc(a, b, c, d, e, f, g) {\n    a = a.stateNode;\n    return \"function\" === typeof a.shouldComponentUpdate ? a.shouldComponentUpdate(d, f, g) : b.prototype && b.prototype.isPureReactComponent ? !lc(c, d) || !lc(e, f) : !0;\n  }\n\n  function Qc(a, b, c) {\n    var d = !1,\n        e = Cb;\n    var f = b.contextType;\n    \"object\" === typeof f && null !== f ? f = I(f) : (e = F(b) ? Db : D.current, d = b.contextTypes, f = (d = null !== d && void 0 !== d) ? Eb(a, e) : Cb);\n    b = new b(c, f);\n    a.memoizedState = null !== b.state && void 0 !== b.state ? b.state : null;\n    b.updater = Oc;\n    a.stateNode = b;\n    b._reactInternalFiber = a;\n    d && (a = a.stateNode, a.__reactInternalMemoizedUnmaskedChildContext = e, a.__reactInternalMemoizedMaskedChildContext = f);\n    return b;\n  }\n\n  function Rc(a, b, c, d) {\n    a = b.state;\n    \"function\" === typeof b.componentWillReceiveProps && b.componentWillReceiveProps(c, d);\n    \"function\" === typeof b.UNSAFE_componentWillReceiveProps && b.UNSAFE_componentWillReceiveProps(c, d);\n    b.state !== a && Oc.enqueueReplaceState(b, b.state, null);\n  }\n\n  function Sc(a, b, c, d) {\n    var e = a.stateNode;\n    e.props = c;\n    e.state = a.memoizedState;\n    e.refs = Jc;\n    yc(a);\n    var f = b.contextType;\n    \"object\" === typeof f && null !== f ? e.context = I(f) : (f = F(b) ? Db : D.current, e.context = Eb(a, f));\n    Dc(a, c, e, d);\n    e.state = a.memoizedState;\n    f = b.getDerivedStateFromProps;\n    \"function\" === typeof f && (Kc(a, b, f, c), e.state = a.memoizedState);\n    \"function\" === typeof b.getDerivedStateFromProps || \"function\" === typeof e.getSnapshotBeforeUpdate || \"function\" !== typeof e.UNSAFE_componentWillMount && \"function\" !== typeof e.componentWillMount || (b = e.state, \"function\" === typeof e.componentWillMount && e.componentWillMount(), \"function\" === typeof e.UNSAFE_componentWillMount && e.UNSAFE_componentWillMount(), b !== e.state && Oc.enqueueReplaceState(e, e.state, null), Dc(a, c, e, d), e.state = a.memoizedState);\n    \"function\" === typeof e.componentDidMount && (a.effectTag |= 4);\n  }\n\n  var Tc = Array.isArray;\n\n  function Uc(a, b, c) {\n    a = c.ref;\n\n    if (null !== a && \"function\" !== typeof a && \"object\" !== typeof a) {\n      if (c._owner) {\n        c = c._owner;\n\n        if (c) {\n          if (1 !== c.tag) throw Error(n(309));\n          var d = c.stateNode;\n        }\n\n        if (!d) throw Error(n(147, a));\n        var e = \"\" + a;\n        if (null !== b && null !== b.ref && \"function\" === typeof b.ref && b.ref._stringRef === e) return b.ref;\n\n        b = function b(a) {\n          var b = d.refs;\n          b === Jc && (b = d.refs = {});\n          null === a ? delete b[e] : b[e] = a;\n        };\n\n        b._stringRef = e;\n        return b;\n      }\n\n      if (\"string\" !== typeof a) throw Error(n(284));\n      if (!c._owner) throw Error(n(290, a));\n    }\n\n    return a;\n  }\n\n  function Vc(a, b) {\n    if (\"textarea\" !== a.type) throw Error(n(31, \"[object Object]\" === Object.prototype.toString.call(b) ? \"object with keys {\" + Object.keys(b).join(\", \") + \"}\" : b, \"\"));\n  }\n\n  function Wc(a) {\n    function b(b, c) {\n      if (a) {\n        var d = b.lastEffect;\n        null !== d ? (d.nextEffect = c, b.lastEffect = c) : b.firstEffect = b.lastEffect = c;\n        c.nextEffect = null;\n        c.effectTag = 8;\n      }\n    }\n\n    function c(c, d) {\n      if (!a) return null;\n\n      for (; null !== d;) {\n        b(c, d), d = d.sibling;\n      }\n\n      return null;\n    }\n\n    function d(b, a) {\n      for (b = new Map(); null !== a;) {\n        null !== a.key ? b.set(a.key, a) : b.set(a.index, a), a = a.sibling;\n      }\n\n      return b;\n    }\n\n    function e(a, b) {\n      a = Xc(a, b);\n      a.index = 0;\n      a.sibling = null;\n      return a;\n    }\n\n    function f(b, c, d) {\n      b.index = d;\n      if (!a) return c;\n      d = b.alternate;\n      if (null !== d) return d = d.index, d < c ? (b.effectTag = 2, c) : d;\n      b.effectTag = 2;\n      return c;\n    }\n\n    function g(b) {\n      a && null === b.alternate && (b.effectTag = 2);\n      return b;\n    }\n\n    function h(b, a, c, d) {\n      if (null === a || 6 !== a.tag) return a = Yc(c, b.mode, d), a.return = b, a;\n      a = e(a, c);\n      a.return = b;\n      return a;\n    }\n\n    function k(a, b, c, d) {\n      if (null !== b && b.elementType === c.type) return d = e(b, c.props), d.ref = Uc(a, b, c), d.return = a, d;\n      d = Zc(c.type, c.key, c.props, null, a.mode, d);\n      d.ref = Uc(a, b, c);\n      d.return = a;\n      return d;\n    }\n\n    function l(a, b, c, d) {\n      if (null === b || 4 !== b.tag || b.stateNode.containerInfo !== c.containerInfo || b.stateNode.implementation !== c.implementation) return b = $c(c, a.mode, d), b.return = a, b;\n      b = e(b, c.children || []);\n      b.return = a;\n      return b;\n    }\n\n    function q(b, a, c, d, f) {\n      if (null === a || 7 !== a.tag) return a = ad(c, b.mode, d, f), a.return = b, a;\n      a = e(a, c);\n      a.return = b;\n      return a;\n    }\n\n    function r(a, b, c) {\n      if (\"string\" === typeof b || \"number\" === typeof b) return b = Yc(\"\" + b, a.mode, c), b.return = a, b;\n\n      if (\"object\" === typeof b && null !== b) {\n        switch (b.$$typeof) {\n          case ca:\n            return c = Zc(b.type, b.key, b.props, null, a.mode, c), c.ref = Uc(a, null, b), c.return = a, c;\n\n          case da:\n            return b = $c(b, a.mode, c), b.return = a, b;\n        }\n\n        if (Tc(b) || sa(b)) return b = ad(b, a.mode, c, null), b.return = a, b;\n        Vc(a, b);\n      }\n\n      return null;\n    }\n\n    function w(b, a, c, d) {\n      var e = null !== a ? a.key : null;\n      if (\"string\" === typeof c || \"number\" === typeof c) return null !== e ? null : h(b, a, \"\" + c, d);\n\n      if (\"object\" === typeof c && null !== c) {\n        switch (c.$$typeof) {\n          case ca:\n            return c.key === e ? c.type === ea ? q(b, a, c.props.children, d, e) : k(b, a, c, d) : null;\n\n          case da:\n            return c.key === e ? l(b, a, c, d) : null;\n        }\n\n        if (Tc(c) || sa(c)) return null !== e ? null : q(b, a, c, d, null);\n        Vc(b, c);\n      }\n\n      return null;\n    }\n\n    function z(b, a, c, d, e) {\n      if (\"string\" === typeof d || \"number\" === typeof d) return b = b.get(c) || null, h(a, b, \"\" + d, e);\n\n      if (\"object\" === typeof d && null !== d) {\n        switch (d.$$typeof) {\n          case ca:\n            return b = b.get(null === d.key ? c : d.key) || null, d.type === ea ? q(a, b, d.props.children, e, d.key) : k(a, b, d, e);\n\n          case da:\n            return b = b.get(null === d.key ? c : d.key) || null, l(a, b, d, e);\n        }\n\n        if (Tc(d) || sa(d)) return b = b.get(c) || null, q(a, b, d, e, null);\n        Vc(a, d);\n      }\n\n      return null;\n    }\n\n    function Q(e, g, h, k) {\n      for (var l = null, v = null, t = g, x = g = 0, q = null; null !== t && x < h.length; x++) {\n        t.index > x ? (q = t, t = null) : q = t.sibling;\n        var y = w(e, t, h[x], k);\n\n        if (null === y) {\n          null === t && (t = q);\n          break;\n        }\n\n        a && t && null === y.alternate && b(e, t);\n        g = f(y, g, x);\n        null === v ? l = y : v.sibling = y;\n        v = y;\n        t = q;\n      }\n\n      if (x === h.length) return c(e, t), l;\n\n      if (null === t) {\n        for (; x < h.length; x++) {\n          t = r(e, h[x], k), null !== t && (g = f(t, g, x), null === v ? l = t : v.sibling = t, v = t);\n        }\n\n        return l;\n      }\n\n      for (t = d(e, t); x < h.length; x++) {\n        q = z(t, e, x, h[x], k), null !== q && (a && null !== q.alternate && t.delete(null === q.key ? x : q.key), g = f(q, g, x), null === v ? l = q : v.sibling = q, v = q);\n      }\n\n      a && t.forEach(function (a) {\n        return b(e, a);\n      });\n      return l;\n    }\n\n    function A(e, g, h, k) {\n      var t = sa(h);\n      if (\"function\" !== typeof t) throw Error(n(150));\n      h = t.call(h);\n      if (null == h) throw Error(n(151));\n\n      for (var l = t = null, v = g, x = g = 0, q = null, y = h.next(); null !== v && !y.done; x++, y = h.next()) {\n        v.index > x ? (q = v, v = null) : q = v.sibling;\n        var A = w(e, v, y.value, k);\n\n        if (null === A) {\n          null === v && (v = q);\n          break;\n        }\n\n        a && v && null === A.alternate && b(e, v);\n        g = f(A, g, x);\n        null === l ? t = A : l.sibling = A;\n        l = A;\n        v = q;\n      }\n\n      if (y.done) return c(e, v), t;\n\n      if (null === v) {\n        for (; !y.done; x++, y = h.next()) {\n          y = r(e, y.value, k), null !== y && (g = f(y, g, x), null === l ? t = y : l.sibling = y, l = y);\n        }\n\n        return t;\n      }\n\n      for (v = d(e, v); !y.done; x++, y = h.next()) {\n        y = z(v, e, x, y.value, k), null !== y && (a && null !== y.alternate && v.delete(null === y.key ? x : y.key), g = f(y, g, x), null === l ? t = y : l.sibling = y, l = y);\n      }\n\n      a && v.forEach(function (a) {\n        return b(e, a);\n      });\n      return t;\n    }\n\n    return function (a, d, f, h) {\n      var k = \"object\" === typeof f && null !== f && f.type === ea && null === f.key;\n      k && (f = f.props.children);\n      var l = \"object\" === typeof f && null !== f;\n      if (l) switch (f.$$typeof) {\n        case ca:\n          a: {\n            l = f.key;\n\n            for (k = d; null !== k;) {\n              if (k.key === l) {\n                switch (k.tag) {\n                  case 7:\n                    if (f.type === ea) {\n                      c(a, k.sibling);\n                      d = e(k, f.props.children);\n                      d.return = a;\n                      a = d;\n                      break a;\n                    }\n\n                    break;\n\n                  default:\n                    if (k.elementType === f.type) {\n                      c(a, k.sibling);\n                      d = e(k, f.props);\n                      d.ref = Uc(a, k, f);\n                      d.return = a;\n                      a = d;\n                      break a;\n                    }\n\n                }\n\n                c(a, k);\n                break;\n              } else b(a, k);\n\n              k = k.sibling;\n            }\n\n            f.type === ea ? (d = ad(f.props.children, a.mode, h, f.key), d.return = a, a = d) : (h = Zc(f.type, f.key, f.props, null, a.mode, h), h.ref = Uc(a, d, f), h.return = a, a = h);\n          }\n\n          return g(a);\n\n        case da:\n          a: {\n            for (k = f.key; null !== d;) {\n              if (d.key === k) {\n                if (4 === d.tag && d.stateNode.containerInfo === f.containerInfo && d.stateNode.implementation === f.implementation) {\n                  c(a, d.sibling);\n                  d = e(d, f.children || []);\n                  d.return = a;\n                  a = d;\n                  break a;\n                } else {\n                  c(a, d);\n                  break;\n                }\n              } else b(a, d);\n              d = d.sibling;\n            }\n\n            d = $c(f, a.mode, h);\n            d.return = a;\n            a = d;\n          }\n\n          return g(a);\n      }\n      if (\"string\" === typeof f || \"number\" === typeof f) return f = \"\" + f, null !== d && 6 === d.tag ? (c(a, d.sibling), d = e(d, f), d.return = a, a = d) : (c(a, d), d = Yc(f, a.mode, h), d.return = a, a = d), g(a);\n      if (Tc(f)) return Q(a, d, f, h);\n      if (sa(f)) return A(a, d, f, h);\n      l && Vc(a, f);\n      if (\"undefined\" === typeof f && !k) switch (a.tag) {\n        case 1:\n        case 0:\n          throw a = a.type, Error(n(152, a.displayName || a.name || \"Component\"));\n      }\n      return c(a, d);\n    };\n  }\n\n  var bd = Wc(!0),\n      cd = Wc(!1),\n      dd = {},\n      J = {\n    current: dd\n  },\n      ed = {\n    current: dd\n  },\n      fd = {\n    current: dd\n  };\n\n  function gd(a) {\n    if (a === dd) throw Error(n(174));\n    return a;\n  }\n\n  function hd(a, b) {\n    C(fd, b);\n    C(ed, a);\n    C(J, dd);\n    a = Ba(b);\n    B(J);\n    C(J, a);\n  }\n\n  function id() {\n    B(J);\n    B(ed);\n    B(fd);\n  }\n\n  function jd(a) {\n    var b = gd(fd.current),\n        c = gd(J.current);\n    b = Ca(c, a.type, b);\n    c !== b && (C(ed, a), C(J, b));\n  }\n\n  function kd(a) {\n    ed.current === a && (B(J), B(ed));\n  }\n\n  var K = {\n    current: 0\n  };\n\n  function ld(a) {\n    for (var b = a; null !== b;) {\n      if (13 === b.tag) {\n        var c = b.memoizedState;\n        if (null !== c && (c = c.dehydrated, null === c || pb(c) || qb(c))) return b;\n      } else if (19 === b.tag && void 0 !== b.memoizedProps.revealOrder) {\n        if (0 !== (b.effectTag & 64)) return b;\n      } else if (null !== b.child) {\n        b.child.return = b;\n        b = b.child;\n        continue;\n      }\n\n      if (b === a) break;\n\n      for (; null === b.sibling;) {\n        if (null === b.return || b.return === a) return null;\n        b = b.return;\n      }\n\n      b.sibling.return = b.return;\n      b = b.sibling;\n    }\n\n    return null;\n  }\n\n  function md(a, b) {\n    return {\n      responder: a,\n      props: b\n    };\n  }\n\n  var nd = p.ReactCurrentDispatcher,\n      L = p.ReactCurrentBatchConfig,\n      od = 0,\n      M = null,\n      N = null,\n      O = null,\n      pd = !1;\n\n  function P() {\n    throw Error(n(321));\n  }\n\n  function qd(a, b) {\n    if (null === b) return !1;\n\n    for (var c = 0; c < b.length && c < a.length; c++) {\n      if (!jc(a[c], b[c])) return !1;\n    }\n\n    return !0;\n  }\n\n  function rd(a, b, c, d, e, f) {\n    od = f;\n    M = b;\n    b.memoizedState = null;\n    b.updateQueue = null;\n    b.expirationTime = 0;\n    nd.current = null === a || null === a.memoizedState ? sd : td;\n    a = c(d, e);\n\n    if (b.expirationTime === od) {\n      f = 0;\n\n      do {\n        b.expirationTime = 0;\n        if (!(25 > f)) throw Error(n(301));\n        f += 1;\n        O = N = null;\n        b.updateQueue = null;\n        nd.current = ud;\n        a = c(d, e);\n      } while (b.expirationTime === od);\n    }\n\n    nd.current = vd;\n    b = null !== N && null !== N.next;\n    od = 0;\n    O = N = M = null;\n    pd = !1;\n    if (b) throw Error(n(300));\n    return a;\n  }\n\n  function wd() {\n    var a = {\n      memoizedState: null,\n      baseState: null,\n      baseQueue: null,\n      queue: null,\n      next: null\n    };\n    null === O ? M.memoizedState = O = a : O = O.next = a;\n    return O;\n  }\n\n  function xd() {\n    if (null === N) {\n      var a = M.alternate;\n      a = null !== a ? a.memoizedState : null;\n    } else a = N.next;\n\n    var b = null === O ? M.memoizedState : O.next;\n    if (null !== b) O = b, N = a;else {\n      if (null === a) throw Error(n(310));\n      N = a;\n      a = {\n        memoizedState: N.memoizedState,\n        baseState: N.baseState,\n        baseQueue: N.baseQueue,\n        queue: N.queue,\n        next: null\n      };\n      null === O ? M.memoizedState = O = a : O = O.next = a;\n    }\n    return O;\n  }\n\n  function yd(a, b) {\n    return \"function\" === typeof b ? b(a) : b;\n  }\n\n  function zd(a) {\n    var b = xd(),\n        c = b.queue;\n    if (null === c) throw Error(n(311));\n    c.lastRenderedReducer = a;\n    var d = N,\n        e = d.baseQueue,\n        f = c.pending;\n\n    if (null !== f) {\n      if (null !== e) {\n        var g = e.next;\n        e.next = f.next;\n        f.next = g;\n      }\n\n      d.baseQueue = e = f;\n      c.pending = null;\n    }\n\n    if (null !== e) {\n      e = e.next;\n      d = d.baseState;\n      var h = g = f = null,\n          k = e;\n\n      do {\n        var l = k.expirationTime;\n\n        if (l < od) {\n          var q = {\n            expirationTime: k.expirationTime,\n            suspenseConfig: k.suspenseConfig,\n            action: k.action,\n            eagerReducer: k.eagerReducer,\n            eagerState: k.eagerState,\n            next: null\n          };\n          null === h ? (g = h = q, f = d) : h = h.next = q;\n          l > M.expirationTime && (M.expirationTime = l, Gc(l));\n        } else null !== h && (h = h.next = {\n          expirationTime: 1073741823,\n          suspenseConfig: k.suspenseConfig,\n          action: k.action,\n          eagerReducer: k.eagerReducer,\n          eagerState: k.eagerState,\n          next: null\n        }), Ec(l, k.suspenseConfig), d = k.eagerReducer === a ? k.eagerState : a(d, k.action);\n\n        k = k.next;\n      } while (null !== k && k !== e);\n\n      null === h ? f = d : h.next = g;\n      jc(d, b.memoizedState) || (wc = !0);\n      b.memoizedState = d;\n      b.baseState = f;\n      b.baseQueue = h;\n      c.lastRenderedState = d;\n    }\n\n    return [b.memoizedState, c.dispatch];\n  }\n\n  function Ad(a) {\n    var b = xd(),\n        c = b.queue;\n    if (null === c) throw Error(n(311));\n    c.lastRenderedReducer = a;\n    var d = c.dispatch,\n        e = c.pending,\n        f = b.memoizedState;\n\n    if (null !== e) {\n      c.pending = null;\n      var g = e = e.next;\n\n      do {\n        f = a(f, g.action), g = g.next;\n      } while (g !== e);\n\n      jc(f, b.memoizedState) || (wc = !0);\n      b.memoizedState = f;\n      null === b.baseQueue && (b.baseState = f);\n      c.lastRenderedState = f;\n    }\n\n    return [f, d];\n  }\n\n  function Bd(a) {\n    var b = wd();\n    \"function\" === typeof a && (a = a());\n    b.memoizedState = b.baseState = a;\n    a = b.queue = {\n      pending: null,\n      dispatch: null,\n      lastRenderedReducer: yd,\n      lastRenderedState: a\n    };\n    a = a.dispatch = Cd.bind(null, M, a);\n    return [b.memoizedState, a];\n  }\n\n  function Dd(a, b, c, d) {\n    a = {\n      tag: a,\n      create: b,\n      destroy: c,\n      deps: d,\n      next: null\n    };\n    b = M.updateQueue;\n    null === b ? (b = {\n      lastEffect: null\n    }, M.updateQueue = b, b.lastEffect = a.next = a) : (c = b.lastEffect, null === c ? b.lastEffect = a.next = a : (d = c.next, c.next = a, a.next = d, b.lastEffect = a));\n    return a;\n  }\n\n  function Ed() {\n    return xd().memoizedState;\n  }\n\n  function Fd(a, b, c, d) {\n    var e = wd();\n    M.effectTag |= a;\n    e.memoizedState = Dd(1 | b, c, void 0, void 0 === d ? null : d);\n  }\n\n  function Gd(a, b, c, d) {\n    var e = xd();\n    d = void 0 === d ? null : d;\n    var f = void 0;\n\n    if (null !== N) {\n      var g = N.memoizedState;\n      f = g.destroy;\n\n      if (null !== d && qd(d, g.deps)) {\n        Dd(b, c, f, d);\n        return;\n      }\n    }\n\n    M.effectTag |= a;\n    e.memoizedState = Dd(1 | b, c, f, d);\n  }\n\n  function Hd(a, b) {\n    return Fd(516, 4, a, b);\n  }\n\n  function Id(a, b) {\n    return Gd(516, 4, a, b);\n  }\n\n  function Jd(a, b) {\n    return Gd(4, 2, a, b);\n  }\n\n  function Kd(a, b) {\n    if (\"function\" === typeof b) return a = a(), b(a), function () {\n      b(null);\n    };\n    if (null !== b && void 0 !== b) return a = a(), b.current = a, function () {\n      b.current = null;\n    };\n  }\n\n  function Ld(a, b, c) {\n    c = null !== c && void 0 !== c ? c.concat([a]) : null;\n    return Gd(4, 2, Kd.bind(null, b, a), c);\n  }\n\n  function Md() {}\n\n  function Nd(a, b) {\n    wd().memoizedState = [a, void 0 === b ? null : b];\n    return a;\n  }\n\n  function Od(a, b) {\n    var c = xd();\n    b = void 0 === b ? null : b;\n    var d = c.memoizedState;\n    if (null !== d && null !== b && qd(b, d[1])) return d[0];\n    c.memoizedState = [a, b];\n    return a;\n  }\n\n  function Pd(a, b) {\n    var c = xd();\n    b = void 0 === b ? null : b;\n    var d = c.memoizedState;\n    if (null !== d && null !== b && qd(b, d[1])) return d[0];\n    a = a();\n    c.memoizedState = [a, b];\n    return a;\n  }\n\n  function Qd(a, b, c) {\n    var d = bc();\n    dc(98 > d ? 98 : d, function () {\n      a(!0);\n    });\n    dc(97 < d ? 97 : d, function () {\n      var d = L.suspense;\n      L.suspense = void 0 === b ? null : b;\n\n      try {\n        a(!1), c();\n      } finally {\n        L.suspense = d;\n      }\n    });\n  }\n\n  function Cd(a, b, c) {\n    var d = Lc(),\n        e = Ic.suspense;\n    d = Mc(d, a, e);\n    e = {\n      expirationTime: d,\n      suspenseConfig: e,\n      action: c,\n      eagerReducer: null,\n      eagerState: null,\n      next: null\n    };\n    var f = b.pending;\n    null === f ? e.next = e : (e.next = f.next, f.next = e);\n    b.pending = e;\n    f = a.alternate;\n    if (a === M || null !== f && f === M) pd = !0, e.expirationTime = od, M.expirationTime = od;else {\n      if (0 === a.expirationTime && (null === f || 0 === f.expirationTime) && (f = b.lastRenderedReducer, null !== f)) try {\n        var g = b.lastRenderedState,\n            h = f(g, c);\n        e.eagerReducer = f;\n        e.eagerState = h;\n        if (jc(h, g)) return;\n      } catch (k) {} finally {}\n      Nc(a, d);\n    }\n  }\n\n  var vd = {\n    readContext: I,\n    useCallback: P,\n    useContext: P,\n    useEffect: P,\n    useImperativeHandle: P,\n    useLayoutEffect: P,\n    useMemo: P,\n    useReducer: P,\n    useRef: P,\n    useState: P,\n    useDebugValue: P,\n    useResponder: P,\n    useDeferredValue: P,\n    useTransition: P\n  },\n      sd = {\n    readContext: I,\n    useCallback: Nd,\n    useContext: I,\n    useEffect: Hd,\n    useImperativeHandle: function useImperativeHandle(a, b, c) {\n      c = null !== c && void 0 !== c ? c.concat([a]) : null;\n      return Fd(4, 2, Kd.bind(null, b, a), c);\n    },\n    useLayoutEffect: function useLayoutEffect(a, b) {\n      return Fd(4, 2, a, b);\n    },\n    useMemo: function useMemo(a, b) {\n      var c = wd();\n      b = void 0 === b ? null : b;\n      a = a();\n      c.memoizedState = [a, b];\n      return a;\n    },\n    useReducer: function useReducer(a, b, c) {\n      var d = wd();\n      b = void 0 !== c ? c(b) : b;\n      d.memoizedState = d.baseState = b;\n      a = d.queue = {\n        pending: null,\n        dispatch: null,\n        lastRenderedReducer: a,\n        lastRenderedState: b\n      };\n      a = a.dispatch = Cd.bind(null, M, a);\n      return [d.memoizedState, a];\n    },\n    useRef: function useRef(a) {\n      var b = wd();\n      a = {\n        current: a\n      };\n      return b.memoizedState = a;\n    },\n    useState: Bd,\n    useDebugValue: Md,\n    useResponder: md,\n    useDeferredValue: function useDeferredValue(a, b) {\n      var c = Bd(a),\n          d = c[0],\n          e = c[1];\n      Hd(function () {\n        var c = L.suspense;\n        L.suspense = void 0 === b ? null : b;\n\n        try {\n          e(a);\n        } finally {\n          L.suspense = c;\n        }\n      }, [a, b]);\n      return d;\n    },\n    useTransition: function useTransition(a) {\n      var b = Bd(!1),\n          c = b[0];\n      b = b[1];\n      return [Nd(Qd.bind(null, b, a), [b, a]), c];\n    }\n  },\n      td = {\n    readContext: I,\n    useCallback: Od,\n    useContext: I,\n    useEffect: Id,\n    useImperativeHandle: Ld,\n    useLayoutEffect: Jd,\n    useMemo: Pd,\n    useReducer: zd,\n    useRef: Ed,\n    useState: function useState() {\n      return zd(yd);\n    },\n    useDebugValue: Md,\n    useResponder: md,\n    useDeferredValue: function useDeferredValue(a, b) {\n      var c = zd(yd),\n          d = c[0],\n          e = c[1];\n      Id(function () {\n        var c = L.suspense;\n        L.suspense = void 0 === b ? null : b;\n\n        try {\n          e(a);\n        } finally {\n          L.suspense = c;\n        }\n      }, [a, b]);\n      return d;\n    },\n    useTransition: function useTransition(a) {\n      var b = zd(yd),\n          c = b[0];\n      b = b[1];\n      return [Od(Qd.bind(null, b, a), [b, a]), c];\n    }\n  },\n      ud = {\n    readContext: I,\n    useCallback: Od,\n    useContext: I,\n    useEffect: Id,\n    useImperativeHandle: Ld,\n    useLayoutEffect: Jd,\n    useMemo: Pd,\n    useReducer: Ad,\n    useRef: Ed,\n    useState: function useState() {\n      return Ad(yd);\n    },\n    useDebugValue: Md,\n    useResponder: md,\n    useDeferredValue: function useDeferredValue(a, b) {\n      var c = Ad(yd),\n          d = c[0],\n          e = c[1];\n      Id(function () {\n        var c = L.suspense;\n        L.suspense = void 0 === b ? null : b;\n\n        try {\n          e(a);\n        } finally {\n          L.suspense = c;\n        }\n      }, [a, b]);\n      return d;\n    },\n    useTransition: function useTransition(a) {\n      var b = Ad(yd),\n          c = b[0];\n      b = b[1];\n      return [Od(Qd.bind(null, b, a), [b, a]), c];\n    }\n  },\n      Rd = null,\n      Sd = null,\n      Td = !1;\n\n  function Ud(a, b) {\n    var c = Vd(5, null, null, 0);\n    c.elementType = \"DELETED\";\n    c.type = \"DELETED\";\n    c.stateNode = b;\n    c.return = a;\n    c.effectTag = 8;\n    null !== a.lastEffect ? (a.lastEffect.nextEffect = c, a.lastEffect = c) : a.firstEffect = a.lastEffect = c;\n  }\n\n  function Wd(a, b) {\n    switch (a.tag) {\n      case 5:\n        return b = nb(b, a.type, a.pendingProps), null !== b ? (a.stateNode = b, !0) : !1;\n\n      case 6:\n        return b = ob(b, a.pendingProps), null !== b ? (a.stateNode = b, !0) : !1;\n\n      case 13:\n        return !1;\n\n      default:\n        return !1;\n    }\n  }\n\n  function Xd(a) {\n    if (Td) {\n      var b = Sd;\n\n      if (b) {\n        var c = b;\n\n        if (!Wd(a, b)) {\n          b = rb(c);\n\n          if (!b || !Wd(a, b)) {\n            a.effectTag = a.effectTag & -1025 | 2;\n            Td = !1;\n            Rd = a;\n            return;\n          }\n\n          Ud(Rd, c);\n        }\n\n        Rd = a;\n        Sd = sb(b);\n      } else a.effectTag = a.effectTag & -1025 | 2, Td = !1, Rd = a;\n    }\n  }\n\n  function Yd(a) {\n    for (a = a.return; null !== a && 5 !== a.tag && 3 !== a.tag && 13 !== a.tag;) {\n      a = a.return;\n    }\n\n    Rd = a;\n  }\n\n  function Zd(a) {\n    if (!Sa || a !== Rd) return !1;\n    if (!Td) return Yd(a), Td = !0, !1;\n    var b = a.type;\n    if (5 !== a.tag || \"head\" !== b && \"body\" !== b && !Ja(b, a.memoizedProps)) for (b = Sd; b;) {\n      Ud(a, b), b = rb(b);\n    }\n    Yd(a);\n\n    if (13 === a.tag) {\n      if (!Sa) throw Error(n(316));\n      a = a.memoizedState;\n      a = null !== a ? a.dehydrated : null;\n      if (!a) throw Error(n(317));\n      Sd = vb(a);\n    } else Sd = Rd ? rb(a.stateNode) : null;\n\n    return !0;\n  }\n\n  function $d() {\n    Sa && (Sd = Rd = null, Td = !1);\n  }\n\n  var ae = p.ReactCurrentOwner,\n      wc = !1;\n\n  function R(a, b, c, d) {\n    b.child = null === a ? cd(b, null, c, d) : bd(b, a.child, c, d);\n  }\n\n  function be(a, b, c, d, e) {\n    c = c.render;\n    var f = b.ref;\n    vc(b, e);\n    d = rd(a, b, c, d, f, e);\n    if (null !== a && !wc) return b.updateQueue = a.updateQueue, b.effectTag &= -517, a.expirationTime <= e && (a.expirationTime = 0), ce(a, b, e);\n    b.effectTag |= 1;\n    R(a, b, d, e);\n    return b.child;\n  }\n\n  function de(a, b, c, d, e, f) {\n    if (null === a) {\n      var g = c.type;\n      if (\"function\" === typeof g && !ee(g) && void 0 === g.defaultProps && null === c.compare && void 0 === c.defaultProps) return b.tag = 15, b.type = g, fe(a, b, g, d, e, f);\n      a = Zc(c.type, null, d, null, b.mode, f);\n      a.ref = b.ref;\n      a.return = b;\n      return b.child = a;\n    }\n\n    g = a.child;\n    if (e < f && (e = g.memoizedProps, c = c.compare, c = null !== c ? c : lc, c(e, d) && a.ref === b.ref)) return ce(a, b, f);\n    b.effectTag |= 1;\n    a = Xc(g, d);\n    a.ref = b.ref;\n    a.return = b;\n    return b.child = a;\n  }\n\n  function fe(a, b, c, d, e, f) {\n    return null !== a && lc(a.memoizedProps, d) && a.ref === b.ref && (wc = !1, e < f) ? (b.expirationTime = a.expirationTime, ce(a, b, f)) : ge(a, b, c, d, f);\n  }\n\n  function he(a, b) {\n    var c = b.ref;\n    if (null === a && null !== c || null !== a && a.ref !== c) b.effectTag |= 128;\n  }\n\n  function ge(a, b, c, d, e) {\n    var f = F(c) ? Db : D.current;\n    f = Eb(b, f);\n    vc(b, e);\n    c = rd(a, b, c, d, f, e);\n    if (null !== a && !wc) return b.updateQueue = a.updateQueue, b.effectTag &= -517, a.expirationTime <= e && (a.expirationTime = 0), ce(a, b, e);\n    b.effectTag |= 1;\n    R(a, b, c, e);\n    return b.child;\n  }\n\n  function ie(a, b, c, d, e) {\n    if (F(c)) {\n      var f = !0;\n      Ib(b);\n    } else f = !1;\n\n    vc(b, e);\n    if (null === b.stateNode) null !== a && (a.alternate = null, b.alternate = null, b.effectTag |= 2), Qc(b, c, d), Sc(b, c, d, e), d = !0;else if (null === a) {\n      var g = b.stateNode,\n          h = b.memoizedProps;\n      g.props = h;\n      var k = g.context,\n          l = c.contextType;\n      \"object\" === typeof l && null !== l ? l = I(l) : (l = F(c) ? Db : D.current, l = Eb(b, l));\n      var q = c.getDerivedStateFromProps,\n          r = \"function\" === typeof q || \"function\" === typeof g.getSnapshotBeforeUpdate;\n      r || \"function\" !== typeof g.UNSAFE_componentWillReceiveProps && \"function\" !== typeof g.componentWillReceiveProps || (h !== d || k !== l) && Rc(b, g, d, l);\n      xc = !1;\n      var w = b.memoizedState;\n      g.state = w;\n      Dc(b, d, g, e);\n      k = b.memoizedState;\n      h !== d || w !== k || E.current || xc ? (\"function\" === typeof q && (Kc(b, c, q, d), k = b.memoizedState), (h = xc || Pc(b, c, h, d, w, k, l)) ? (r || \"function\" !== typeof g.UNSAFE_componentWillMount && \"function\" !== typeof g.componentWillMount || (\"function\" === typeof g.componentWillMount && g.componentWillMount(), \"function\" === typeof g.UNSAFE_componentWillMount && g.UNSAFE_componentWillMount()), \"function\" === typeof g.componentDidMount && (b.effectTag |= 4)) : (\"function\" === typeof g.componentDidMount && (b.effectTag |= 4), b.memoizedProps = d, b.memoizedState = k), g.props = d, g.state = k, g.context = l, d = h) : (\"function\" === typeof g.componentDidMount && (b.effectTag |= 4), d = !1);\n    } else g = b.stateNode, zc(a, b), h = b.memoizedProps, g.props = b.type === b.elementType ? h : mc(b.type, h), k = g.context, l = c.contextType, \"object\" === typeof l && null !== l ? l = I(l) : (l = F(c) ? Db : D.current, l = Eb(b, l)), q = c.getDerivedStateFromProps, (r = \"function\" === typeof q || \"function\" === typeof g.getSnapshotBeforeUpdate) || \"function\" !== typeof g.UNSAFE_componentWillReceiveProps && \"function\" !== typeof g.componentWillReceiveProps || (h !== d || k !== l) && Rc(b, g, d, l), xc = !1, k = b.memoizedState, g.state = k, Dc(b, d, g, e), w = b.memoizedState, h !== d || k !== w || E.current || xc ? (\"function\" === typeof q && (Kc(b, c, q, d), w = b.memoizedState), (q = xc || Pc(b, c, h, d, k, w, l)) ? (r || \"function\" !== typeof g.UNSAFE_componentWillUpdate && \"function\" !== typeof g.componentWillUpdate || (\"function\" === typeof g.componentWillUpdate && g.componentWillUpdate(d, w, l), \"function\" === typeof g.UNSAFE_componentWillUpdate && g.UNSAFE_componentWillUpdate(d, w, l)), \"function\" === typeof g.componentDidUpdate && (b.effectTag |= 4), \"function\" === typeof g.getSnapshotBeforeUpdate && (b.effectTag |= 256)) : (\"function\" !== typeof g.componentDidUpdate || h === a.memoizedProps && k === a.memoizedState || (b.effectTag |= 4), \"function\" !== typeof g.getSnapshotBeforeUpdate || h === a.memoizedProps && k === a.memoizedState || (b.effectTag |= 256), b.memoizedProps = d, b.memoizedState = w), g.props = d, g.state = w, g.context = l, d = q) : (\"function\" !== typeof g.componentDidUpdate || h === a.memoizedProps && k === a.memoizedState || (b.effectTag |= 4), \"function\" !== typeof g.getSnapshotBeforeUpdate || h === a.memoizedProps && k === a.memoizedState || (b.effectTag |= 256), d = !1);\n    return je(a, b, c, d, f, e);\n  }\n\n  function je(a, b, c, d, e, f) {\n    he(a, b);\n    var g = 0 !== (b.effectTag & 64);\n    if (!d && !g) return e && Jb(b, c, !1), ce(a, b, f);\n    d = b.stateNode;\n    ae.current = b;\n    var h = g && \"function\" !== typeof c.getDerivedStateFromError ? null : d.render();\n    b.effectTag |= 1;\n    null !== a && g ? (b.child = bd(b, a.child, null, f), b.child = bd(b, null, h, f)) : R(a, b, h, f);\n    b.memoizedState = d.state;\n    e && Jb(b, c, !0);\n    return b.child;\n  }\n\n  function le(a) {\n    var b = a.stateNode;\n    b.pendingContext ? Gb(a, b.pendingContext, b.pendingContext !== b.context) : b.context && Gb(a, b.context, !1);\n    hd(a, b.containerInfo);\n  }\n\n  var me = {\n    dehydrated: null,\n    retryTime: 0\n  };\n\n  function ne(a, b, c) {\n    var d = b.mode,\n        e = b.pendingProps,\n        f = K.current,\n        g = !1,\n        h;\n    (h = 0 !== (b.effectTag & 64)) || (h = 0 !== (f & 2) && (null === a || null !== a.memoizedState));\n    h ? (g = !0, b.effectTag &= -65) : null !== a && null === a.memoizedState || void 0 === e.fallback || !0 === e.unstable_avoidThisFallback || (f |= 1);\n    C(K, f & 1);\n\n    if (null === a) {\n      void 0 !== e.fallback && Xd(b);\n\n      if (g) {\n        g = e.fallback;\n        e = ad(null, d, 0, null);\n        e.return = b;\n        if (0 === (b.mode & 2)) for (a = null !== b.memoizedState ? b.child.child : b.child, e.child = a; null !== a;) {\n          a.return = e, a = a.sibling;\n        }\n        c = ad(g, d, c, null);\n        c.return = b;\n        e.sibling = c;\n        b.memoizedState = me;\n        b.child = e;\n        return c;\n      }\n\n      d = e.children;\n      b.memoizedState = null;\n      return b.child = cd(b, null, d, c);\n    }\n\n    if (null !== a.memoizedState) {\n      a = a.child;\n      d = a.sibling;\n\n      if (g) {\n        e = e.fallback;\n        c = Xc(a, a.pendingProps);\n        c.return = b;\n        if (0 === (b.mode & 2) && (g = null !== b.memoizedState ? b.child.child : b.child, g !== a.child)) for (c.child = g; null !== g;) {\n          g.return = c, g = g.sibling;\n        }\n        d = Xc(d, e);\n        d.return = b;\n        c.sibling = d;\n        c.childExpirationTime = 0;\n        b.memoizedState = me;\n        b.child = c;\n        return d;\n      }\n\n      c = bd(b, a.child, e.children, c);\n      b.memoizedState = null;\n      return b.child = c;\n    }\n\n    a = a.child;\n\n    if (g) {\n      g = e.fallback;\n      e = ad(null, d, 0, null);\n      e.return = b;\n      e.child = a;\n      null !== a && (a.return = e);\n      if (0 === (b.mode & 2)) for (a = null !== b.memoizedState ? b.child.child : b.child, e.child = a; null !== a;) {\n        a.return = e, a = a.sibling;\n      }\n      c = ad(g, d, c, null);\n      c.return = b;\n      e.sibling = c;\n      c.effectTag |= 2;\n      e.childExpirationTime = 0;\n      b.memoizedState = me;\n      b.child = e;\n      return c;\n    }\n\n    b.memoizedState = null;\n    return b.child = bd(b, a, e.children, c);\n  }\n\n  function oe(a, b) {\n    a.expirationTime < b && (a.expirationTime = b);\n    var c = a.alternate;\n    null !== c && c.expirationTime < b && (c.expirationTime = b);\n    uc(a.return, b);\n  }\n\n  function pe(a, b, c, d, e, f) {\n    var g = a.memoizedState;\n    null === g ? a.memoizedState = {\n      isBackwards: b,\n      rendering: null,\n      renderingStartTime: 0,\n      last: d,\n      tail: c,\n      tailExpiration: 0,\n      tailMode: e,\n      lastEffect: f\n    } : (g.isBackwards = b, g.rendering = null, g.renderingStartTime = 0, g.last = d, g.tail = c, g.tailExpiration = 0, g.tailMode = e, g.lastEffect = f);\n  }\n\n  function qe(a, b, c) {\n    var d = b.pendingProps,\n        e = d.revealOrder,\n        f = d.tail;\n    R(a, b, d.children, c);\n    d = K.current;\n    if (0 !== (d & 2)) d = d & 1 | 2, b.effectTag |= 64;else {\n      if (null !== a && 0 !== (a.effectTag & 64)) a: for (a = b.child; null !== a;) {\n        if (13 === a.tag) null !== a.memoizedState && oe(a, c);else if (19 === a.tag) oe(a, c);else if (null !== a.child) {\n          a.child.return = a;\n          a = a.child;\n          continue;\n        }\n        if (a === b) break a;\n\n        for (; null === a.sibling;) {\n          if (null === a.return || a.return === b) break a;\n          a = a.return;\n        }\n\n        a.sibling.return = a.return;\n        a = a.sibling;\n      }\n      d &= 1;\n    }\n    C(K, d);\n    if (0 === (b.mode & 2)) b.memoizedState = null;else switch (e) {\n      case \"forwards\":\n        c = b.child;\n\n        for (e = null; null !== c;) {\n          a = c.alternate, null !== a && null === ld(a) && (e = c), c = c.sibling;\n        }\n\n        c = e;\n        null === c ? (e = b.child, b.child = null) : (e = c.sibling, c.sibling = null);\n        pe(b, !1, e, c, f, b.lastEffect);\n        break;\n\n      case \"backwards\":\n        c = null;\n        e = b.child;\n\n        for (b.child = null; null !== e;) {\n          a = e.alternate;\n\n          if (null !== a && null === ld(a)) {\n            b.child = e;\n            break;\n          }\n\n          a = e.sibling;\n          e.sibling = c;\n          c = e;\n          e = a;\n        }\n\n        pe(b, !0, c, null, f, b.lastEffect);\n        break;\n\n      case \"together\":\n        pe(b, !1, null, null, void 0, b.lastEffect);\n        break;\n\n      default:\n        b.memoizedState = null;\n    }\n    return b.child;\n  }\n\n  function ce(a, b, c) {\n    null !== a && (b.dependencies = a.dependencies);\n    var d = b.expirationTime;\n    0 !== d && Gc(d);\n    if (b.childExpirationTime < c) return null;\n    if (null !== a && b.child !== a.child) throw Error(n(153));\n\n    if (null !== b.child) {\n      a = b.child;\n      c = Xc(a, a.pendingProps);\n      b.child = c;\n\n      for (c.return = b; null !== a.sibling;) {\n        a = a.sibling, c = c.sibling = Xc(a, a.pendingProps), c.return = b;\n      }\n\n      c.sibling = null;\n    }\n\n    return b.child;\n  }\n\n  function re(a) {\n    a.effectTag |= 4;\n  }\n\n  var _se, te, ue, ve;\n\n  if (Qa) _se = function se(a, b) {\n    for (var c = b.child; null !== c;) {\n      if (5 === c.tag || 6 === c.tag) Ga(a, c.stateNode);else if (4 !== c.tag && null !== c.child) {\n        c.child.return = c;\n        c = c.child;\n        continue;\n      }\n      if (c === b) break;\n\n      for (; null === c.sibling;) {\n        if (null === c.return || c.return === b) return;\n        c = c.return;\n      }\n\n      c.sibling.return = c.return;\n      c = c.sibling;\n    }\n  }, te = function te() {}, ue = function ue(a, b, c, d, e) {\n    a = a.memoizedProps;\n\n    if (a !== d) {\n      var f = b.stateNode,\n          g = gd(J.current);\n      c = Ia(f, c, a, d, e, g);\n      (b.updateQueue = c) && re(b);\n    }\n  }, ve = function ve(a, b, c, d) {\n    c !== d && re(b);\n  };else if (Ra) {\n    _se = function se(a, b, c, d) {\n      for (var e = b.child; null !== e;) {\n        if (5 === e.tag) {\n          var f = e.stateNode;\n          c && d && (f = lb(f, e.type, e.memoizedProps, e));\n          Ga(a, f);\n        } else if (6 === e.tag) f = e.stateNode, c && d && (f = mb(f, e.memoizedProps, e)), Ga(a, f);else if (4 !== e.tag) {\n          if (13 === e.tag && 0 !== (e.effectTag & 4) && (f = null !== e.memoizedState)) {\n            var g = e.child;\n\n            if (null !== g && (null !== g.child && (g.child.return = g, _se(a, g, !0, f)), f = g.sibling, null !== f)) {\n              f.return = e;\n              e = f;\n              continue;\n            }\n          }\n\n          if (null !== e.child) {\n            e.child.return = e;\n            e = e.child;\n            continue;\n          }\n        }\n\n        if (e === b) break;\n\n        for (; null === e.sibling;) {\n          if (null === e.return || e.return === b) return;\n          e = e.return;\n        }\n\n        e.sibling.return = e.return;\n        e = e.sibling;\n      }\n    };\n\n    var we = function we(a, b, c, d) {\n      for (var e = b.child; null !== e;) {\n        if (5 === e.tag) {\n          var f = e.stateNode;\n          c && d && (f = lb(f, e.type, e.memoizedProps, e));\n          ib(a, f);\n        } else if (6 === e.tag) f = e.stateNode, c && d && (f = mb(f, e.memoizedProps, e)), ib(a, f);else if (4 !== e.tag) {\n          if (13 === e.tag && 0 !== (e.effectTag & 4) && (f = null !== e.memoizedState)) {\n            var g = e.child;\n\n            if (null !== g && (null !== g.child && (g.child.return = g, we(a, g, !0, f)), f = g.sibling, null !== f)) {\n              f.return = e;\n              e = f;\n              continue;\n            }\n          }\n\n          if (null !== e.child) {\n            e.child.return = e;\n            e = e.child;\n            continue;\n          }\n        }\n\n        if (e === b) break;\n\n        for (; null === e.sibling;) {\n          if (null === e.return || e.return === b) return;\n          e = e.return;\n        }\n\n        e.sibling.return = e.return;\n        e = e.sibling;\n      }\n    };\n\n    te = function te(a) {\n      var b = a.stateNode;\n\n      if (null !== a.firstEffect) {\n        var c = b.containerInfo,\n            d = hb(c);\n        we(d, a, !1, !1);\n        b.pendingChildren = d;\n        re(a);\n        jb(c, d);\n      }\n    };\n\n    ue = function ue(a, b, c, d, e) {\n      var f = a.stateNode,\n          g = a.memoizedProps;\n      if ((a = null === b.firstEffect) && g === d) b.stateNode = f;else {\n        var h = b.stateNode,\n            k = gd(J.current),\n            l = null;\n        g !== d && (l = Ia(h, c, g, d, e, k));\n        a && null === l ? b.stateNode = f : (f = gb(f, l, c, g, d, b, a, h), Ha(f, c, d, e, k) && re(b), b.stateNode = f, a ? re(b) : _se(f, b, !1, !1));\n      }\n    };\n\n    ve = function ve(a, b, c, d) {\n      c !== d ? (a = gd(fd.current), c = gd(J.current), b.stateNode = La(d, a, c, b), re(b)) : b.stateNode = a.stateNode;\n    };\n  } else te = function te() {}, ue = function ue() {}, ve = function ve() {};\n\n  function xe(a, b) {\n    switch (a.tailMode) {\n      case \"hidden\":\n        b = a.tail;\n\n        for (var c = null; null !== b;) {\n          null !== b.alternate && (c = b), b = b.sibling;\n        }\n\n        null === c ? a.tail = null : c.sibling = null;\n        break;\n\n      case \"collapsed\":\n        c = a.tail;\n\n        for (var d = null; null !== c;) {\n          null !== c.alternate && (d = c), c = c.sibling;\n        }\n\n        null === d ? b || null === a.tail ? a.tail = null : a.tail.sibling = null : d.sibling = null;\n    }\n  }\n\n  function ye(a, b, c) {\n    var d = b.pendingProps;\n\n    switch (b.tag) {\n      case 2:\n      case 16:\n      case 15:\n      case 0:\n      case 11:\n      case 7:\n      case 8:\n      case 12:\n      case 9:\n      case 14:\n        return null;\n\n      case 1:\n        return F(b.type) && Fb(), null;\n\n      case 3:\n        return id(), B(E), B(D), d = b.stateNode, d.pendingContext && (d.context = d.pendingContext, d.pendingContext = null), (null === a || null === a.child) && Zd(b) && re(b), te(b), null;\n\n      case 5:\n        kd(b);\n        var e = gd(fd.current);\n        c = b.type;\n        if (null !== a && null != b.stateNode) ue(a, b, c, d, e), a.ref !== b.ref && (b.effectTag |= 128);else {\n          if (!d) {\n            if (null === b.stateNode) throw Error(n(166));\n            return null;\n          }\n\n          a = gd(J.current);\n\n          if (Zd(b)) {\n            if (!Sa) throw Error(n(175));\n            a = tb(b.stateNode, b.type, b.memoizedProps, e, a, b);\n            b.updateQueue = a;\n            null !== a && re(b);\n          } else {\n            var f = Fa(c, d, e, a, b);\n\n            _se(f, b, !1, !1);\n\n            b.stateNode = f;\n            Ha(f, c, d, e, a) && re(b);\n          }\n\n          null !== b.ref && (b.effectTag |= 128);\n        }\n        return null;\n\n      case 6:\n        if (a && null != b.stateNode) ve(a, b, a.memoizedProps, d);else {\n          if (\"string\" !== typeof d && null === b.stateNode) throw Error(n(166));\n          a = gd(fd.current);\n          e = gd(J.current);\n\n          if (Zd(b)) {\n            if (!Sa) throw Error(n(176));\n            ub(b.stateNode, b.memoizedProps, b) && re(b);\n          } else b.stateNode = La(d, a, e, b);\n        }\n        return null;\n\n      case 13:\n        B(K);\n        d = b.memoizedState;\n        if (0 !== (b.effectTag & 64)) return b.expirationTime = c, b;\n        d = null !== d;\n        e = !1;\n        null === a ? void 0 !== b.memoizedProps.fallback && Zd(b) : (c = a.memoizedState, e = null !== c, d || null === c || (c = a.child.sibling, null !== c && (f = b.firstEffect, null !== f ? (b.firstEffect = c, c.nextEffect = f) : (b.firstEffect = b.lastEffect = c, c.nextEffect = null), c.effectTag = 8)));\n        if (d && !e && 0 !== (b.mode & 2)) if (null === a && !0 !== b.memoizedProps.unstable_avoidThisFallback || 0 !== (K.current & 1)) S === ze && (S = Ae);else {\n          if (S === ze || S === Ae) S = Be;\n          0 !== Ce && null !== T && (De(T, U), Ee(T, Ce));\n        }\n        Ra && d && (b.effectTag |= 4);\n        Qa && (d || e) && (b.effectTag |= 4);\n        return null;\n\n      case 4:\n        return id(), te(b), null;\n\n      case 10:\n        return tc(b), null;\n\n      case 17:\n        return F(b.type) && Fb(), null;\n\n      case 19:\n        B(K);\n        d = b.memoizedState;\n        if (null === d) return null;\n        e = 0 !== (b.effectTag & 64);\n        f = d.rendering;\n        if (null === f) {\n          if (e) xe(d, !1);else {\n            if (S !== ze || null !== a && 0 !== (a.effectTag & 64)) for (a = b.child; null !== a;) {\n              f = ld(a);\n\n              if (null !== f) {\n                b.effectTag |= 64;\n                xe(d, !1);\n                a = f.updateQueue;\n                null !== a && (b.updateQueue = a, b.effectTag |= 4);\n                null === d.lastEffect && (b.firstEffect = null);\n                b.lastEffect = d.lastEffect;\n                a = c;\n\n                for (d = b.child; null !== d;) {\n                  e = d, c = a, e.effectTag &= 2, e.nextEffect = null, e.firstEffect = null, e.lastEffect = null, f = e.alternate, null === f ? (e.childExpirationTime = 0, e.expirationTime = c, e.child = null, e.memoizedProps = null, e.memoizedState = null, e.updateQueue = null, e.dependencies = null) : (e.childExpirationTime = f.childExpirationTime, e.expirationTime = f.expirationTime, e.child = f.child, e.memoizedProps = f.memoizedProps, e.memoizedState = f.memoizedState, e.updateQueue = f.updateQueue, c = f.dependencies, e.dependencies = null === c ? null : {\n                    expirationTime: c.expirationTime,\n                    firstContext: c.firstContext,\n                    responders: c.responders\n                  }), d = d.sibling;\n                }\n\n                C(K, K.current & 1 | 2);\n                return b.child;\n              }\n\n              a = a.sibling;\n            }\n          }\n        } else {\n          if (!e) if (a = ld(f), null !== a) {\n            if (b.effectTag |= 64, e = !0, a = a.updateQueue, null !== a && (b.updateQueue = a, b.effectTag |= 4), xe(d, !0), null === d.tail && \"hidden\" === d.tailMode && !f.alternate) return b = b.lastEffect = d.lastEffect, null !== b && (b.nextEffect = null), null;\n          } else 2 * G() - d.renderingStartTime > d.tailExpiration && 1 < c && (b.effectTag |= 64, e = !0, xe(d, !1), b.expirationTime = b.childExpirationTime = c - 1);\n          d.isBackwards ? (f.sibling = b.child, b.child = f) : (a = d.last, null !== a ? a.sibling = f : b.child = f, d.last = f);\n        }\n        return null !== d.tail ? (0 === d.tailExpiration && (d.tailExpiration = G() + 500), a = d.tail, d.rendering = a, d.tail = a.sibling, d.lastEffect = b.lastEffect, d.renderingStartTime = G(), a.sibling = null, b = K.current, C(K, e ? b & 1 | 2 : b & 1), a) : null;\n    }\n\n    throw Error(n(156, b.tag));\n  }\n\n  function Fe(a) {\n    switch (a.tag) {\n      case 1:\n        F(a.type) && Fb();\n        var b = a.effectTag;\n        return b & 4096 ? (a.effectTag = b & -4097 | 64, a) : null;\n\n      case 3:\n        id();\n        B(E);\n        B(D);\n        b = a.effectTag;\n        if (0 !== (b & 64)) throw Error(n(285));\n        a.effectTag = b & -4097 | 64;\n        return a;\n\n      case 5:\n        return kd(a), null;\n\n      case 13:\n        return B(K), b = a.effectTag, b & 4096 ? (a.effectTag = b & -4097 | 64, a) : null;\n\n      case 19:\n        return B(K), null;\n\n      case 4:\n        return id(), null;\n\n      case 10:\n        return tc(a), null;\n\n      default:\n        return null;\n    }\n  }\n\n  function Ge(a, b) {\n    return {\n      value: a,\n      source: b,\n      stack: zb(b)\n    };\n  }\n\n  var He = \"function\" === typeof WeakSet ? WeakSet : Set;\n\n  function Ie(a, b) {\n    var c = b.source,\n        d = b.stack;\n    null === d && null !== c && (d = zb(c));\n    null !== c && ua(c.type);\n    b = b.value;\n    null !== a && 1 === a.tag && ua(a.type);\n\n    try {\n      console.error(b);\n    } catch (e) {\n      setTimeout(function () {\n        throw e;\n      });\n    }\n  }\n\n  function Je(a, b) {\n    try {\n      b.props = a.memoizedProps, b.state = a.memoizedState, b.componentWillUnmount();\n    } catch (c) {\n      Ke(a, c);\n    }\n  }\n\n  function Le(a) {\n    var b = a.ref;\n    if (null !== b) if (\"function\" === typeof b) try {\n      b(null);\n    } catch (c) {\n      Ke(a, c);\n    } else b.current = null;\n  }\n\n  function Me(a, b) {\n    switch (b.tag) {\n      case 0:\n      case 11:\n      case 15:\n      case 22:\n        return;\n\n      case 1:\n        if (b.effectTag & 256 && null !== a) {\n          var c = a.memoizedProps,\n              d = a.memoizedState;\n          a = b.stateNode;\n          b = a.getSnapshotBeforeUpdate(b.elementType === b.type ? c : mc(b.type, c), d);\n          a.__reactInternalSnapshotBeforeUpdate = b;\n        }\n\n        return;\n\n      case 3:\n      case 5:\n      case 6:\n      case 4:\n      case 17:\n        return;\n    }\n\n    throw Error(n(163));\n  }\n\n  function Ne(a, b) {\n    b = b.updateQueue;\n    b = null !== b ? b.lastEffect : null;\n\n    if (null !== b) {\n      var c = b = b.next;\n\n      do {\n        if ((c.tag & a) === a) {\n          var d = c.destroy;\n          c.destroy = void 0;\n          void 0 !== d && d();\n        }\n\n        c = c.next;\n      } while (c !== b);\n    }\n  }\n\n  function Oe(a, b) {\n    b = b.updateQueue;\n    b = null !== b ? b.lastEffect : null;\n\n    if (null !== b) {\n      var c = b = b.next;\n\n      do {\n        if ((c.tag & a) === a) {\n          var d = c.create;\n          c.destroy = d();\n        }\n\n        c = c.next;\n      } while (c !== b);\n    }\n  }\n\n  function Pe(a, b, c) {\n    switch (c.tag) {\n      case 0:\n      case 11:\n      case 15:\n      case 22:\n        Oe(3, c);\n        return;\n\n      case 1:\n        a = c.stateNode;\n        if (c.effectTag & 4) if (null === b) a.componentDidMount();else {\n          var d = c.elementType === c.type ? b.memoizedProps : mc(c.type, b.memoizedProps);\n          a.componentDidUpdate(d, b.memoizedState, a.__reactInternalSnapshotBeforeUpdate);\n        }\n        b = c.updateQueue;\n        null !== b && Hc(c, b, a);\n        return;\n\n      case 3:\n        b = c.updateQueue;\n\n        if (null !== b) {\n          a = null;\n          if (null !== c.child) switch (c.child.tag) {\n            case 5:\n              a = Aa(c.child.stateNode);\n              break;\n\n            case 1:\n              a = c.child.stateNode;\n          }\n          Hc(c, b, a);\n        }\n\n        return;\n\n      case 5:\n        a = c.stateNode;\n        null === b && c.effectTag & 4 && Wa(a, c.type, c.memoizedProps, c);\n        return;\n\n      case 6:\n        return;\n\n      case 4:\n        return;\n\n      case 12:\n        return;\n\n      case 13:\n        Sa && null === c.memoizedState && (c = c.alternate, null !== c && (c = c.memoizedState, null !== c && (c = c.dehydrated, null !== c && xb(c))));\n        return;\n\n      case 19:\n      case 17:\n      case 20:\n      case 21:\n        return;\n    }\n\n    throw Error(n(163));\n  }\n\n  function Qe(a, b, c) {\n    \"function\" === typeof Re && Re(b);\n\n    switch (b.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n      case 22:\n        a = b.updateQueue;\n\n        if (null !== a && (a = a.lastEffect, null !== a)) {\n          var d = a.next;\n          dc(97 < c ? 97 : c, function () {\n            var a = d;\n\n            do {\n              var c = a.destroy;\n\n              if (void 0 !== c) {\n                var g = b;\n\n                try {\n                  c();\n                } catch (h) {\n                  Ke(g, h);\n                }\n              }\n\n              a = a.next;\n            } while (a !== d);\n          });\n        }\n\n        break;\n\n      case 1:\n        Le(b);\n        c = b.stateNode;\n        \"function\" === typeof c.componentWillUnmount && Je(b, c);\n        break;\n\n      case 5:\n        Le(b);\n        break;\n\n      case 4:\n        Qa ? Se(a, b, c) : Ra && Te(b);\n    }\n  }\n\n  function Ue(a, b, c) {\n    for (var d = b;;) {\n      if (Qe(a, d, c), null === d.child || Qa && 4 === d.tag) {\n        if (d === b) break;\n\n        for (; null === d.sibling;) {\n          if (null === d.return || d.return === b) return;\n          d = d.return;\n        }\n\n        d.sibling.return = d.return;\n        d = d.sibling;\n      } else d.child.return = d, d = d.child;\n    }\n  }\n\n  function Ve(a) {\n    var b = a.alternate;\n    a.return = null;\n    a.child = null;\n    a.memoizedState = null;\n    a.updateQueue = null;\n    a.dependencies = null;\n    a.alternate = null;\n    a.firstEffect = null;\n    a.lastEffect = null;\n    a.pendingProps = null;\n    a.memoizedProps = null;\n    a.stateNode = null;\n    null !== b && Ve(b);\n  }\n\n  function Te(a) {\n    if (Ra) {\n      a = a.stateNode.containerInfo;\n      var b = hb(a);\n      kb(a, b);\n    }\n  }\n\n  function We(a) {\n    return 5 === a.tag || 3 === a.tag || 4 === a.tag;\n  }\n\n  function Xe(a) {\n    if (Qa) {\n      a: {\n        for (var b = a.return; null !== b;) {\n          if (We(b)) {\n            var c = b;\n            break a;\n          }\n\n          b = b.return;\n        }\n\n        throw Error(n(160));\n      }\n\n      b = c.stateNode;\n\n      switch (c.tag) {\n        case 5:\n          var d = !1;\n          break;\n\n        case 3:\n          b = b.containerInfo;\n          d = !0;\n          break;\n\n        case 4:\n          b = b.containerInfo;\n          d = !0;\n          break;\n\n        default:\n          throw Error(n(161));\n      }\n\n      c.effectTag & 16 && (bb(b), c.effectTag &= -17);\n\n      a: b: for (c = a;;) {\n        for (; null === c.sibling;) {\n          if (null === c.return || We(c.return)) {\n            c = null;\n            break a;\n          }\n\n          c = c.return;\n        }\n\n        c.sibling.return = c.return;\n\n        for (c = c.sibling; 5 !== c.tag && 6 !== c.tag && 18 !== c.tag;) {\n          if (c.effectTag & 2) continue b;\n          if (null === c.child || 4 === c.tag) continue b;else c.child.return = c, c = c.child;\n        }\n\n        if (!(c.effectTag & 2)) {\n          c = c.stateNode;\n          break a;\n        }\n      }\n\n      d ? Ye(a, c, b) : Ze(a, c, b);\n    }\n  }\n\n  function Ye(a, b, c) {\n    var d = a.tag,\n        e = 5 === d || 6 === d;\n    if (e) a = e ? a.stateNode : a.stateNode.instance, b ? Za(c, a, b) : Ua(c, a);else if (4 !== d && (a = a.child, null !== a)) for (Ye(a, b, c), a = a.sibling; null !== a;) {\n      Ye(a, b, c), a = a.sibling;\n    }\n  }\n\n  function Ze(a, b, c) {\n    var d = a.tag,\n        e = 5 === d || 6 === d;\n    if (e) a = e ? a.stateNode : a.stateNode.instance, b ? Ya(c, a, b) : Ta(c, a);else if (4 !== d && (a = a.child, null !== a)) for (Ze(a, b, c), a = a.sibling; null !== a;) {\n      Ze(a, b, c), a = a.sibling;\n    }\n  }\n\n  function Se(a, b, c) {\n    for (var d = b, e = !1, f, g;;) {\n      if (!e) {\n        e = d.return;\n\n        a: for (;;) {\n          if (null === e) throw Error(n(160));\n          f = e.stateNode;\n\n          switch (e.tag) {\n            case 5:\n              g = !1;\n              break a;\n\n            case 3:\n              f = f.containerInfo;\n              g = !0;\n              break a;\n\n            case 4:\n              f = f.containerInfo;\n              g = !0;\n              break a;\n          }\n\n          e = e.return;\n        }\n\n        e = !0;\n      }\n\n      if (5 === d.tag || 6 === d.tag) Ue(a, d, c), g ? ab(f, d.stateNode) : $a(f, d.stateNode);else if (4 === d.tag) {\n        if (null !== d.child) {\n          f = d.stateNode.containerInfo;\n          g = !0;\n          d.child.return = d;\n          d = d.child;\n          continue;\n        }\n      } else if (Qe(a, d, c), null !== d.child) {\n        d.child.return = d;\n        d = d.child;\n        continue;\n      }\n      if (d === b) break;\n\n      for (; null === d.sibling;) {\n        if (null === d.return || d.return === b) return;\n        d = d.return;\n        4 === d.tag && (e = !1);\n      }\n\n      d.sibling.return = d.return;\n      d = d.sibling;\n    }\n  }\n\n  function $e(a, b) {\n    if (Qa) {\n      switch (b.tag) {\n        case 0:\n        case 11:\n        case 14:\n        case 15:\n        case 22:\n          Ne(3, b);\n          return;\n\n        case 1:\n          return;\n\n        case 5:\n          var c = b.stateNode;\n\n          if (null != c) {\n            var d = b.memoizedProps;\n            a = null !== a ? a.memoizedProps : d;\n            var e = b.type,\n                f = b.updateQueue;\n            b.updateQueue = null;\n            null !== f && Xa(c, f, e, a, d, b);\n          }\n\n          return;\n\n        case 6:\n          if (null === b.stateNode) throw Error(n(162));\n          c = b.memoizedProps;\n          Va(b.stateNode, null !== a ? a.memoizedProps : c, c);\n          return;\n\n        case 3:\n          Sa && (b = b.stateNode, b.hydrate && (b.hydrate = !1, wb(b.containerInfo)));\n          return;\n\n        case 12:\n          return;\n\n        case 13:\n          af(b);\n          bf(b);\n          return;\n\n        case 19:\n          bf(b);\n          return;\n\n        case 17:\n          return;\n      }\n\n      throw Error(n(163));\n    }\n\n    switch (b.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n      case 22:\n        Ne(3, b);\n        return;\n\n      case 12:\n        return;\n\n      case 13:\n        af(b);\n        bf(b);\n        return;\n\n      case 19:\n        bf(b);\n        return;\n\n      case 3:\n        Sa && (c = b.stateNode, c.hydrate && (c.hydrate = !1, wb(c.containerInfo)));\n    }\n\n    a: if (Ra) {\n      switch (b.tag) {\n        case 1:\n        case 5:\n        case 6:\n        case 20:\n          break a;\n\n        case 3:\n        case 4:\n          b = b.stateNode;\n          kb(b.containerInfo, b.pendingChildren);\n          break a;\n      }\n\n      throw Error(n(163));\n    }\n  }\n\n  function af(a) {\n    var b = a;\n    if (null === a.memoizedState) var c = !1;else c = !0, b = a.child, cf = G();\n    if (Qa && null !== b) a: if (a = b, Qa) for (b = a;;) {\n      if (5 === b.tag) {\n        var d = b.stateNode;\n        c ? cb(d) : eb(b.stateNode, b.memoizedProps);\n      } else if (6 === b.tag) d = b.stateNode, c ? db(d) : fb(d, b.memoizedProps);else if (13 === b.tag && null !== b.memoizedState && null === b.memoizedState.dehydrated) {\n        d = b.child.sibling;\n        d.return = b;\n        b = d;\n        continue;\n      } else if (null !== b.child) {\n        b.child.return = b;\n        b = b.child;\n        continue;\n      }\n\n      if (b === a) break a;\n\n      for (; null === b.sibling;) {\n        if (null === b.return || b.return === a) break a;\n        b = b.return;\n      }\n\n      b.sibling.return = b.return;\n      b = b.sibling;\n    }\n  }\n\n  function bf(a) {\n    var b = a.updateQueue;\n\n    if (null !== b) {\n      a.updateQueue = null;\n      var c = a.stateNode;\n      null === c && (c = a.stateNode = new He());\n      b.forEach(function (b) {\n        var d = df.bind(null, a, b);\n        c.has(b) || (c.add(b), b.then(d, d));\n      });\n    }\n  }\n\n  var ef = \"function\" === typeof WeakMap ? WeakMap : Map;\n\n  function ff(a, b, c) {\n    c = Ac(c, null);\n    c.tag = 3;\n    c.payload = {\n      element: null\n    };\n    var d = b.value;\n\n    c.callback = function () {\n      gf || (gf = !0, hf = d);\n      Ie(a, b);\n    };\n\n    return c;\n  }\n\n  function jf(a, b, c) {\n    c = Ac(c, null);\n    c.tag = 3;\n    var d = a.type.getDerivedStateFromError;\n\n    if (\"function\" === typeof d) {\n      var e = b.value;\n\n      c.payload = function () {\n        Ie(a, b);\n        return d(e);\n      };\n    }\n\n    var f = a.stateNode;\n    null !== f && \"function\" === typeof f.componentDidCatch && (c.callback = function () {\n      \"function\" !== typeof d && (null === kf ? kf = new Set([this]) : kf.add(this), Ie(a, b));\n      var c = b.stack;\n      this.componentDidCatch(b.value, {\n        componentStack: null !== c ? c : \"\"\n      });\n    });\n    return c;\n  }\n\n  var lf = Math.ceil,\n      mf = p.ReactCurrentDispatcher,\n      nf = p.ReactCurrentOwner,\n      V = 0,\n      of = 8,\n      pf = 16,\n      qf = 32,\n      ze = 0,\n      rf = 1,\n      sf = 2,\n      Ae = 3,\n      Be = 4,\n      tf = 5,\n      W = V,\n      T = null,\n      X = null,\n      U = 0,\n      S = ze,\n      uf = null,\n      vf = 1073741823,\n      wf = 1073741823,\n      xf = null,\n      Ce = 0,\n      yf = !1,\n      cf = 0,\n      zf = 500,\n      Y = null,\n      gf = !1,\n      hf = null,\n      kf = null,\n      Af = !1,\n      Bf = null,\n      Cf = 90,\n      Df = null,\n      Ef = 0,\n      Ff = null,\n      Gf = 0;\n\n  function Lc() {\n    return (W & (pf | qf)) !== V ? 1073741821 - (G() / 10 | 0) : 0 !== Gf ? Gf : Gf = 1073741821 - (G() / 10 | 0);\n  }\n\n  function Mc(a, b, c) {\n    b = b.mode;\n    if (0 === (b & 2)) return 1073741823;\n    var d = bc();\n    if (0 === (b & 4)) return 99 === d ? 1073741823 : 1073741822;\n    if ((W & pf) !== V) return U;\n    if (null !== c) a = hc(a, c.timeoutMs | 0 || 5E3, 250);else switch (d) {\n      case 99:\n        a = 1073741823;\n        break;\n\n      case 98:\n        a = hc(a, 150, 100);\n        break;\n\n      case 97:\n      case 96:\n        a = hc(a, 5E3, 250);\n        break;\n\n      case 95:\n        a = 2;\n        break;\n\n      default:\n        throw Error(n(326));\n    }\n    null !== T && a === U && --a;\n    return a;\n  }\n\n  function Nc(a, b) {\n    if (50 < Ef) throw Ef = 0, Ff = null, Error(n(185));\n    a = Hf(a, b);\n\n    if (null !== a) {\n      var c = bc();\n      1073741823 === b ? (W & of) !== V && (W & (pf | qf)) === V ? If(a) : (Z(a), W === V && H()) : Z(a);\n      (W & 4) === V || 98 !== c && 99 !== c || (null === Df ? Df = new Map([[a, b]]) : (c = Df.get(a), (void 0 === c || c > b) && Df.set(a, b)));\n    }\n  }\n\n  function Hf(a, b) {\n    a.expirationTime < b && (a.expirationTime = b);\n    var c = a.alternate;\n    null !== c && c.expirationTime < b && (c.expirationTime = b);\n    var d = a.return,\n        e = null;\n    if (null === d && 3 === a.tag) e = a.stateNode;else for (; null !== d;) {\n      c = d.alternate;\n      d.childExpirationTime < b && (d.childExpirationTime = b);\n      null !== c && c.childExpirationTime < b && (c.childExpirationTime = b);\n\n      if (null === d.return && 3 === d.tag) {\n        e = d.stateNode;\n        break;\n      }\n\n      d = d.return;\n    }\n    null !== e && (T === e && (Gc(b), S === Be && De(e, U)), Ee(e, b));\n    return e;\n  }\n\n  function Jf(a) {\n    var b = a.lastExpiredTime;\n    if (0 !== b) return b;\n    b = a.firstPendingTime;\n    if (!Kf(a, b)) return b;\n    var c = a.lastPingedTime;\n    a = a.nextKnownPendingLevel;\n    a = c > a ? c : a;\n    return 2 >= a && b !== a ? 0 : a;\n  }\n\n  function Z(a) {\n    if (0 !== a.lastExpiredTime) a.callbackExpirationTime = 1073741823, a.callbackPriority = 99, a.callbackNode = fc(If.bind(null, a));else {\n      var b = Jf(a),\n          c = a.callbackNode;\n      if (0 === b) null !== c && (a.callbackNode = null, a.callbackExpirationTime = 0, a.callbackPriority = 90);else {\n        var d = Lc();\n        1073741823 === b ? d = 99 : 1 === b || 2 === b ? d = 95 : (d = 10 * (1073741821 - b) - 10 * (1073741821 - d), d = 0 >= d ? 99 : 250 >= d ? 98 : 5250 >= d ? 97 : 95);\n\n        if (null !== c) {\n          var e = a.callbackPriority;\n          if (a.callbackExpirationTime === b && e >= d) return;\n          c !== Vb && Mb(c);\n        }\n\n        a.callbackExpirationTime = b;\n        a.callbackPriority = d;\n        b = 1073741823 === b ? fc(If.bind(null, a)) : ec(d, Lf.bind(null, a), {\n          timeout: 10 * (1073741821 - b) - G()\n        });\n        a.callbackNode = b;\n      }\n    }\n  }\n\n  function Lf(a, b) {\n    Gf = 0;\n    if (b) return b = Lc(), Mf(a, b), Z(a), null;\n    var c = Jf(a);\n\n    if (0 !== c) {\n      b = a.callbackNode;\n      if ((W & (pf | qf)) !== V) throw Error(n(327));\n      Nf();\n      a === T && c === U || Of(a, c);\n\n      if (null !== X) {\n        var d = W;\n        W |= pf;\n        var e = Pf();\n\n        do {\n          try {\n            Qf();\n            break;\n          } catch (h) {\n            Rf(a, h);\n          }\n        } while (1);\n\n        rc();\n        W = d;\n        mf.current = e;\n        if (S === rf) throw b = uf, Of(a, c), De(a, c), Z(a), b;\n        if (null === X) switch (e = a.finishedWork = a.current.alternate, a.finishedExpirationTime = c, d = S, T = null, d) {\n          case ze:\n          case rf:\n            throw Error(n(345));\n\n          case sf:\n            Mf(a, 2 < c ? 2 : c);\n            break;\n\n          case Ae:\n            De(a, c);\n            d = a.lastSuspendedTime;\n            c === d && (a.nextKnownPendingLevel = Sf(e));\n\n            if (1073741823 === vf && (e = cf + zf - G(), 10 < e)) {\n              if (yf) {\n                var f = a.lastPingedTime;\n\n                if (0 === f || f >= c) {\n                  a.lastPingedTime = c;\n                  Of(a, c);\n                  break;\n                }\n              }\n\n              f = Jf(a);\n              if (0 !== f && f !== c) break;\n\n              if (0 !== d && d !== c) {\n                a.lastPingedTime = d;\n                break;\n              }\n\n              a.timeoutHandle = Ma(Tf.bind(null, a), e);\n              break;\n            }\n\n            Tf(a);\n            break;\n\n          case Be:\n            De(a, c);\n            d = a.lastSuspendedTime;\n            c === d && (a.nextKnownPendingLevel = Sf(e));\n\n            if (yf && (e = a.lastPingedTime, 0 === e || e >= c)) {\n              a.lastPingedTime = c;\n              Of(a, c);\n              break;\n            }\n\n            e = Jf(a);\n            if (0 !== e && e !== c) break;\n\n            if (0 !== d && d !== c) {\n              a.lastPingedTime = d;\n              break;\n            }\n\n            1073741823 !== wf ? d = 10 * (1073741821 - wf) - G() : 1073741823 === vf ? d = 0 : (d = 10 * (1073741821 - vf) - 5E3, e = G(), c = 10 * (1073741821 - c) - e, d = e - d, 0 > d && (d = 0), d = (120 > d ? 120 : 480 > d ? 480 : 1080 > d ? 1080 : 1920 > d ? 1920 : 3E3 > d ? 3E3 : 4320 > d ? 4320 : 1960 * lf(d / 1960)) - d, c < d && (d = c));\n\n            if (10 < d) {\n              a.timeoutHandle = Ma(Tf.bind(null, a), d);\n              break;\n            }\n\n            Tf(a);\n            break;\n\n          case tf:\n            if (1073741823 !== vf && null !== xf) {\n              f = vf;\n              var g = xf;\n              d = g.busyMinDurationMs | 0;\n              0 >= d ? d = 0 : (e = g.busyDelayMs | 0, f = G() - (10 * (1073741821 - f) - (g.timeoutMs | 0 || 5E3)), d = f <= e ? 0 : e + d - f);\n\n              if (10 < d) {\n                De(a, c);\n                a.timeoutHandle = Ma(Tf.bind(null, a), d);\n                break;\n              }\n            }\n\n            Tf(a);\n            break;\n\n          default:\n            throw Error(n(329));\n        }\n        Z(a);\n        if (a.callbackNode === b) return Lf.bind(null, a);\n      }\n    }\n\n    return null;\n  }\n\n  function If(a) {\n    var b = a.lastExpiredTime;\n    b = 0 !== b ? b : 1073741823;\n    if ((W & (pf | qf)) !== V) throw Error(n(327));\n    Nf();\n    a === T && b === U || Of(a, b);\n\n    if (null !== X) {\n      var c = W;\n      W |= pf;\n      var d = Pf();\n\n      do {\n        try {\n          Uf();\n          break;\n        } catch (e) {\n          Rf(a, e);\n        }\n      } while (1);\n\n      rc();\n      W = c;\n      mf.current = d;\n      if (S === rf) throw c = uf, Of(a, b), De(a, b), Z(a), c;\n      if (null !== X) throw Error(n(261));\n      a.finishedWork = a.current.alternate;\n      a.finishedExpirationTime = b;\n      T = null;\n      Tf(a);\n      Z(a);\n    }\n\n    return null;\n  }\n\n  function Vf(a, b) {\n    Mf(a, b);\n    Z(a);\n    (W & (pf | qf)) === V && H();\n  }\n\n  function Wf() {\n    if (null !== Df) {\n      var a = Df;\n      Df = null;\n      a.forEach(function (a, c) {\n        Mf(c, a);\n        Z(c);\n      });\n      H();\n    }\n  }\n\n  function Xf(a, b) {\n    var c = W;\n    W |= 1;\n\n    try {\n      return a(b);\n    } finally {\n      W = c, W === V && H();\n    }\n  }\n\n  function Yf(a, b) {\n    if ((W & (pf | qf)) !== V) throw Error(n(187));\n    var c = W;\n    W |= 1;\n\n    try {\n      return dc(99, a.bind(null, b));\n    } finally {\n      W = c, H();\n    }\n  }\n\n  function Of(a, b) {\n    a.finishedWork = null;\n    a.finishedExpirationTime = 0;\n    var c = a.timeoutHandle;\n    c !== Oa && (a.timeoutHandle = Oa, Na(c));\n    if (null !== X) for (c = X.return; null !== c;) {\n      var d = c;\n\n      switch (d.tag) {\n        case 1:\n          d = d.type.childContextTypes;\n          null !== d && void 0 !== d && Fb();\n          break;\n\n        case 3:\n          id();\n          B(E);\n          B(D);\n          break;\n\n        case 5:\n          kd(d);\n          break;\n\n        case 4:\n          id();\n          break;\n\n        case 13:\n          B(K);\n          break;\n\n        case 19:\n          B(K);\n          break;\n\n        case 10:\n          tc(d);\n      }\n\n      c = c.return;\n    }\n    T = a;\n    X = Xc(a.current, null);\n    U = b;\n    S = ze;\n    uf = null;\n    wf = vf = 1073741823;\n    xf = null;\n    Ce = 0;\n    yf = !1;\n  }\n\n  function Rf(a, b) {\n    do {\n      try {\n        rc();\n        nd.current = vd;\n        if (pd) for (var c = M.memoizedState; null !== c;) {\n          var d = c.queue;\n          null !== d && (d.pending = null);\n          c = c.next;\n        }\n        od = 0;\n        O = N = M = null;\n        pd = !1;\n        if (null === X || null === X.return) return S = rf, uf = b, X = null;\n\n        a: {\n          var e = a,\n              f = X.return,\n              g = X,\n              h = b;\n          b = U;\n          g.effectTag |= 2048;\n          g.firstEffect = g.lastEffect = null;\n\n          if (null !== h && \"object\" === typeof h && \"function\" === typeof h.then) {\n            var k = h;\n\n            if (0 === (g.mode & 2)) {\n              var l = g.alternate;\n              l ? (g.updateQueue = l.updateQueue, g.memoizedState = l.memoizedState, g.expirationTime = l.expirationTime) : (g.updateQueue = null, g.memoizedState = null);\n            }\n\n            var q = 0 !== (K.current & 1),\n                r = f;\n\n            do {\n              var w;\n\n              if (w = 13 === r.tag) {\n                var z = r.memoizedState;\n                if (null !== z) w = null !== z.dehydrated ? !0 : !1;else {\n                  var Q = r.memoizedProps;\n                  w = void 0 === Q.fallback ? !1 : !0 !== Q.unstable_avoidThisFallback ? !0 : q ? !1 : !0;\n                }\n              }\n\n              if (w) {\n                var A = r.updateQueue;\n\n                if (null === A) {\n                  var v = new Set();\n                  v.add(k);\n                  r.updateQueue = v;\n                } else A.add(k);\n\n                if (0 === (r.mode & 2)) {\n                  r.effectTag |= 64;\n                  g.effectTag &= -2981;\n                  if (1 === g.tag) if (null === g.alternate) g.tag = 17;else {\n                    var t = Ac(1073741823, null);\n                    t.tag = 2;\n                    Bc(g, t);\n                  }\n                  g.expirationTime = 1073741823;\n                  break a;\n                }\n\n                h = void 0;\n                g = b;\n                var x = e.pingCache;\n                null === x ? (x = e.pingCache = new ef(), h = new Set(), x.set(k, h)) : (h = x.get(k), void 0 === h && (h = new Set(), x.set(k, h)));\n\n                if (!h.has(g)) {\n                  h.add(g);\n                  var ke = cg.bind(null, e, k, g);\n                  k.then(ke, ke);\n                }\n\n                r.effectTag |= 4096;\n                r.expirationTime = b;\n                break a;\n              }\n\n              r = r.return;\n            } while (null !== r);\n\n            h = Error((ua(g.type) || \"A React component\") + \" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\" + zb(g));\n          }\n\n          S !== tf && (S = sf);\n          h = Ge(h, g);\n          r = f;\n\n          do {\n            switch (r.tag) {\n              case 3:\n                k = h;\n                r.effectTag |= 4096;\n                r.expirationTime = b;\n                var Zf = ff(r, k, b);\n                Cc(r, Zf);\n                break a;\n\n              case 1:\n                k = h;\n                var $f = r.type,\n                    Fc = r.stateNode;\n\n                if (0 === (r.effectTag & 64) && (\"function\" === typeof $f.getDerivedStateFromError || null !== Fc && \"function\" === typeof Fc.componentDidCatch && (null === kf || !kf.has(Fc)))) {\n                  r.effectTag |= 4096;\n                  r.expirationTime = b;\n                  var ag = jf(r, k, b);\n                  Cc(r, ag);\n                  break a;\n                }\n\n            }\n\n            r = r.return;\n          } while (null !== r);\n        }\n\n        X = dg(X);\n      } catch (bg) {\n        b = bg;\n        continue;\n      }\n\n      break;\n    } while (1);\n  }\n\n  function Pf() {\n    var a = mf.current;\n    mf.current = vd;\n    return null === a ? vd : a;\n  }\n\n  function Ec(a, b) {\n    a < vf && 2 < a && (vf = a);\n    null !== b && a < wf && 2 < a && (wf = a, xf = b);\n  }\n\n  function Gc(a) {\n    a > Ce && (Ce = a);\n  }\n\n  function Uf() {\n    for (; null !== X;) {\n      X = eg(X);\n    }\n  }\n\n  function Qf() {\n    for (; null !== X && !Wb();) {\n      X = eg(X);\n    }\n  }\n\n  function eg(a) {\n    var b = fg(a.alternate, a, U);\n    a.memoizedProps = a.pendingProps;\n    null === b && (b = dg(a));\n    nf.current = null;\n    return b;\n  }\n\n  function dg(a) {\n    X = a;\n\n    do {\n      var b = X.alternate;\n      a = X.return;\n\n      if (0 === (X.effectTag & 2048)) {\n        b = ye(b, X, U);\n\n        if (1 === U || 1 !== X.childExpirationTime) {\n          for (var c = 0, d = X.child; null !== d;) {\n            var e = d.expirationTime,\n                f = d.childExpirationTime;\n            e > c && (c = e);\n            f > c && (c = f);\n            d = d.sibling;\n          }\n\n          X.childExpirationTime = c;\n        }\n\n        if (null !== b) return b;\n        null !== a && 0 === (a.effectTag & 2048) && (null === a.firstEffect && (a.firstEffect = X.firstEffect), null !== X.lastEffect && (null !== a.lastEffect && (a.lastEffect.nextEffect = X.firstEffect), a.lastEffect = X.lastEffect), 1 < X.effectTag && (null !== a.lastEffect ? a.lastEffect.nextEffect = X : a.firstEffect = X, a.lastEffect = X));\n      } else {\n        b = Fe(X);\n        if (null !== b) return b.effectTag &= 2047, b;\n        null !== a && (a.firstEffect = a.lastEffect = null, a.effectTag |= 2048);\n      }\n\n      b = X.sibling;\n      if (null !== b) return b;\n      X = a;\n    } while (null !== X);\n\n    S === ze && (S = tf);\n    return null;\n  }\n\n  function Sf(a) {\n    var b = a.expirationTime;\n    a = a.childExpirationTime;\n    return b > a ? b : a;\n  }\n\n  function Tf(a) {\n    var b = bc();\n    dc(99, gg.bind(null, a, b));\n    return null;\n  }\n\n  function gg(a, b) {\n    do {\n      Nf();\n    } while (null !== Bf);\n\n    if ((W & (pf | qf)) !== V) throw Error(n(327));\n    var c = a.finishedWork,\n        d = a.finishedExpirationTime;\n    if (null === c) return null;\n    a.finishedWork = null;\n    a.finishedExpirationTime = 0;\n    if (c === a.current) throw Error(n(177));\n    a.callbackNode = null;\n    a.callbackExpirationTime = 0;\n    a.callbackPriority = 90;\n    a.nextKnownPendingLevel = 0;\n    var e = Sf(c);\n    a.firstPendingTime = e;\n    d <= a.lastSuspendedTime ? a.firstSuspendedTime = a.lastSuspendedTime = a.nextKnownPendingLevel = 0 : d <= a.firstSuspendedTime && (a.firstSuspendedTime = d - 1);\n    d <= a.lastPingedTime && (a.lastPingedTime = 0);\n    d <= a.lastExpiredTime && (a.lastExpiredTime = 0);\n    a === T && (X = T = null, U = 0);\n    1 < c.effectTag ? null !== c.lastEffect ? (c.lastEffect.nextEffect = c, e = c.firstEffect) : e = c : e = c.firstEffect;\n\n    if (null !== e) {\n      var f = W;\n      W |= qf;\n      nf.current = null;\n      Da(a.containerInfo);\n      Y = e;\n\n      do {\n        try {\n          hg();\n        } catch (t) {\n          if (null === Y) throw Error(n(330));\n          Ke(Y, t);\n          Y = Y.nextEffect;\n        }\n      } while (null !== Y);\n\n      Y = e;\n\n      do {\n        try {\n          for (var g = a, h = b; null !== Y;) {\n            var k = Y.effectTag;\n            k & 16 && Qa && bb(Y.stateNode);\n\n            if (k & 128) {\n              var l = Y.alternate;\n\n              if (null !== l) {\n                var q = l.ref;\n                null !== q && (\"function\" === typeof q ? q(null) : q.current = null);\n              }\n            }\n\n            switch (k & 1038) {\n              case 2:\n                Xe(Y);\n                Y.effectTag &= -3;\n                break;\n\n              case 6:\n                Xe(Y);\n                Y.effectTag &= -3;\n                $e(Y.alternate, Y);\n                break;\n\n              case 1024:\n                Y.effectTag &= -1025;\n                break;\n\n              case 1028:\n                Y.effectTag &= -1025;\n                $e(Y.alternate, Y);\n                break;\n\n              case 4:\n                $e(Y.alternate, Y);\n                break;\n\n              case 8:\n                var r = g,\n                    w = Y,\n                    z = h;\n                Qa ? Se(r, w, z) : Ue(r, w, z);\n                Ve(w);\n            }\n\n            Y = Y.nextEffect;\n          }\n        } catch (t) {\n          if (null === Y) throw Error(n(330));\n          Ke(Y, t);\n          Y = Y.nextEffect;\n        }\n      } while (null !== Y);\n\n      Ea(a.containerInfo);\n      a.current = c;\n      Y = e;\n\n      do {\n        try {\n          for (k = a; null !== Y;) {\n            var Q = Y.effectTag;\n            Q & 36 && Pe(k, Y.alternate, Y);\n\n            if (Q & 128) {\n              l = void 0;\n              var A = Y.ref;\n\n              if (null !== A) {\n                var v = Y.stateNode;\n\n                switch (Y.tag) {\n                  case 5:\n                    l = Aa(v);\n                    break;\n\n                  default:\n                    l = v;\n                }\n\n                \"function\" === typeof A ? A(l) : A.current = l;\n              }\n            }\n\n            Y = Y.nextEffect;\n          }\n        } catch (t) {\n          if (null === Y) throw Error(n(330));\n          Ke(Y, t);\n          Y = Y.nextEffect;\n        }\n      } while (null !== Y);\n\n      Y = null;\n      Xb();\n      W = f;\n    } else a.current = c;\n\n    if (Af) Af = !1, Bf = a, Cf = b;else for (Y = e; null !== Y;) {\n      b = Y.nextEffect, Y.nextEffect = null, Y = b;\n    }\n    b = a.firstPendingTime;\n    0 === b && (kf = null);\n    1073741823 === b ? a === Ff ? Ef++ : (Ef = 0, Ff = a) : Ef = 0;\n    \"function\" === typeof ig && ig(c.stateNode, d);\n    Z(a);\n    if (gf) throw gf = !1, a = hf, hf = null, a;\n    if ((W & of) !== V) return null;\n    H();\n    return null;\n  }\n\n  function hg() {\n    for (; null !== Y;) {\n      var a = Y.effectTag;\n      0 !== (a & 256) && Me(Y.alternate, Y);\n      0 === (a & 512) || Af || (Af = !0, ec(97, function () {\n        Nf();\n        return null;\n      }));\n      Y = Y.nextEffect;\n    }\n  }\n\n  function Nf() {\n    if (90 !== Cf) {\n      var a = 97 < Cf ? 97 : Cf;\n      Cf = 90;\n      return dc(a, jg);\n    }\n  }\n\n  function jg() {\n    if (null === Bf) return !1;\n    var a = Bf;\n    Bf = null;\n    if ((W & (pf | qf)) !== V) throw Error(n(331));\n    var b = W;\n    W |= qf;\n\n    for (a = a.current.firstEffect; null !== a;) {\n      try {\n        var c = a;\n        if (0 !== (c.effectTag & 512)) switch (c.tag) {\n          case 0:\n          case 11:\n          case 15:\n          case 22:\n            Ne(5, c), Oe(5, c);\n        }\n      } catch (d) {\n        if (null === a) throw Error(n(330));\n        Ke(a, d);\n      }\n\n      c = a.nextEffect;\n      a.nextEffect = null;\n      a = c;\n    }\n\n    W = b;\n    H();\n    return !0;\n  }\n\n  function kg(a, b, c) {\n    b = Ge(c, b);\n    b = ff(a, b, 1073741823);\n    Bc(a, b);\n    a = Hf(a, 1073741823);\n    null !== a && Z(a);\n  }\n\n  function Ke(a, b) {\n    if (3 === a.tag) kg(a, a, b);else for (var c = a.return; null !== c;) {\n      if (3 === c.tag) {\n        kg(c, a, b);\n        break;\n      } else if (1 === c.tag) {\n        var d = c.stateNode;\n\n        if (\"function\" === typeof c.type.getDerivedStateFromError || \"function\" === typeof d.componentDidCatch && (null === kf || !kf.has(d))) {\n          a = Ge(b, a);\n          a = jf(c, a, 1073741823);\n          Bc(c, a);\n          c = Hf(c, 1073741823);\n          null !== c && Z(c);\n          break;\n        }\n      }\n\n      c = c.return;\n    }\n  }\n\n  function cg(a, b, c) {\n    var d = a.pingCache;\n    null !== d && d.delete(b);\n    T === a && U === c ? S === Be || S === Ae && 1073741823 === vf && G() - cf < zf ? Of(a, U) : yf = !0 : Kf(a, c) && (b = a.lastPingedTime, 0 !== b && b < c || (a.lastPingedTime = c, Z(a)));\n  }\n\n  function df(a, b) {\n    var c = a.stateNode;\n    null !== c && c.delete(b);\n    b = 0;\n    0 === b && (b = Lc(), b = Mc(b, a, null));\n    a = Hf(a, b);\n    null !== a && Z(a);\n  }\n\n  var fg;\n\n  fg = function fg(a, b, c) {\n    var d = b.expirationTime;\n\n    if (null !== a) {\n      var e = b.pendingProps;\n      if (a.memoizedProps !== e || E.current) wc = !0;else {\n        if (d < c) {\n          wc = !1;\n\n          switch (b.tag) {\n            case 3:\n              le(b);\n              $d();\n              break;\n\n            case 5:\n              jd(b);\n              if (b.mode & 4 && 1 !== c && Ka(b.type, e)) return b.expirationTime = b.childExpirationTime = 1, null;\n              break;\n\n            case 1:\n              F(b.type) && Ib(b);\n              break;\n\n            case 4:\n              hd(b, b.stateNode.containerInfo);\n              break;\n\n            case 10:\n              sc(b, b.memoizedProps.value);\n              break;\n\n            case 13:\n              if (null !== b.memoizedState) {\n                d = b.child.childExpirationTime;\n                if (0 !== d && d >= c) return ne(a, b, c);\n                C(K, K.current & 1);\n                b = ce(a, b, c);\n                return null !== b ? b.sibling : null;\n              }\n\n              C(K, K.current & 1);\n              break;\n\n            case 19:\n              d = b.childExpirationTime >= c;\n\n              if (0 !== (a.effectTag & 64)) {\n                if (d) return qe(a, b, c);\n                b.effectTag |= 64;\n              }\n\n              e = b.memoizedState;\n              null !== e && (e.rendering = null, e.tail = null);\n              C(K, K.current);\n              if (!d) return null;\n          }\n\n          return ce(a, b, c);\n        }\n\n        wc = !1;\n      }\n    } else wc = !1;\n\n    b.expirationTime = 0;\n\n    switch (b.tag) {\n      case 2:\n        d = b.type;\n        null !== a && (a.alternate = null, b.alternate = null, b.effectTag |= 2);\n        a = b.pendingProps;\n        e = Eb(b, D.current);\n        vc(b, c);\n        e = rd(null, b, d, a, e, c);\n        b.effectTag |= 1;\n\n        if (\"object\" === typeof e && null !== e && \"function\" === typeof e.render && void 0 === e.$$typeof) {\n          b.tag = 1;\n          b.memoizedState = null;\n          b.updateQueue = null;\n\n          if (F(d)) {\n            var f = !0;\n            Ib(b);\n          } else f = !1;\n\n          b.memoizedState = null !== e.state && void 0 !== e.state ? e.state : null;\n          yc(b);\n          var g = d.getDerivedStateFromProps;\n          \"function\" === typeof g && Kc(b, d, g, a);\n          e.updater = Oc;\n          b.stateNode = e;\n          e._reactInternalFiber = b;\n          Sc(b, d, a, c);\n          b = je(null, b, d, !0, f, c);\n        } else b.tag = 0, R(null, b, e, c), b = b.child;\n\n        return b;\n\n      case 16:\n        a: {\n          e = b.elementType;\n          null !== a && (a.alternate = null, b.alternate = null, b.effectTag |= 2);\n          a = b.pendingProps;\n          ta(e);\n          if (1 !== e._status) throw e._result;\n          e = e._result;\n          b.type = e;\n          f = b.tag = lg(e);\n          a = mc(e, a);\n\n          switch (f) {\n            case 0:\n              b = ge(null, b, e, a, c);\n              break a;\n\n            case 1:\n              b = ie(null, b, e, a, c);\n              break a;\n\n            case 11:\n              b = be(null, b, e, a, c);\n              break a;\n\n            case 14:\n              b = de(null, b, e, mc(e.type, a), d, c);\n              break a;\n          }\n\n          throw Error(n(306, e, \"\"));\n        }\n\n        return b;\n\n      case 0:\n        return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : mc(d, e), ge(a, b, d, e, c);\n\n      case 1:\n        return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : mc(d, e), ie(a, b, d, e, c);\n\n      case 3:\n        le(b);\n        d = b.updateQueue;\n        if (null === a || null === d) throw Error(n(282));\n        d = b.pendingProps;\n        e = b.memoizedState;\n        e = null !== e ? e.element : null;\n        zc(a, b);\n        Dc(b, d, null, c);\n        d = b.memoizedState.element;\n        if (d === e) $d(), b = ce(a, b, c);else {\n          if (e = b.stateNode.hydrate) Sa ? (Sd = sb(b.stateNode.containerInfo), Rd = b, e = Td = !0) : e = !1;\n          if (e) for (c = cd(b, null, d, c), b.child = c; c;) {\n            c.effectTag = c.effectTag & -3 | 1024, c = c.sibling;\n          } else R(a, b, d, c), $d();\n          b = b.child;\n        }\n        return b;\n\n      case 5:\n        return jd(b), null === a && Xd(b), d = b.type, e = b.pendingProps, f = null !== a ? a.memoizedProps : null, g = e.children, Ja(d, e) ? g = null : null !== f && Ja(d, f) && (b.effectTag |= 16), he(a, b), b.mode & 4 && 1 !== c && Ka(d, e) ? (b.expirationTime = b.childExpirationTime = 1, b = null) : (R(a, b, g, c), b = b.child), b;\n\n      case 6:\n        return null === a && Xd(b), null;\n\n      case 13:\n        return ne(a, b, c);\n\n      case 4:\n        return hd(b, b.stateNode.containerInfo), d = b.pendingProps, null === a ? b.child = bd(b, null, d, c) : R(a, b, d, c), b.child;\n\n      case 11:\n        return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : mc(d, e), be(a, b, d, e, c);\n\n      case 7:\n        return R(a, b, b.pendingProps, c), b.child;\n\n      case 8:\n        return R(a, b, b.pendingProps.children, c), b.child;\n\n      case 12:\n        return R(a, b, b.pendingProps.children, c), b.child;\n\n      case 10:\n        a: {\n          d = b.type._context;\n          e = b.pendingProps;\n          g = b.memoizedProps;\n          f = e.value;\n          sc(b, f);\n\n          if (null !== g) {\n            var h = g.value;\n            f = jc(h, f) ? 0 : (\"function\" === typeof d._calculateChangedBits ? d._calculateChangedBits(h, f) : 1073741823) | 0;\n\n            if (0 === f) {\n              if (g.children === e.children && !E.current) {\n                b = ce(a, b, c);\n                break a;\n              }\n            } else for (h = b.child, null !== h && (h.return = b); null !== h;) {\n              var k = h.dependencies;\n\n              if (null !== k) {\n                g = h.child;\n\n                for (var l = k.firstContext; null !== l;) {\n                  if (l.context === d && 0 !== (l.observedBits & f)) {\n                    1 === h.tag && (l = Ac(c, null), l.tag = 2, Bc(h, l));\n                    h.expirationTime < c && (h.expirationTime = c);\n                    l = h.alternate;\n                    null !== l && l.expirationTime < c && (l.expirationTime = c);\n                    uc(h.return, c);\n                    k.expirationTime < c && (k.expirationTime = c);\n                    break;\n                  }\n\n                  l = l.next;\n                }\n              } else g = 10 === h.tag ? h.type === b.type ? null : h.child : h.child;\n\n              if (null !== g) g.return = h;else for (g = h; null !== g;) {\n                if (g === b) {\n                  g = null;\n                  break;\n                }\n\n                h = g.sibling;\n\n                if (null !== h) {\n                  h.return = g.return;\n                  g = h;\n                  break;\n                }\n\n                g = g.return;\n              }\n              h = g;\n            }\n          }\n\n          R(a, b, e.children, c);\n          b = b.child;\n        }\n\n        return b;\n\n      case 9:\n        return e = b.type, f = b.pendingProps, d = f.children, vc(b, c), e = I(e, f.unstable_observedBits), d = d(e), b.effectTag |= 1, R(a, b, d, c), b.child;\n\n      case 14:\n        return e = b.type, f = mc(e, b.pendingProps), f = mc(e.type, f), de(a, b, e, f, d, c);\n\n      case 15:\n        return fe(a, b, b.type, b.pendingProps, d, c);\n\n      case 17:\n        return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : mc(d, e), null !== a && (a.alternate = null, b.alternate = null, b.effectTag |= 2), b.tag = 1, F(d) ? (a = !0, Ib(b)) : a = !1, vc(b, c), Qc(b, d, e), Sc(b, d, e, c), je(null, b, d, !0, a, c);\n\n      case 19:\n        return qe(a, b, c);\n    }\n\n    throw Error(n(156, b.tag));\n  };\n\n  var mg = {\n    current: !1\n  },\n      ig = null,\n      Re = null;\n\n  function ng(a) {\n    if (\"undefined\" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) return !1;\n    var b = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n    if (b.isDisabled || !b.supportsFiber) return !0;\n\n    try {\n      var c = b.inject(a);\n\n      ig = function ig(a) {\n        try {\n          b.onCommitFiberRoot(c, a, void 0, 64 === (a.current.effectTag & 64));\n        } catch (e) {}\n      };\n\n      Re = function Re(a) {\n        try {\n          b.onCommitFiberUnmount(c, a);\n        } catch (e) {}\n      };\n    } catch (d) {}\n\n    return !0;\n  }\n\n  function og(a, b, c, d) {\n    this.tag = a;\n    this.key = c;\n    this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null;\n    this.index = 0;\n    this.ref = null;\n    this.pendingProps = b;\n    this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null;\n    this.mode = d;\n    this.effectTag = 0;\n    this.lastEffect = this.firstEffect = this.nextEffect = null;\n    this.childExpirationTime = this.expirationTime = 0;\n    this.alternate = null;\n  }\n\n  function Vd(a, b, c, d) {\n    return new og(a, b, c, d);\n  }\n\n  function ee(a) {\n    a = a.prototype;\n    return !(!a || !a.isReactComponent);\n  }\n\n  function lg(a) {\n    if (\"function\" === typeof a) return ee(a) ? 1 : 0;\n\n    if (void 0 !== a && null !== a) {\n      a = a.$$typeof;\n      if (a === la) return 11;\n      if (a === oa) return 14;\n    }\n\n    return 2;\n  }\n\n  function Xc(a, b) {\n    var c = a.alternate;\n    null === c ? (c = Vd(a.tag, b, a.key, a.mode), c.elementType = a.elementType, c.type = a.type, c.stateNode = a.stateNode, c.alternate = a, a.alternate = c) : (c.pendingProps = b, c.effectTag = 0, c.nextEffect = null, c.firstEffect = null, c.lastEffect = null);\n    c.childExpirationTime = a.childExpirationTime;\n    c.expirationTime = a.expirationTime;\n    c.child = a.child;\n    c.memoizedProps = a.memoizedProps;\n    c.memoizedState = a.memoizedState;\n    c.updateQueue = a.updateQueue;\n    b = a.dependencies;\n    c.dependencies = null === b ? null : {\n      expirationTime: b.expirationTime,\n      firstContext: b.firstContext,\n      responders: b.responders\n    };\n    c.sibling = a.sibling;\n    c.index = a.index;\n    c.ref = a.ref;\n    return c;\n  }\n\n  function Zc(a, b, c, d, e, f) {\n    var g = 2;\n    d = a;\n    if (\"function\" === typeof a) ee(a) && (g = 1);else if (\"string\" === typeof a) g = 5;else a: switch (a) {\n      case ea:\n        return ad(c.children, e, f, b);\n\n      case ka:\n        g = 8;\n        e |= 7;\n        break;\n\n      case fa:\n        g = 8;\n        e |= 1;\n        break;\n\n      case ha:\n        return a = Vd(12, c, b, e | 8), a.elementType = ha, a.type = ha, a.expirationTime = f, a;\n\n      case ma:\n        return a = Vd(13, c, b, e), a.type = ma, a.elementType = ma, a.expirationTime = f, a;\n\n      case na:\n        return a = Vd(19, c, b, e), a.elementType = na, a.expirationTime = f, a;\n\n      default:\n        if (\"object\" === typeof a && null !== a) switch (a.$$typeof) {\n          case ia:\n            g = 10;\n            break a;\n\n          case ja:\n            g = 9;\n            break a;\n\n          case la:\n            g = 11;\n            break a;\n\n          case oa:\n            g = 14;\n            break a;\n\n          case pa:\n            g = 16;\n            d = null;\n            break a;\n\n          case qa:\n            g = 22;\n            break a;\n        }\n        throw Error(n(130, null == a ? a : typeof a, \"\"));\n    }\n    b = Vd(g, c, b, e);\n    b.elementType = a;\n    b.type = d;\n    b.expirationTime = f;\n    return b;\n  }\n\n  function ad(a, b, c, d) {\n    a = Vd(7, a, d, b);\n    a.expirationTime = c;\n    return a;\n  }\n\n  function Yc(a, b, c) {\n    a = Vd(6, a, null, b);\n    a.expirationTime = c;\n    return a;\n  }\n\n  function $c(a, b, c) {\n    b = Vd(4, null !== a.children ? a.children : [], a.key, b);\n    b.expirationTime = c;\n    b.stateNode = {\n      containerInfo: a.containerInfo,\n      pendingChildren: null,\n      implementation: a.implementation\n    };\n    return b;\n  }\n\n  function pg(a, b, c) {\n    this.tag = b;\n    this.current = null;\n    this.containerInfo = a;\n    this.pingCache = this.pendingChildren = null;\n    this.finishedExpirationTime = 0;\n    this.finishedWork = null;\n    this.timeoutHandle = Oa;\n    this.pendingContext = this.context = null;\n    this.hydrate = c;\n    this.callbackNode = null;\n    this.callbackPriority = 90;\n    this.lastExpiredTime = this.lastPingedTime = this.nextKnownPendingLevel = this.lastSuspendedTime = this.firstSuspendedTime = this.firstPendingTime = 0;\n  }\n\n  function Kf(a, b) {\n    var c = a.firstSuspendedTime;\n    a = a.lastSuspendedTime;\n    return 0 !== c && c >= b && a <= b;\n  }\n\n  function De(a, b) {\n    var c = a.firstSuspendedTime,\n        d = a.lastSuspendedTime;\n    c < b && (a.firstSuspendedTime = b);\n    if (d > b || 0 === c) a.lastSuspendedTime = b;\n    b <= a.lastPingedTime && (a.lastPingedTime = 0);\n    b <= a.lastExpiredTime && (a.lastExpiredTime = 0);\n  }\n\n  function Ee(a, b) {\n    b > a.firstPendingTime && (a.firstPendingTime = b);\n    var c = a.firstSuspendedTime;\n    0 !== c && (b >= c ? a.firstSuspendedTime = a.lastSuspendedTime = a.nextKnownPendingLevel = 0 : b >= a.lastSuspendedTime && (a.lastSuspendedTime = b + 1), b > a.nextKnownPendingLevel && (a.nextKnownPendingLevel = b));\n  }\n\n  function Mf(a, b) {\n    var c = a.lastExpiredTime;\n    if (0 === c || c > b) a.lastExpiredTime = b;\n  }\n\n  var qg = null;\n\n  function rg(a) {\n    if (null === qg) try {\n      var b = (\"require\" + Math.random()).slice(0, 7);\n      qg = (module && module[b])(\"timers\").setImmediate;\n    } catch (c) {\n      qg = function qg(a) {\n        var b = new MessageChannel();\n        b.port1.onmessage = a;\n        b.port2.postMessage(void 0);\n      };\n    }\n    return qg(a);\n  }\n\n  function sg(a) {\n    var b = a._reactInternalFiber;\n\n    if (void 0 === b) {\n      if (\"function\" === typeof a.render) throw Error(n(188));\n      throw Error(n(268, Object.keys(a)));\n    }\n\n    a = ya(b);\n    return null === a ? null : a.stateNode;\n  }\n\n  function tg(a, b) {\n    a = a.memoizedState;\n    null !== a && null !== a.dehydrated && a.retryTime < b && (a.retryTime = b);\n  }\n\n  function ug(a, b) {\n    tg(a, b);\n    (a = a.alternate) && tg(a, b);\n  }\n\n  var vg = p.IsSomeRendererActing,\n      wg = \"function\" === typeof m.unstable_flushAllWithoutAsserting,\n      xg = m.unstable_flushAllWithoutAsserting || function () {\n    for (var a = !1; Nf();) {\n      a = !0;\n    }\n\n    return a;\n  };\n\n  function yg(a) {\n    try {\n      xg(), rg(function () {\n        xg() ? yg(a) : a();\n      });\n    } catch (b) {\n      a(b);\n    }\n  }\n\n  var zg = 0,\n      Ag = !1,\n      Bg = {\n    __proto__: null,\n    createContainer: function createContainer(a, b, c) {\n      a = new pg(a, b, c);\n      b = Vd(3, null, null, 2 === b ? 7 : 1 === b ? 3 : 0);\n      a.current = b;\n      b.stateNode = a;\n      yc(b);\n      return a;\n    },\n    updateContainer: function updateContainer(a, b, c, d) {\n      var e = b.current,\n          f = Lc(),\n          g = Ic.suspense;\n      f = Mc(f, e, g);\n\n      a: if (c) {\n        c = c._reactInternalFiber;\n\n        b: {\n          if (va(c) !== c || 1 !== c.tag) throw Error(n(170));\n          var h = c;\n\n          do {\n            switch (h.tag) {\n              case 3:\n                h = h.stateNode.context;\n                break b;\n\n              case 1:\n                if (F(h.type)) {\n                  h = h.stateNode.__reactInternalMemoizedMergedChildContext;\n                  break b;\n                }\n\n            }\n\n            h = h.return;\n          } while (null !== h);\n\n          throw Error(n(171));\n        }\n\n        if (1 === c.tag) {\n          var k = c.type;\n\n          if (F(k)) {\n            c = Hb(c, k, h);\n            break a;\n          }\n        }\n\n        c = h;\n      } else c = Cb;\n\n      null === b.context ? b.context = c : b.pendingContext = c;\n      b = Ac(f, g);\n      b.payload = {\n        element: a\n      };\n      d = void 0 === d ? null : d;\n      null !== d && (b.callback = d);\n      Bc(e, b);\n      Nc(e, f);\n      return f;\n    },\n    batchedEventUpdates: function batchedEventUpdates(a, b) {\n      var c = W;\n      W |= 2;\n\n      try {\n        return a(b);\n      } finally {\n        W = c, W === V && H();\n      }\n    },\n    batchedUpdates: Xf,\n    unbatchedUpdates: function unbatchedUpdates(a, b) {\n      var c = W;\n      W &= -2;\n      W |= of;\n\n      try {\n        return a(b);\n      } finally {\n        W = c, W === V && H();\n      }\n    },\n    deferredUpdates: function deferredUpdates(a) {\n      return dc(97, a);\n    },\n    syncUpdates: function syncUpdates(a, b, c, d) {\n      return dc(99, a.bind(null, b, c, d));\n    },\n    discreteUpdates: function discreteUpdates(a, b, c, d, e) {\n      var f = W;\n      W |= 4;\n\n      try {\n        return dc(98, a.bind(null, b, c, d, e));\n      } finally {\n        W = f, W === V && H();\n      }\n    },\n    flushDiscreteUpdates: function flushDiscreteUpdates() {\n      (W & (1 | pf | qf)) === V && (Wf(), Nf());\n    },\n    flushControlled: function flushControlled(a) {\n      var b = W;\n      W |= 1;\n\n      try {\n        dc(99, a);\n      } finally {\n        W = b, W === V && H();\n      }\n    },\n    flushSync: Yf,\n    flushPassiveEffects: Nf,\n    IsThisRendererActing: mg,\n    getPublicRootInstance: function getPublicRootInstance(a) {\n      a = a.current;\n      if (!a.child) return null;\n\n      switch (a.child.tag) {\n        case 5:\n          return Aa(a.child.stateNode);\n\n        default:\n          return a.child.stateNode;\n      }\n    },\n    attemptSynchronousHydration: function attemptSynchronousHydration(a) {\n      switch (a.tag) {\n        case 3:\n          var b = a.stateNode;\n          b.hydrate && Vf(b, b.firstPendingTime);\n          break;\n\n        case 13:\n          Yf(function () {\n            return Nc(a, 1073741823);\n          }), b = hc(Lc(), 150, 100), ug(a, b);\n      }\n    },\n    attemptUserBlockingHydration: function attemptUserBlockingHydration(a) {\n      if (13 === a.tag) {\n        var b = hc(Lc(), 150, 100);\n        Nc(a, b);\n        ug(a, b);\n      }\n    },\n    attemptContinuousHydration: function attemptContinuousHydration(a) {\n      13 === a.tag && (Nc(a, 3), ug(a, 3));\n    },\n    attemptHydrationAtCurrentPriority: function attemptHydrationAtCurrentPriority(a) {\n      if (13 === a.tag) {\n        var b = Lc();\n        b = Mc(b, a, null);\n        Nc(a, b);\n        ug(a, b);\n      }\n    },\n    findHostInstance: sg,\n    findHostInstanceWithWarning: function findHostInstanceWithWarning(a) {\n      return sg(a);\n    },\n    findHostInstanceWithNoPortals: function findHostInstanceWithNoPortals(a) {\n      a = za(a);\n      return null === a ? null : 20 === a.tag ? a.stateNode.instance : a.stateNode;\n    },\n    shouldSuspend: function shouldSuspend() {\n      return !1;\n    },\n    injectIntoDevTools: function injectIntoDevTools(a) {\n      var b = a.findFiberByHostInstance;\n      return ng(aa({}, a, {\n        overrideHookState: null,\n        overrideProps: null,\n        setSuspenseHandler: null,\n        scheduleUpdate: null,\n        currentDispatcherRef: p.ReactCurrentDispatcher,\n        findHostInstanceByFiber: function findHostInstanceByFiber(a) {\n          a = ya(a);\n          return null === a ? null : a.stateNode;\n        },\n        findFiberByHostInstance: function findFiberByHostInstance(a) {\n          return b ? b(a) : null;\n        },\n        findHostInstancesForRefresh: null,\n        scheduleRefresh: null,\n        scheduleRoot: null,\n        setRefreshHandler: null,\n        getCurrentFiber: null\n      }));\n    },\n    act: function act(a) {\n      function b() {\n        zg--;\n        vg.current = c;\n        mg.current = d;\n      }\n\n      !1 === Ag && (Ag = !0, console.error(\"act(...) is not supported in production builds of React, and might not behave as expected.\"));\n      zg++;\n      var c = vg.current;\n      var d = mg.current;\n      vg.current = !0;\n      mg.current = !0;\n\n      try {\n        var e = Xf(a);\n      } catch (f) {\n        throw b(), f;\n      }\n\n      if (null !== e && \"object\" === typeof e && \"function\" === typeof e.then) return {\n        then: function then(a, d) {\n          e.then(function () {\n            1 < zg || !0 === wg && !0 === c ? (b(), a()) : yg(function (c) {\n              b();\n              c ? d(c) : a();\n            });\n          }, function (a) {\n            b();\n            d(a);\n          });\n        }\n      };\n\n      try {\n        1 !== zg || !1 !== wg && !1 !== c || xg(), b();\n      } catch (f) {\n        throw b(), f;\n      }\n\n      return {\n        then: function then(a) {\n          a();\n        }\n      };\n    }\n  },\n      Cg = Bg && Bg[\"default\"] || Bg;\n  module.exports = Cg.default || Cg;\n  var $$$renderer = module.exports;\n  module.exports = $$$reconciler;\n  return $$$renderer;\n};","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"./Util\");\n\nvar Factory_1 = require(\"./Factory\");\n\nvar Node_1 = require(\"./Node\");\n\nvar Validators_1 = require(\"./Validators\");\n\nvar Global_1 = require(\"./Global\");\n\nvar PointerEvents = require(\"./PointerEvents\");\n\nvar HAS_SHADOW = 'hasShadow';\nvar SHADOW_RGBA = 'shadowRGBA';\nvar patternImage = 'patternImage';\nvar linearGradient = 'linearGradient';\nvar radialGradient = 'radialGradient';\nvar dummyContext;\n\nfunction getDummyContext() {\n  if (dummyContext) {\n    return dummyContext;\n  }\n\n  dummyContext = Util_1.Util.createCanvasElement().getContext('2d');\n  return dummyContext;\n}\n\nexports.shapes = {};\n\nfunction _fillFunc(context) {\n  context.fill();\n}\n\nfunction _strokeFunc(context) {\n  context.stroke();\n}\n\nfunction _fillFuncHit(context) {\n  context.fill();\n}\n\nfunction _strokeFuncHit(context) {\n  context.stroke();\n}\n\nfunction _clearHasShadowCache() {\n  this._clearCache(HAS_SHADOW);\n}\n\nfunction _clearGetShadowRGBACache() {\n  this._clearCache(SHADOW_RGBA);\n}\n\nfunction _clearFillPatternCache() {\n  this._clearCache(patternImage);\n}\n\nfunction _clearLinearGradientCache() {\n  this._clearCache(linearGradient);\n}\n\nfunction _clearRadialGradientCache() {\n  this._clearCache(radialGradient);\n}\n\nvar Shape = function (_super) {\n  __extends(Shape, _super);\n\n  function Shape(config) {\n    var _this = _super.call(this, config) || this;\n\n    var key;\n\n    while (true) {\n      key = Util_1.Util.getRandomColor();\n\n      if (key && !(key in exports.shapes)) {\n        break;\n      }\n    }\n\n    _this.colorKey = key;\n    exports.shapes[key] = _this;\n    return _this;\n  }\n\n  Shape.prototype.getContext = function () {\n    return this.getLayer().getContext();\n  };\n\n  Shape.prototype.getCanvas = function () {\n    return this.getLayer().getCanvas();\n  };\n\n  Shape.prototype.getSceneFunc = function () {\n    return this.attrs.sceneFunc || this['_sceneFunc'];\n  };\n\n  Shape.prototype.getHitFunc = function () {\n    return this.attrs.hitFunc || this['_hitFunc'];\n  };\n\n  Shape.prototype.hasShadow = function () {\n    return this._getCache(HAS_SHADOW, this._hasShadow);\n  };\n\n  Shape.prototype._hasShadow = function () {\n    return this.shadowEnabled() && this.shadowOpacity() !== 0 && !!(this.shadowColor() || this.shadowBlur() || this.shadowOffsetX() || this.shadowOffsetY());\n  };\n\n  Shape.prototype._getFillPattern = function () {\n    return this._getCache(patternImage, this.__getFillPattern);\n  };\n\n  Shape.prototype.__getFillPattern = function () {\n    if (this.fillPatternImage()) {\n      var ctx = getDummyContext();\n      var pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\n\n      if (pattern && pattern.setTransform) {\n        pattern.setTransform({\n          a: this.fillPatternScaleX(),\n          b: 0,\n          c: 0,\n          d: this.fillPatternScaleY(),\n          e: 0,\n          f: 0\n        });\n      }\n\n      return pattern;\n    }\n  };\n\n  Shape.prototype._getLinearGradient = function () {\n    return this._getCache(linearGradient, this.__getLinearGradient);\n  };\n\n  Shape.prototype.__getLinearGradient = function () {\n    var colorStops = this.fillLinearGradientColorStops();\n\n    if (colorStops) {\n      var ctx = getDummyContext();\n      var start = this.fillLinearGradientStartPoint();\n      var end = this.fillLinearGradientEndPoint();\n      var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n\n      for (var n = 0; n < colorStops.length; n += 2) {\n        grd.addColorStop(colorStops[n], colorStops[n + 1]);\n      }\n\n      return grd;\n    }\n  };\n\n  Shape.prototype._getRadialGradient = function () {\n    return this._getCache(radialGradient, this.__getRadialGradient);\n  };\n\n  Shape.prototype.__getRadialGradient = function () {\n    var colorStops = this.fillRadialGradientColorStops();\n\n    if (colorStops) {\n      var ctx = getDummyContext();\n      var start = this.fillRadialGradientStartPoint();\n      var end = this.fillRadialGradientEndPoint();\n      var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\n\n      for (var n = 0; n < colorStops.length; n += 2) {\n        grd.addColorStop(colorStops[n], colorStops[n + 1]);\n      }\n\n      return grd;\n    }\n  };\n\n  Shape.prototype.getShadowRGBA = function () {\n    return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\n  };\n\n  Shape.prototype._getShadowRGBA = function () {\n    if (this.hasShadow()) {\n      var rgba = Util_1.Util.colorToRGBA(this.shadowColor());\n      return 'rgba(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ',' + rgba.a * (this.shadowOpacity() || 1) + ')';\n    }\n  };\n\n  Shape.prototype.hasFill = function () {\n    var _this = this;\n\n    return this._calculate('hasFill', ['fillEnabled', 'fill', 'fillPatternImage', 'fillLinearGradientColorStops', 'fillRadialGradientColorStops'], function () {\n      return _this.fillEnabled() && !!(_this.fill() || _this.fillPatternImage() || _this.fillLinearGradientColorStops() || _this.fillRadialGradientColorStops());\n    });\n  };\n\n  Shape.prototype.hasStroke = function () {\n    var _this = this;\n\n    return this._calculate('hasStroke', ['strokeEnabled', 'strokeWidth', 'stroke', 'strokeLinearGradientColorStops'], function () {\n      return _this.strokeEnabled() && _this.strokeWidth() && !!(_this.stroke() || _this.strokeLinearGradientColorStops());\n    });\n  };\n\n  Shape.prototype.hasHitStroke = function () {\n    var width = this.hitStrokeWidth();\n\n    if (width === 'auto') {\n      return this.hasStroke();\n    }\n\n    return this.strokeEnabled() && !!width;\n  };\n\n  Shape.prototype.intersects = function (point) {\n    var stage = this.getStage(),\n        bufferHitCanvas = stage.bufferHitCanvas,\n        p;\n    bufferHitCanvas.getContext().clear();\n    this.drawHit(bufferHitCanvas);\n    p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\n    return p[3] > 0;\n  };\n\n  Shape.prototype.destroy = function () {\n    Node_1.Node.prototype.destroy.call(this);\n    delete exports.shapes[this.colorKey];\n    delete this.colorKey;\n    return this;\n  };\n\n  Shape.prototype._useBufferCanvas = function (forceFill) {\n    var _a;\n\n    if (!this.getStage()) {\n      return false;\n    }\n\n    var perfectDrawEnabled = (_a = this.attrs.perfectDrawEnabled) !== null && _a !== void 0 ? _a : true;\n\n    if (!perfectDrawEnabled) {\n      return false;\n    }\n\n    var hasFill = forceFill || this.hasFill();\n    var hasStroke = this.hasStroke();\n    var isTransparent = this.getAbsoluteOpacity() !== 1;\n\n    if (hasFill && hasStroke && isTransparent) {\n      return true;\n    }\n\n    var hasShadow = this.hasShadow();\n    var strokeForShadow = this.shadowForStrokeEnabled();\n\n    if (hasFill && hasStroke && hasShadow && strokeForShadow) {\n      return true;\n    }\n\n    return false;\n  };\n\n  Shape.prototype.setStrokeHitEnabled = function (val) {\n    Util_1.Util.warn('strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead.');\n\n    if (val) {\n      this.hitStrokeWidth('auto');\n    } else {\n      this.hitStrokeWidth(0);\n    }\n  };\n\n  Shape.prototype.getStrokeHitEnabled = function () {\n    if (this.hitStrokeWidth() === 0) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  Shape.prototype.getSelfRect = function () {\n    var size = this.size();\n    return {\n      x: this._centroid ? -size.width / 2 : 0,\n      y: this._centroid ? -size.height / 2 : 0,\n      width: size.width,\n      height: size.height\n    };\n  };\n\n  Shape.prototype.getClientRect = function (attrs) {\n    attrs = attrs || {};\n    var skipTransform = attrs.skipTransform;\n    var relativeTo = attrs.relativeTo;\n    var fillRect = this.getSelfRect();\n    var applyStroke = !attrs.skipStroke && this.hasStroke();\n    var strokeWidth = applyStroke && this.strokeWidth() || 0;\n    var fillAndStrokeWidth = fillRect.width + strokeWidth;\n    var fillAndStrokeHeight = fillRect.height + strokeWidth;\n    var applyShadow = !attrs.skipShadow && this.hasShadow();\n    var shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\n    var shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\n    var preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\n    var preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\n    var blurRadius = applyShadow && this.shadowBlur() || 0;\n    var width = preWidth + blurRadius * 2;\n    var height = preHeight + blurRadius * 2;\n    var roundingOffset = 0;\n\n    if (Math.round(strokeWidth / 2) !== strokeWidth / 2) {\n      roundingOffset = 1;\n    }\n\n    var rect = {\n      width: width + roundingOffset,\n      height: height + roundingOffset,\n      x: -Math.round(strokeWidth / 2 + blurRadius) + Math.min(shadowOffsetX, 0) + fillRect.x,\n      y: -Math.round(strokeWidth / 2 + blurRadius) + Math.min(shadowOffsetY, 0) + fillRect.y\n    };\n\n    if (!skipTransform) {\n      return this._transformedRect(rect, relativeTo);\n    }\n\n    return rect;\n  };\n\n  Shape.prototype.drawScene = function (can, top) {\n    var layer = this.getLayer(),\n        canvas = can || layer.getCanvas(),\n        context = canvas.getContext(),\n        cachedCanvas = this._getCanvasCache(),\n        drawFunc = this.getSceneFunc(),\n        hasShadow = this.hasShadow(),\n        stage,\n        bufferCanvas,\n        bufferContext;\n\n    var caching = canvas.isCache;\n    var skipBuffer = canvas.isCache;\n    var cachingSelf = top === this;\n\n    if (!this.isVisible() && !caching) {\n      return this;\n    }\n\n    if (cachedCanvas) {\n      context.save();\n      var m = this.getAbsoluteTransform(top).getMatrix();\n      context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n\n      this._drawCachedSceneCanvas(context);\n\n      context.restore();\n      return this;\n    }\n\n    if (!drawFunc) {\n      return this;\n    }\n\n    context.save();\n\n    if (this._useBufferCanvas() && !skipBuffer) {\n      stage = this.getStage();\n      bufferCanvas = stage.bufferCanvas;\n      bufferContext = bufferCanvas.getContext();\n      bufferContext.clear();\n      bufferContext.save();\n\n      bufferContext._applyLineJoin(this);\n\n      var o = this.getAbsoluteTransform(top).getMatrix();\n      bufferContext.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n      drawFunc.call(this, bufferContext, this);\n      bufferContext.restore();\n      var ratio = bufferCanvas.pixelRatio;\n\n      if (hasShadow) {\n        context._applyShadow(this);\n      }\n\n      context._applyOpacity(this);\n\n      context._applyGlobalCompositeOperation(this);\n\n      context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\n    } else {\n      context._applyLineJoin(this);\n\n      if (!cachingSelf) {\n        var o = this.getAbsoluteTransform(top).getMatrix();\n        context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n\n        context._applyOpacity(this);\n\n        context._applyGlobalCompositeOperation(this);\n      }\n\n      if (hasShadow) {\n        context._applyShadow(this);\n      }\n\n      drawFunc.call(this, context, this);\n    }\n\n    context.restore();\n    return this;\n  };\n\n  Shape.prototype.drawHit = function (can, top) {\n    if (!this.shouldDrawHit(top)) {\n      return this;\n    }\n\n    var layer = this.getLayer(),\n        canvas = can || layer.hitCanvas,\n        context = canvas && canvas.getContext(),\n        drawFunc = this.hitFunc() || this.sceneFunc(),\n        cachedCanvas = this._getCanvasCache(),\n        cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n\n    if (!this.colorKey) {\n      console.log(this);\n      Util_1.Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()');\n    }\n\n    if (cachedHitCanvas) {\n      context.save();\n      var m = this.getAbsoluteTransform(top).getMatrix();\n      context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n\n      this._drawCachedHitCanvas(context);\n\n      context.restore();\n      return this;\n    }\n\n    if (!drawFunc) {\n      return this;\n    }\n\n    context.save();\n\n    context._applyLineJoin(this);\n\n    var selfCache = this === top;\n\n    if (!selfCache) {\n      var o = this.getAbsoluteTransform(top).getMatrix();\n      context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n    }\n\n    drawFunc.call(this, context, this);\n    context.restore();\n    return this;\n  };\n\n  Shape.prototype.drawHitFromCache = function (alphaThreshold) {\n    if (alphaThreshold === void 0) {\n      alphaThreshold = 0;\n    }\n\n    var cachedCanvas = this._getCanvasCache(),\n        sceneCanvas = this._getCachedSceneCanvas(),\n        hitCanvas = cachedCanvas.hit,\n        hitContext = hitCanvas.getContext(),\n        hitWidth = hitCanvas.getWidth(),\n        hitHeight = hitCanvas.getHeight(),\n        hitImageData,\n        hitData,\n        len,\n        rgbColorKey,\n        i,\n        alpha;\n\n    hitContext.clear();\n    hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\n\n    try {\n      hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\n      hitData = hitImageData.data;\n      len = hitData.length;\n      rgbColorKey = Util_1.Util._hexToRgb(this.colorKey);\n\n      for (i = 0; i < len; i += 4) {\n        alpha = hitData[i + 3];\n\n        if (alpha > alphaThreshold) {\n          hitData[i] = rgbColorKey.r;\n          hitData[i + 1] = rgbColorKey.g;\n          hitData[i + 2] = rgbColorKey.b;\n          hitData[i + 3] = 255;\n        } else {\n          hitData[i + 3] = 0;\n        }\n      }\n\n      hitContext.putImageData(hitImageData, 0, 0);\n    } catch (e) {\n      Util_1.Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\n    }\n\n    return this;\n  };\n\n  Shape.prototype.hasPointerCapture = function (pointerId) {\n    return PointerEvents.hasPointerCapture(pointerId, this);\n  };\n\n  Shape.prototype.setPointerCapture = function (pointerId) {\n    PointerEvents.setPointerCapture(pointerId, this);\n  };\n\n  Shape.prototype.releaseCapture = function (pointerId) {\n    PointerEvents.releaseCapture(pointerId, this);\n  };\n\n  return Shape;\n}(Node_1.Node);\n\nexports.Shape = Shape;\nShape.prototype._fillFunc = _fillFunc;\nShape.prototype._strokeFunc = _strokeFunc;\nShape.prototype._fillFuncHit = _fillFuncHit;\nShape.prototype._strokeFuncHit = _strokeFuncHit;\nShape.prototype._centroid = false;\nShape.prototype.nodeType = 'Shape';\n\nGlobal_1._registerNode(Shape);\n\nShape.prototype.eventListeners = {};\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva', _clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\nFactory_1.Factory.addGetterSetter(Shape, 'stroke', undefined, Validators_1.getStringOrGradientValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'strokeWidth', 2, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', Validators_1.getNumberOrAutoValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'strokeHitEnabled', true, Validators_1.getBooleanValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'perfectDrawEnabled', true, Validators_1.getBooleanValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, Validators_1.getBooleanValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'lineJoin');\nFactory_1.Factory.addGetterSetter(Shape, 'lineCap');\nFactory_1.Factory.addGetterSetter(Shape, 'sceneFunc');\nFactory_1.Factory.addGetterSetter(Shape, 'hitFunc');\nFactory_1.Factory.addGetterSetter(Shape, 'dash');\nFactory_1.Factory.addGetterSetter(Shape, 'dashOffset', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowColor', undefined, Validators_1.getStringValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowBlur', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOpacity', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternImage');\nFactory_1.Factory.addGetterSetter(Shape, 'fill', undefined, Validators_1.getStringOrGradientValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\nFactory_1.Factory.addGetterSetter(Shape, 'fillEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'shadowEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'dashEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPriority', 'color');\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleX', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleY', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', ['x', 'y']);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', ['x', 'y']);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRotation', 0);\nFactory_1.Factory.backCompat(Shape, {\n  dashArray: 'dash',\n  getDashArray: 'getDash',\n  setDashArray: 'getDash',\n  drawFunc: 'sceneFunc',\n  getDrawFunc: 'getSceneFunc',\n  setDrawFunc: 'setSceneFunc',\n  drawHitFunc: 'hitFunc',\n  getDrawHitFunc: 'getHitFunc',\n  setDrawHitFunc: 'setHitFunc'\n});\nUtil_1.Collection.mapMethods(Shape);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CoreInternals_1 = require(\"./_CoreInternals\");\n\nvar Arc_1 = require(\"./shapes/Arc\");\n\nvar Arrow_1 = require(\"./shapes/Arrow\");\n\nvar Circle_1 = require(\"./shapes/Circle\");\n\nvar Ellipse_1 = require(\"./shapes/Ellipse\");\n\nvar Image_1 = require(\"./shapes/Image\");\n\nvar Label_1 = require(\"./shapes/Label\");\n\nvar Line_1 = require(\"./shapes/Line\");\n\nvar Path_1 = require(\"./shapes/Path\");\n\nvar Rect_1 = require(\"./shapes/Rect\");\n\nvar RegularPolygon_1 = require(\"./shapes/RegularPolygon\");\n\nvar Ring_1 = require(\"./shapes/Ring\");\n\nvar Sprite_1 = require(\"./shapes/Sprite\");\n\nvar Star_1 = require(\"./shapes/Star\");\n\nvar Text_1 = require(\"./shapes/Text\");\n\nvar TextPath_1 = require(\"./shapes/TextPath\");\n\nvar Transformer_1 = require(\"./shapes/Transformer\");\n\nvar Wedge_1 = require(\"./shapes/Wedge\");\n\nvar Blur_1 = require(\"./filters/Blur\");\n\nvar Brighten_1 = require(\"./filters/Brighten\");\n\nvar Contrast_1 = require(\"./filters/Contrast\");\n\nvar Emboss_1 = require(\"./filters/Emboss\");\n\nvar Enhance_1 = require(\"./filters/Enhance\");\n\nvar Grayscale_1 = require(\"./filters/Grayscale\");\n\nvar HSL_1 = require(\"./filters/HSL\");\n\nvar HSV_1 = require(\"./filters/HSV\");\n\nvar Invert_1 = require(\"./filters/Invert\");\n\nvar Kaleidoscope_1 = require(\"./filters/Kaleidoscope\");\n\nvar Mask_1 = require(\"./filters/Mask\");\n\nvar Noise_1 = require(\"./filters/Noise\");\n\nvar Pixelate_1 = require(\"./filters/Pixelate\");\n\nvar Posterize_1 = require(\"./filters/Posterize\");\n\nvar RGB_1 = require(\"./filters/RGB\");\n\nvar RGBA_1 = require(\"./filters/RGBA\");\n\nvar Sepia_1 = require(\"./filters/Sepia\");\n\nvar Solarize_1 = require(\"./filters/Solarize\");\n\nvar Threshold_1 = require(\"./filters/Threshold\");\n\nexports.Konva = _CoreInternals_1.Konva.Util._assign(_CoreInternals_1.Konva, {\n  Arc: Arc_1.Arc,\n  Arrow: Arrow_1.Arrow,\n  Circle: Circle_1.Circle,\n  Ellipse: Ellipse_1.Ellipse,\n  Image: Image_1.Image,\n  Label: Label_1.Label,\n  Tag: Label_1.Tag,\n  Line: Line_1.Line,\n  Path: Path_1.Path,\n  Rect: Rect_1.Rect,\n  RegularPolygon: RegularPolygon_1.RegularPolygon,\n  Ring: Ring_1.Ring,\n  Sprite: Sprite_1.Sprite,\n  Star: Star_1.Star,\n  Text: Text_1.Text,\n  TextPath: TextPath_1.TextPath,\n  Transformer: Transformer_1.Transformer,\n  Wedge: Wedge_1.Wedge,\n  Filters: {\n    Blur: Blur_1.Blur,\n    Brighten: Brighten_1.Brighten,\n    Contrast: Contrast_1.Contrast,\n    Emboss: Emboss_1.Emboss,\n    Enhance: Enhance_1.Enhance,\n    Grayscale: Grayscale_1.Grayscale,\n    HSL: HSL_1.HSL,\n    HSV: HSV_1.HSV,\n    Invert: Invert_1.Invert,\n    Kaleidoscope: Kaleidoscope_1.Kaleidoscope,\n    Mask: Mask_1.Mask,\n    Noise: Noise_1.Noise,\n    Pixelate: Pixelate_1.Pixelate,\n    Posterize: Posterize_1.Posterize,\n    RGB: RGB_1.RGB,\n    RGBA: RGBA_1.RGBA,\n    Sepia: Sepia_1.Sepia,\n    Solarize: Solarize_1.Solarize,\n    Threshold: Threshold_1.Threshold\n  }\n});","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar PI_OVER_180 = Math.PI / 180;\n\nfunction detectBrowser() {\n  return typeof window !== 'undefined' && ({}.toString.call(window) === '[object Window]' || {}.toString.call(window) === '[object global]');\n}\n\nvar _detectIE = function _detectIE(ua) {\n  var msie = ua.indexOf('msie ');\n\n  if (msie > 0) {\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n  }\n\n  var trident = ua.indexOf('trident/');\n\n  if (trident > 0) {\n    var rv = ua.indexOf('rv:');\n    return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n  }\n\n  var edge = ua.indexOf('edge/');\n\n  if (edge > 0) {\n    return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n  }\n\n  return false;\n};\n\nexports._parseUA = function (userAgent) {\n  var ua = userAgent.toLowerCase(),\n      match = /(chrome)[ /]([\\w.]+)/.exec(ua) || /(webkit)[ /]([\\w.]+)/.exec(ua) || /(opera)(?:.*version|)[ /]([\\w.]+)/.exec(ua) || /(msie) ([\\w.]+)/.exec(ua) || ua.indexOf('compatible') < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua) || [],\n      mobile = !!userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),\n      ieMobile = !!userAgent.match(/IEMobile/i);\n  return {\n    browser: match[1] || '',\n    version: match[2] || '0',\n    isIE: _detectIE(ua),\n    mobile: mobile,\n    ieMobile: ieMobile\n  };\n};\n\nexports.glob = typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof WorkerGlobalScope !== 'undefined' ? self : {};\nexports.Konva = {\n  _global: exports.glob,\n  version: '7.1.3',\n  isBrowser: detectBrowser(),\n  isUnminified: /param/.test(function (param) {}.toString()),\n  dblClickWindow: 400,\n  getAngle: function getAngle(angle) {\n    return exports.Konva.angleDeg ? angle * PI_OVER_180 : angle;\n  },\n  enableTrace: false,\n  _pointerEventsEnabled: false,\n  hitOnDragEnabled: false,\n  captureTouchEventsEnabled: false,\n  listenClickTap: false,\n  inDblClickWindow: false,\n  pixelRatio: undefined,\n  dragDistance: 3,\n  angleDeg: true,\n  showWarnings: true,\n  dragButtons: [0, 1],\n  isDragging: function isDragging() {\n    return exports.Konva['DD'].isDragging;\n  },\n  isDragReady: function isDragReady() {\n    return !!exports.Konva['DD'].node;\n  },\n  UA: exports._parseUA(exports.glob.navigator && exports.glob.navigator.userAgent || ''),\n  document: exports.glob.document,\n  _injectGlobal: function _injectGlobal(Konva) {\n    exports.glob.Konva = Konva;\n  },\n  _parseUA: exports._parseUA\n};\nexports._NODES_REGISTRY = {};\n\nexports._registerNode = function (NodeClass) {\n  exports._NODES_REGISTRY[NodeClass.prototype.getClassName()] = NodeClass;\n  exports.Konva[NodeClass.prototype.getClassName()] = NodeClass;\n};","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Rect_1 = require(\"./Rect\");\n\nvar Group_1 = require(\"../Group\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_2 = require(\"../Global\");\n\nvar EVENTS_NAME = 'tr-konva';\nvar ATTR_CHANGE_LIST = ['resizeEnabledChange', 'rotateAnchorOffsetChange', 'rotateEnabledChange', 'enabledAnchorsChange', 'anchorSizeChange', 'borderEnabledChange', 'borderStrokeChange', 'borderStrokeWidthChange', 'borderDashChange', 'anchorStrokeChange', 'anchorStrokeWidthChange', 'anchorFillChange', 'anchorCornerRadiusChange', 'ignoreStrokeChange'].map(function (e) {\n  return e + (\".\" + EVENTS_NAME);\n}).join(' ');\nvar NODES_RECT = 'nodesRect';\nvar TRANSFORM_CHANGE_STR = ['widthChange', 'heightChange', 'scaleXChange', 'scaleYChange', 'skewXChange', 'skewYChange', 'rotationChange', 'offsetXChange', 'offsetYChange', 'transformsEnabledChange', 'strokeWidthChange'].map(function (e) {\n  return e + (\".\" + EVENTS_NAME);\n}).join(' ');\nvar ANGLES = {\n  'top-left': -45,\n  'top-center': 0,\n  'top-right': 45,\n  'middle-right': -90,\n  'middle-left': 90,\n  'bottom-left': -135,\n  'bottom-center': 180,\n  'bottom-right': 135\n};\nvar TOUCH_DEVICE = ('ontouchstart' in Global_1.Konva._global);\n\nfunction getCursor(anchorName, rad) {\n  if (anchorName === 'rotater') {\n    return 'crosshair';\n  }\n\n  rad += Util_1.Util._degToRad(ANGLES[anchorName] || 0);\n  var angle = (Util_1.Util._radToDeg(rad) % 360 + 360) % 360;\n\n  if (Util_1.Util._inRange(angle, 315 + 22.5, 360) || Util_1.Util._inRange(angle, 0, 22.5)) {\n    return 'ns-resize';\n  } else if (Util_1.Util._inRange(angle, 45 - 22.5, 45 + 22.5)) {\n    return 'nesw-resize';\n  } else if (Util_1.Util._inRange(angle, 90 - 22.5, 90 + 22.5)) {\n    return 'ew-resize';\n  } else if (Util_1.Util._inRange(angle, 135 - 22.5, 135 + 22.5)) {\n    return 'nwse-resize';\n  } else if (Util_1.Util._inRange(angle, 180 - 22.5, 180 + 22.5)) {\n    return 'ns-resize';\n  } else if (Util_1.Util._inRange(angle, 225 - 22.5, 225 + 22.5)) {\n    return 'nesw-resize';\n  } else if (Util_1.Util._inRange(angle, 270 - 22.5, 270 + 22.5)) {\n    return 'ew-resize';\n  } else if (Util_1.Util._inRange(angle, 315 - 22.5, 315 + 22.5)) {\n    return 'nwse-resize';\n  } else {\n    Util_1.Util.error('Transformer has unknown angle for cursor detection: ' + angle);\n    return 'pointer';\n  }\n}\n\nvar ANCHORS_NAMES = ['top-left', 'top-center', 'top-right', 'middle-right', 'middle-left', 'bottom-left', 'bottom-center', 'bottom-right'];\nvar MAX_SAFE_INTEGER = 100000000;\n\nfunction getCenter(shape) {\n  return {\n    x: shape.x + shape.width / 2 * Math.cos(shape.rotation) + shape.height / 2 * Math.sin(-shape.rotation),\n    y: shape.y + shape.height / 2 * Math.cos(shape.rotation) + shape.width / 2 * Math.sin(shape.rotation)\n  };\n}\n\nfunction rotateAroundPoint(shape, angleRad, point) {\n  var x = point.x + (shape.x - point.x) * Math.cos(angleRad) - (shape.y - point.y) * Math.sin(angleRad);\n  var y = point.y + (shape.x - point.x) * Math.sin(angleRad) + (shape.y - point.y) * Math.cos(angleRad);\n  return __assign(__assign({}, shape), {\n    rotation: shape.rotation + angleRad,\n    x: x,\n    y: y\n  });\n}\n\nfunction rotateAroundCenter(shape, deltaRad) {\n  var center = getCenter(shape);\n  return rotateAroundPoint(shape, deltaRad, center);\n}\n\nfunction getSnap(snaps, newRotationRad, tol) {\n  var snapped = newRotationRad;\n\n  for (var i = 0; i < snaps.length; i++) {\n    var angle = Global_1.Konva.getAngle(snaps[i]);\n    var absDiff = Math.abs(angle - newRotationRad) % (Math.PI * 2);\n    var dif = Math.min(absDiff, Math.PI * 2 - absDiff);\n\n    if (dif < tol) {\n      snapped = angle;\n    }\n  }\n\n  return snapped;\n}\n\nvar Transformer = function (_super) {\n  __extends(Transformer, _super);\n\n  function Transformer(config) {\n    var _this = _super.call(this, config) || this;\n\n    _this._transforming = false;\n\n    _this._createElements();\n\n    _this._handleMouseMove = _this._handleMouseMove.bind(_this);\n    _this._handleMouseUp = _this._handleMouseUp.bind(_this);\n    _this.update = _this.update.bind(_this);\n\n    _this.on(ATTR_CHANGE_LIST, _this.update);\n\n    if (_this.getNode()) {\n      _this.update();\n    }\n\n    return _this;\n  }\n\n  Transformer.prototype.attachTo = function (node) {\n    this.setNode(node);\n    return this;\n  };\n\n  Transformer.prototype.setNode = function (node) {\n    Util_1.Util.warn('tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead.');\n    return this.setNodes([node]);\n  };\n\n  Transformer.prototype.getNode = function () {\n    return this._nodes && this._nodes[0];\n  };\n\n  Transformer.prototype.setNodes = function (nodes) {\n    var _this = this;\n\n    if (nodes === void 0) {\n      nodes = [];\n    }\n\n    if (this._nodes && this._nodes.length) {\n      this.detach();\n    }\n\n    this._nodes = nodes;\n\n    if (nodes.length === 1) {\n      this.rotation(nodes[0].rotation());\n    } else {\n      this.rotation(0);\n    }\n\n    this._nodes.forEach(function (node) {\n      var additionalEvents = node._attrsAffectingSize.map(function (prop) {\n        return prop + 'Change.' + EVENTS_NAME;\n      }).join(' ');\n\n      var onChange = function onChange() {\n        if (_this.nodes().length === 1) {\n          _this.rotation(_this.nodes()[0].rotation());\n        }\n\n        _this._resetTransformCache();\n\n        if (!_this._transforming) {\n          _this.update();\n        }\n      };\n\n      node.on(additionalEvents, onChange);\n      node.on(TRANSFORM_CHANGE_STR, onChange);\n      node.on(\"_clearTransformCache.\" + EVENTS_NAME, onChange);\n      node.on(\"xChange.\" + EVENTS_NAME + \" yChange.\" + EVENTS_NAME, onChange);\n\n      _this._proxyDrag(node);\n    });\n\n    this._resetTransformCache();\n\n    var elementsCreated = !!this.findOne('.top-left');\n\n    if (elementsCreated) {\n      this.update();\n    }\n\n    return this;\n  };\n\n  Transformer.prototype._proxyDrag = function (node) {\n    var _this = this;\n\n    var lastPos;\n    node.on(\"dragstart.\" + EVENTS_NAME, function (e) {\n      lastPos = node.getAbsolutePosition();\n\n      if (!_this.isDragging() && node !== _this.findOne('.back')) {\n        _this.startDrag(e, false);\n      }\n    });\n    node.on(\"dragmove.\" + EVENTS_NAME, function (e) {\n      if (!lastPos) {\n        return;\n      }\n\n      var abs = node.getAbsolutePosition();\n      var dx = abs.x - lastPos.x;\n      var dy = abs.y - lastPos.y;\n\n      _this.nodes().forEach(function (otherNode) {\n        if (otherNode === node) {\n          return;\n        }\n\n        if (otherNode.isDragging()) {\n          return;\n        }\n\n        var otherAbs = otherNode.getAbsolutePosition();\n        otherNode.setAbsolutePosition({\n          x: otherAbs.x + dx,\n          y: otherAbs.y + dy\n        });\n        otherNode.startDrag(e);\n      });\n\n      lastPos = null;\n    });\n  };\n\n  Transformer.prototype.getNodes = function () {\n    return this._nodes || [];\n  };\n\n  Transformer.prototype.getActiveAnchor = function () {\n    return this._movingAnchorName;\n  };\n\n  Transformer.prototype.detach = function () {\n    if (this._nodes) {\n      this._nodes.forEach(function (node) {\n        node.off('.' + EVENTS_NAME);\n      });\n    }\n\n    this._nodes = [];\n\n    this._resetTransformCache();\n  };\n\n  Transformer.prototype._resetTransformCache = function () {\n    this._clearCache(NODES_RECT);\n\n    this._clearCache('transform');\n\n    this._clearSelfAndDescendantCache('absoluteTransform');\n  };\n\n  Transformer.prototype._getNodeRect = function () {\n    return this._getCache(NODES_RECT, this.__getNodeRect);\n  };\n\n  Transformer.prototype.__getNodeShape = function (node, rot, relative) {\n    if (rot === void 0) {\n      rot = this.rotation();\n    }\n\n    var rect = node.getClientRect({\n      skipTransform: true,\n      skipShadow: true,\n      skipStroke: this.ignoreStroke()\n    });\n    var absScale = node.getAbsoluteScale(relative);\n    var absPos = node.getAbsolutePosition(relative);\n    var dx = rect.x * absScale.x - node.offsetX() * absScale.x;\n    var dy = rect.y * absScale.y - node.offsetY() * absScale.y;\n    var rotation = (Global_1.Konva.getAngle(node.getAbsoluteRotation()) + Math.PI * 2) % (Math.PI * 2);\n    var box = {\n      x: absPos.x + dx * Math.cos(rotation) + dy * Math.sin(-rotation),\n      y: absPos.y + dy * Math.cos(rotation) + dx * Math.sin(rotation),\n      width: rect.width * absScale.x,\n      height: rect.height * absScale.y,\n      rotation: rotation\n    };\n    return rotateAroundPoint(box, -Global_1.Konva.getAngle(rot), {\n      x: 0,\n      y: 0\n    });\n  };\n\n  Transformer.prototype.__getNodeRect = function () {\n    var _this = this;\n\n    var node = this.getNode();\n\n    if (!node) {\n      return {\n        x: -MAX_SAFE_INTEGER,\n        y: -MAX_SAFE_INTEGER,\n        width: 0,\n        height: 0,\n        rotation: 0\n      };\n    }\n\n    var totalPoints = [];\n    this.nodes().map(function (node) {\n      var box = node.getClientRect({\n        skipTransform: true,\n        skipShadow: true,\n        skipStroke: _this.ignoreStroke()\n      });\n      var points = [{\n        x: box.x,\n        y: box.y\n      }, {\n        x: box.x + box.width,\n        y: box.y\n      }, {\n        x: box.x + box.width,\n        y: box.y + box.height\n      }, {\n        x: box.x,\n        y: box.y + box.height\n      }];\n      var trans = node.getAbsoluteTransform();\n      points.forEach(function (point) {\n        var transformed = trans.point(point);\n        totalPoints.push(transformed);\n      });\n    });\n    var tr = new Util_1.Transform();\n    tr.rotate(-Global_1.Konva.getAngle(this.rotation()));\n    var minX, minY, maxX, maxY;\n    totalPoints.forEach(function (point) {\n      var transformed = tr.point(point);\n\n      if (minX === undefined) {\n        minX = maxX = transformed.x;\n        minY = maxY = transformed.y;\n      }\n\n      minX = Math.min(minX, transformed.x);\n      minY = Math.min(minY, transformed.y);\n      maxX = Math.max(maxX, transformed.x);\n      maxY = Math.max(maxY, transformed.y);\n    });\n    tr.invert();\n    var p = tr.point({\n      x: minX,\n      y: minY\n    });\n    return {\n      x: p.x,\n      y: p.y,\n      width: maxX - minX,\n      height: maxY - minY,\n      rotation: Global_1.Konva.getAngle(this.rotation())\n    };\n  };\n\n  Transformer.prototype.getX = function () {\n    return this._getNodeRect().x;\n  };\n\n  Transformer.prototype.getY = function () {\n    return this._getNodeRect().y;\n  };\n\n  Transformer.prototype.getWidth = function () {\n    return this._getNodeRect().width;\n  };\n\n  Transformer.prototype.getHeight = function () {\n    return this._getNodeRect().height;\n  };\n\n  Transformer.prototype._createElements = function () {\n    this._createBack();\n\n    ANCHORS_NAMES.forEach(function (name) {\n      this._createAnchor(name);\n    }.bind(this));\n\n    this._createAnchor('rotater');\n  };\n\n  Transformer.prototype._createAnchor = function (name) {\n    var _this = this;\n\n    var anchor = new Rect_1.Rect({\n      stroke: 'rgb(0, 161, 255)',\n      fill: 'white',\n      strokeWidth: 1,\n      name: name + ' _anchor',\n      dragDistance: 0,\n      draggable: true,\n      hitStrokeWidth: TOUCH_DEVICE ? 10 : 'auto'\n    });\n    var self = this;\n    anchor.on('mousedown touchstart', function (e) {\n      self._handleMouseDown(e);\n    });\n    anchor.on('dragstart', function (e) {\n      anchor.stopDrag();\n      e.cancelBubble = true;\n    });\n    anchor.on('dragend', function (e) {\n      e.cancelBubble = true;\n    });\n    anchor.on('mouseenter', function () {\n      var rad = Global_1.Konva.getAngle(_this.rotation());\n      var cursor = getCursor(name, rad);\n      anchor.getStage().content.style.cursor = cursor;\n      _this._cursorChange = true;\n    });\n    anchor.on('mouseout', function () {\n      anchor.getStage().content.style.cursor = '';\n      _this._cursorChange = false;\n    });\n    this.add(anchor);\n  };\n\n  Transformer.prototype._createBack = function () {\n    var _this = this;\n\n    var back = new Shape_1.Shape({\n      name: 'back',\n      width: 0,\n      height: 0,\n      draggable: true,\n      sceneFunc: function sceneFunc(ctx) {\n        var tr = this.getParent();\n        var padding = tr.padding();\n        ctx.beginPath();\n        ctx.rect(-padding, -padding, this.width() + padding * 2, this.height() + padding * 2);\n        ctx.moveTo(this.width() / 2, -padding);\n\n        if (tr.rotateEnabled()) {\n          ctx.lineTo(this.width() / 2, -tr.rotateAnchorOffset() * Util_1.Util._sign(this.height()) - padding);\n        }\n\n        ctx.fillStrokeShape(this);\n      },\n      hitFunc: function hitFunc(ctx, shape) {\n        if (!_this.shouldOverdrawWholeArea()) {\n          return;\n        }\n\n        var padding = _this.padding();\n\n        ctx.beginPath();\n        ctx.rect(-padding, -padding, shape.width() + padding * 2, shape.height() + padding * 2);\n        ctx.fillStrokeShape(shape);\n      }\n    });\n    this.add(back);\n\n    this._proxyDrag(back);\n  };\n\n  Transformer.prototype._handleMouseDown = function (e) {\n    this._movingAnchorName = e.target.name().split(' ')[0];\n\n    var attrs = this._getNodeRect();\n\n    var width = attrs.width;\n    var height = attrs.height;\n    var hypotenuse = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n    this.sin = Math.abs(height / hypotenuse);\n    this.cos = Math.abs(width / hypotenuse);\n    window.addEventListener('mousemove', this._handleMouseMove);\n    window.addEventListener('touchmove', this._handleMouseMove);\n    window.addEventListener('mouseup', this._handleMouseUp, true);\n    window.addEventListener('touchend', this._handleMouseUp, true);\n    this._transforming = true;\n    var ap = e.target.getAbsolutePosition();\n    var pos = e.target.getStage().getPointerPosition();\n    this._anchorDragOffset = {\n      x: pos.x - ap.x,\n      y: pos.y - ap.y\n    };\n\n    this._fire('transformstart', {\n      evt: e,\n      target: this.getNode()\n    });\n\n    this.getNode()._fire('transformstart', {\n      evt: e,\n      target: this.getNode()\n    });\n  };\n\n  Transformer.prototype._handleMouseMove = function (e) {\n    var x, y, newHypotenuse;\n    var anchorNode = this.findOne('.' + this._movingAnchorName);\n    var stage = anchorNode.getStage();\n    stage.setPointersPositions(e);\n    var pp = stage.getPointerPosition();\n    var newNodePos = {\n      x: pp.x - this._anchorDragOffset.x,\n      y: pp.y - this._anchorDragOffset.y\n    };\n    var oldAbs = anchorNode.getAbsolutePosition();\n    anchorNode.setAbsolutePosition(newNodePos);\n    var newAbs = anchorNode.getAbsolutePosition();\n\n    if (oldAbs.x === newAbs.x && oldAbs.y === newAbs.y) {\n      return;\n    }\n\n    if (this._movingAnchorName === 'rotater') {\n      var attrs = this._getNodeRect();\n\n      x = anchorNode.x() - attrs.width / 2;\n      y = -anchorNode.y() + attrs.height / 2;\n      var delta = Math.atan2(-y, x) + Math.PI / 2;\n\n      if (attrs.height < 0) {\n        delta -= Math.PI;\n      }\n\n      var oldRotation = Global_1.Konva.getAngle(this.rotation());\n      var newRotation = oldRotation + delta;\n      var tol = Global_1.Konva.getAngle(this.rotationSnapTolerance());\n      var snappedRot = getSnap(this.rotationSnaps(), newRotation, tol);\n      var diff = snappedRot - attrs.rotation;\n      var shape = rotateAroundCenter(attrs, diff);\n\n      this._fitNodesInto(shape, e);\n\n      return;\n    }\n\n    var keepProportion = this.keepRatio() || e.shiftKey;\n    var centeredScaling = this.centeredScaling() || e.altKey;\n\n    if (this._movingAnchorName === 'top-left') {\n      if (keepProportion) {\n        var comparePoint = centeredScaling ? {\n          x: this.width() / 2,\n          y: this.height() / 2\n        } : {\n          x: this.findOne('.bottom-right').x(),\n          y: this.findOne('.bottom-right').y()\n        };\n        newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) + Math.pow(comparePoint.y - anchorNode.y(), 2));\n        var reverseX = this.findOne('.top-left').x() > comparePoint.x ? -1 : 1;\n        var reverseY = this.findOne('.top-left').y() > comparePoint.y ? -1 : 1;\n        x = newHypotenuse * this.cos * reverseX;\n        y = newHypotenuse * this.sin * reverseY;\n        this.findOne('.top-left').x(comparePoint.x - x);\n        this.findOne('.top-left').y(comparePoint.y - y);\n      }\n    } else if (this._movingAnchorName === 'top-center') {\n      this.findOne('.top-left').y(anchorNode.y());\n    } else if (this._movingAnchorName === 'top-right') {\n      if (keepProportion) {\n        var comparePoint = centeredScaling ? {\n          x: this.width() / 2,\n          y: this.height() / 2\n        } : {\n          x: this.findOne('.bottom-left').x(),\n          y: this.findOne('.bottom-left').y()\n        };\n        newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) + Math.pow(comparePoint.y - anchorNode.y(), 2));\n        var reverseX = this.findOne('.top-right').x() < comparePoint.x ? -1 : 1;\n        var reverseY = this.findOne('.top-right').y() > comparePoint.y ? -1 : 1;\n        x = newHypotenuse * this.cos * reverseX;\n        y = newHypotenuse * this.sin * reverseY;\n        this.findOne('.top-right').x(comparePoint.x + x);\n        this.findOne('.top-right').y(comparePoint.y - y);\n      }\n\n      var pos = anchorNode.position();\n      this.findOne('.top-left').y(pos.y);\n      this.findOne('.bottom-right').x(pos.x);\n    } else if (this._movingAnchorName === 'middle-left') {\n      this.findOne('.top-left').x(anchorNode.x());\n    } else if (this._movingAnchorName === 'middle-right') {\n      this.findOne('.bottom-right').x(anchorNode.x());\n    } else if (this._movingAnchorName === 'bottom-left') {\n      if (keepProportion) {\n        var comparePoint = centeredScaling ? {\n          x: this.width() / 2,\n          y: this.height() / 2\n        } : {\n          x: this.findOne('.top-right').x(),\n          y: this.findOne('.top-right').y()\n        };\n        newHypotenuse = Math.sqrt(Math.pow(comparePoint.x - anchorNode.x(), 2) + Math.pow(anchorNode.y() - comparePoint.y, 2));\n        var reverseX = comparePoint.x < anchorNode.x() ? -1 : 1;\n        var reverseY = anchorNode.y() < comparePoint.y ? -1 : 1;\n        x = newHypotenuse * this.cos * reverseX;\n        y = newHypotenuse * this.sin * reverseY;\n        anchorNode.x(comparePoint.x - x);\n        anchorNode.y(comparePoint.y + y);\n      }\n\n      pos = anchorNode.position();\n      this.findOne('.top-left').x(pos.x);\n      this.findOne('.bottom-right').y(pos.y);\n    } else if (this._movingAnchorName === 'bottom-center') {\n      this.findOne('.bottom-right').y(anchorNode.y());\n    } else if (this._movingAnchorName === 'bottom-right') {\n      if (keepProportion) {\n        var comparePoint = centeredScaling ? {\n          x: this.width() / 2,\n          y: this.height() / 2\n        } : {\n          x: this.findOne('.top-left').x(),\n          y: this.findOne('.top-left').y()\n        };\n        newHypotenuse = Math.sqrt(Math.pow(anchorNode.x() - comparePoint.x, 2) + Math.pow(anchorNode.y() - comparePoint.y, 2));\n        var reverseX = this.findOne('.bottom-right').x() < comparePoint.x ? -1 : 1;\n        var reverseY = this.findOne('.bottom-right').y() < comparePoint.y ? -1 : 1;\n        x = newHypotenuse * this.cos * reverseX;\n        y = newHypotenuse * this.sin * reverseY;\n        this.findOne('.bottom-right').x(comparePoint.x + x);\n        this.findOne('.bottom-right').y(comparePoint.y + y);\n      }\n    } else {\n      console.error(new Error('Wrong position argument of selection resizer: ' + this._movingAnchorName));\n    }\n\n    var centeredScaling = this.centeredScaling() || e.altKey;\n\n    if (centeredScaling) {\n      var topLeft = this.findOne('.top-left');\n      var bottomRight = this.findOne('.bottom-right');\n      var topOffsetX = topLeft.x();\n      var topOffsetY = topLeft.y();\n      var bottomOffsetX = this.getWidth() - bottomRight.x();\n      var bottomOffsetY = this.getHeight() - bottomRight.y();\n      bottomRight.move({\n        x: -topOffsetX,\n        y: -topOffsetY\n      });\n      topLeft.move({\n        x: bottomOffsetX,\n        y: bottomOffsetY\n      });\n    }\n\n    var absPos = this.findOne('.top-left').getAbsolutePosition();\n    x = absPos.x;\n    y = absPos.y;\n    var width = this.findOne('.bottom-right').x() - this.findOne('.top-left').x();\n    var height = this.findOne('.bottom-right').y() - this.findOne('.top-left').y();\n\n    this._fitNodesInto({\n      x: x,\n      y: y,\n      width: width,\n      height: height,\n      rotation: Global_1.Konva.getAngle(this.rotation())\n    }, e);\n  };\n\n  Transformer.prototype._handleMouseUp = function (e) {\n    this._removeEvents(e);\n  };\n\n  Transformer.prototype.getAbsoluteTransform = function () {\n    return this.getTransform();\n  };\n\n  Transformer.prototype._removeEvents = function (e) {\n    if (this._transforming) {\n      this._transforming = false;\n      window.removeEventListener('mousemove', this._handleMouseMove);\n      window.removeEventListener('touchmove', this._handleMouseMove);\n      window.removeEventListener('mouseup', this._handleMouseUp, true);\n      window.removeEventListener('touchend', this._handleMouseUp, true);\n      var node = this.getNode();\n\n      this._fire('transformend', {\n        evt: e,\n        target: node\n      });\n\n      if (node) {\n        node.fire('transformend', {\n          evt: e,\n          target: node\n        });\n      }\n\n      this._movingAnchorName = null;\n    }\n  };\n\n  Transformer.prototype._fitNodesInto = function (newAttrs, evt) {\n    var _this = this;\n\n    var oldAttrs = this._getNodeRect();\n\n    var minSize = 1;\n\n    if (Util_1.Util._inRange(newAttrs.width, -this.padding() * 2 - minSize, minSize)) {\n      this.update();\n      return;\n    }\n\n    if (Util_1.Util._inRange(newAttrs.height, -this.padding() * 2 - minSize, minSize)) {\n      this.update();\n      return;\n    }\n\n    var allowNegativeScale = true;\n    var t = new Util_1.Transform();\n    t.rotate(Global_1.Konva.getAngle(this.rotation()));\n\n    if (this._movingAnchorName && newAttrs.width < 0 && this._movingAnchorName.indexOf('left') >= 0) {\n      var offset = t.point({\n        x: -this.padding() * 2,\n        y: 0\n      });\n      newAttrs.x += offset.x;\n      newAttrs.y += offset.y;\n      newAttrs.width += this.padding() * 2;\n      this._movingAnchorName = this._movingAnchorName.replace('left', 'right');\n      this._anchorDragOffset.x -= offset.x;\n      this._anchorDragOffset.y -= offset.y;\n\n      if (!allowNegativeScale) {\n        this.update();\n        return;\n      }\n    } else if (this._movingAnchorName && newAttrs.width < 0 && this._movingAnchorName.indexOf('right') >= 0) {\n      var offset = t.point({\n        x: this.padding() * 2,\n        y: 0\n      });\n      this._movingAnchorName = this._movingAnchorName.replace('right', 'left');\n      this._anchorDragOffset.x -= offset.x;\n      this._anchorDragOffset.y -= offset.y;\n      newAttrs.width += this.padding() * 2;\n\n      if (!allowNegativeScale) {\n        this.update();\n        return;\n      }\n    }\n\n    if (this._movingAnchorName && newAttrs.height < 0 && this._movingAnchorName.indexOf('top') >= 0) {\n      var offset = t.point({\n        x: 0,\n        y: -this.padding() * 2\n      });\n      newAttrs.x += offset.x;\n      newAttrs.y += offset.y;\n      this._movingAnchorName = this._movingAnchorName.replace('top', 'bottom');\n      this._anchorDragOffset.x -= offset.x;\n      this._anchorDragOffset.y -= offset.y;\n      newAttrs.height += this.padding() * 2;\n\n      if (!allowNegativeScale) {\n        this.update();\n        return;\n      }\n    } else if (this._movingAnchorName && newAttrs.height < 0 && this._movingAnchorName.indexOf('bottom') >= 0) {\n      var offset = t.point({\n        x: 0,\n        y: this.padding() * 2\n      });\n      this._movingAnchorName = this._movingAnchorName.replace('bottom', 'top');\n      this._anchorDragOffset.x -= offset.x;\n      this._anchorDragOffset.y -= offset.y;\n      newAttrs.height += this.padding() * 2;\n\n      if (!allowNegativeScale) {\n        this.update();\n        return;\n      }\n    }\n\n    if (this.boundBoxFunc()) {\n      var bounded = this.boundBoxFunc()(oldAttrs, newAttrs);\n\n      if (bounded) {\n        newAttrs = bounded;\n      } else {\n        Util_1.Util.warn('boundBoxFunc returned falsy. You should return new bound rect from it!');\n      }\n    }\n\n    var baseSize = 10000000;\n    var oldTr = new Util_1.Transform();\n    oldTr.translate(oldAttrs.x, oldAttrs.y);\n    oldTr.rotate(oldAttrs.rotation);\n    oldTr.scale(oldAttrs.width / baseSize, oldAttrs.height / baseSize);\n    var newTr = new Util_1.Transform();\n    newTr.translate(newAttrs.x, newAttrs.y);\n    newTr.rotate(newAttrs.rotation);\n    newTr.scale(newAttrs.width / baseSize, newAttrs.height / baseSize);\n    var delta = newTr.multiply(oldTr.invert());\n\n    this._nodes.forEach(function (node) {\n      var parentTransform = node.getParent().getAbsoluteTransform();\n      var localTransform = node.getTransform().copy();\n      localTransform.translate(node.offsetX(), node.offsetY());\n      var newLocalTransform = new Util_1.Transform();\n      newLocalTransform.multiply(parentTransform.copy().invert()).multiply(delta).multiply(parentTransform).multiply(localTransform);\n      var attrs = newLocalTransform.decompose();\n      node.setAttrs(attrs);\n\n      _this._fire('transform', {\n        evt: evt,\n        target: node\n      });\n\n      node._fire('transform', {\n        evt: evt,\n        target: node\n      });\n    });\n\n    this.rotation(Util_1.Util._getRotation(newAttrs.rotation));\n\n    this._resetTransformCache();\n\n    this.update();\n    this.getLayer().batchDraw();\n  };\n\n  Transformer.prototype.forceUpdate = function () {\n    this._resetTransformCache();\n\n    this.update();\n  };\n\n  Transformer.prototype._batchChangeChild = function (selector, attrs) {\n    var anchor = this.findOne(selector);\n    anchor.setAttrs(attrs);\n  };\n\n  Transformer.prototype.update = function () {\n    var _this = this;\n\n    var attrs = this._getNodeRect();\n\n    this.rotation(Util_1.Util._getRotation(attrs.rotation));\n    var width = attrs.width;\n    var height = attrs.height;\n    var enabledAnchors = this.enabledAnchors();\n    var resizeEnabled = this.resizeEnabled();\n    var padding = this.padding();\n    var anchorSize = this.anchorSize();\n    this.find('._anchor').each(function (node) {\n      node.setAttrs({\n        width: anchorSize,\n        height: anchorSize,\n        offsetX: anchorSize / 2,\n        offsetY: anchorSize / 2,\n        stroke: _this.anchorStroke(),\n        strokeWidth: _this.anchorStrokeWidth(),\n        fill: _this.anchorFill(),\n        cornerRadius: _this.anchorCornerRadius()\n      });\n    });\n\n    this._batchChangeChild('.top-left', {\n      x: 0,\n      y: 0,\n      offsetX: anchorSize / 2 + padding,\n      offsetY: anchorSize / 2 + padding,\n      visible: resizeEnabled && enabledAnchors.indexOf('top-left') >= 0\n    });\n\n    this._batchChangeChild('.top-center', {\n      x: width / 2,\n      y: 0,\n      offsetY: anchorSize / 2 + padding,\n      visible: resizeEnabled && enabledAnchors.indexOf('top-center') >= 0\n    });\n\n    this._batchChangeChild('.top-right', {\n      x: width,\n      y: 0,\n      offsetX: anchorSize / 2 - padding,\n      offsetY: anchorSize / 2 + padding,\n      visible: resizeEnabled && enabledAnchors.indexOf('top-right') >= 0\n    });\n\n    this._batchChangeChild('.middle-left', {\n      x: 0,\n      y: height / 2,\n      offsetX: anchorSize / 2 + padding,\n      visible: resizeEnabled && enabledAnchors.indexOf('middle-left') >= 0\n    });\n\n    this._batchChangeChild('.middle-right', {\n      x: width,\n      y: height / 2,\n      offsetX: anchorSize / 2 - padding,\n      visible: resizeEnabled && enabledAnchors.indexOf('middle-right') >= 0\n    });\n\n    this._batchChangeChild('.bottom-left', {\n      x: 0,\n      y: height,\n      offsetX: anchorSize / 2 + padding,\n      offsetY: anchorSize / 2 - padding,\n      visible: resizeEnabled && enabledAnchors.indexOf('bottom-left') >= 0\n    });\n\n    this._batchChangeChild('.bottom-center', {\n      x: width / 2,\n      y: height,\n      offsetY: anchorSize / 2 - padding,\n      visible: resizeEnabled && enabledAnchors.indexOf('bottom-center') >= 0\n    });\n\n    this._batchChangeChild('.bottom-right', {\n      x: width,\n      y: height,\n      offsetX: anchorSize / 2 - padding,\n      offsetY: anchorSize / 2 - padding,\n      visible: resizeEnabled && enabledAnchors.indexOf('bottom-right') >= 0\n    });\n\n    this._batchChangeChild('.rotater', {\n      x: width / 2,\n      y: -this.rotateAnchorOffset() * Util_1.Util._sign(height) - padding,\n      visible: this.rotateEnabled()\n    });\n\n    this._batchChangeChild('.back', {\n      width: width,\n      height: height,\n      visible: this.borderEnabled(),\n      stroke: this.borderStroke(),\n      strokeWidth: this.borderStrokeWidth(),\n      dash: this.borderDash(),\n      x: 0,\n      y: 0\n    });\n  };\n\n  Transformer.prototype.isTransforming = function () {\n    return this._transforming;\n  };\n\n  Transformer.prototype.stopTransform = function () {\n    if (this._transforming) {\n      this._removeEvents();\n\n      var anchorNode = this.findOne('.' + this._movingAnchorName);\n\n      if (anchorNode) {\n        anchorNode.stopDrag();\n      }\n    }\n  };\n\n  Transformer.prototype.destroy = function () {\n    if (this.getStage() && this._cursorChange) {\n      this.getStage().content.style.cursor = '';\n    }\n\n    Group_1.Group.prototype.destroy.call(this);\n    this.detach();\n\n    this._removeEvents();\n\n    return this;\n  };\n\n  Transformer.prototype.toObject = function () {\n    return Node_1.Node.prototype.toObject.call(this);\n  };\n\n  return Transformer;\n}(Group_1.Group);\n\nexports.Transformer = Transformer;\n\nfunction validateAnchors(val) {\n  if (!(val instanceof Array)) {\n    Util_1.Util.warn('enabledAnchors value should be an array');\n  }\n\n  if (val instanceof Array) {\n    val.forEach(function (name) {\n      if (ANCHORS_NAMES.indexOf(name) === -1) {\n        Util_1.Util.warn('Unknown anchor name: ' + name + '. Available names are: ' + ANCHORS_NAMES.join(', '));\n      }\n    });\n  }\n\n  return val || [];\n}\n\nTransformer.prototype.className = 'Transformer';\n\nGlobal_2._registerNode(Transformer);\n\nFactory_1.Factory.addGetterSetter(Transformer, 'enabledAnchors', ANCHORS_NAMES, validateAnchors);\nFactory_1.Factory.addGetterSetter(Transformer, 'resizeEnabled', true);\nFactory_1.Factory.addGetterSetter(Transformer, 'anchorSize', 10, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'rotateEnabled', true);\nFactory_1.Factory.addGetterSetter(Transformer, 'rotationSnaps', []);\nFactory_1.Factory.addGetterSetter(Transformer, 'rotateAnchorOffset', 50, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'rotationSnapTolerance', 5, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'borderEnabled', true);\nFactory_1.Factory.addGetterSetter(Transformer, 'anchorStroke', 'rgb(0, 161, 255)');\nFactory_1.Factory.addGetterSetter(Transformer, 'anchorStrokeWidth', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'anchorFill', 'white');\nFactory_1.Factory.addGetterSetter(Transformer, 'anchorCornerRadius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'borderStroke', 'rgb(0, 161, 255)');\nFactory_1.Factory.addGetterSetter(Transformer, 'borderStrokeWidth', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'borderDash');\nFactory_1.Factory.addGetterSetter(Transformer, 'keepRatio', true);\nFactory_1.Factory.addGetterSetter(Transformer, 'centeredScaling', false);\nFactory_1.Factory.addGetterSetter(Transformer, 'ignoreStroke', false);\nFactory_1.Factory.addGetterSetter(Transformer, 'padding', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Transformer, 'node');\nFactory_1.Factory.addGetterSetter(Transformer, 'nodes');\nFactory_1.Factory.addGetterSetter(Transformer, 'boundBoxFunc');\nFactory_1.Factory.addGetterSetter(Transformer, 'shouldOverdrawWholeArea', false);\nFactory_1.Factory.backCompat(Transformer, {\n  lineEnabled: 'borderEnabled',\n  rotateHandlerOffset: 'rotateAnchorOffset',\n  enabledHandlers: 'enabledAnchors'\n});\nUtil_1.Collection.mapMethods(Transformer);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ActionCreators = exports.ActionTypes = void 0;\nvar ActionTypes = {\n  UNDO: '@@redux-undo/UNDO',\n  REDO: '@@redux-undo/REDO',\n  JUMP_TO_FUTURE: '@@redux-undo/JUMP_TO_FUTURE',\n  JUMP_TO_PAST: '@@redux-undo/JUMP_TO_PAST',\n  JUMP: '@@redux-undo/JUMP',\n  CLEAR_HISTORY: '@@redux-undo/CLEAR_HISTORY'\n};\nexports.ActionTypes = ActionTypes;\nvar ActionCreators = {\n  undo: function undo() {\n    return {\n      type: ActionTypes.UNDO\n    };\n  },\n  redo: function redo() {\n    return {\n      type: ActionTypes.REDO\n    };\n  },\n  jumpToFuture: function jumpToFuture(index) {\n    return {\n      type: ActionTypes.JUMP_TO_FUTURE,\n      index: index\n    };\n  },\n  jumpToPast: function jumpToPast(index) {\n    return {\n      type: ActionTypes.JUMP_TO_PAST,\n      index: index\n    };\n  },\n  jump: function jump(index) {\n    return {\n      type: ActionTypes.JUMP,\n      index: index\n    };\n  },\n  clearHistory: function clearHistory() {\n    return {\n      type: ActionTypes.CLEAR_HISTORY\n    };\n  }\n};\nexports.ActionCreators = ActionCreators;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Group_1 = require(\"../Group\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_1 = require(\"../Global\");\n\nvar ATTR_CHANGE_LIST = ['fontFamily', 'fontSize', 'fontStyle', 'padding', 'lineHeight', 'text', 'width'],\n    CHANGE_KONVA = 'Change.konva',\n    NONE = 'none',\n    UP = 'up',\n    RIGHT = 'right',\n    DOWN = 'down',\n    LEFT = 'left',\n    attrChangeListLen = ATTR_CHANGE_LIST.length;\n\nvar Label = function (_super) {\n  __extends(Label, _super);\n\n  function Label(config) {\n    var _this = _super.call(this, config) || this;\n\n    _this.on('add.konva', function (evt) {\n      this._addListeners(evt.child);\n\n      this._sync();\n    });\n\n    return _this;\n  }\n\n  Label.prototype.getText = function () {\n    return this.find('Text')[0];\n  };\n\n  Label.prototype.getTag = function () {\n    return this.find('Tag')[0];\n  };\n\n  Label.prototype._addListeners = function (text) {\n    var that = this,\n        n;\n\n    var func = function func() {\n      that._sync();\n    };\n\n    for (n = 0; n < attrChangeListLen; n++) {\n      text.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, func);\n    }\n  };\n\n  Label.prototype.getWidth = function () {\n    return this.getText().width();\n  };\n\n  Label.prototype.getHeight = function () {\n    return this.getText().height();\n  };\n\n  Label.prototype._sync = function () {\n    var text = this.getText(),\n        tag = this.getTag(),\n        width,\n        height,\n        pointerDirection,\n        pointerWidth,\n        x,\n        y,\n        pointerHeight;\n\n    if (text && tag) {\n      width = text.width();\n      height = text.height();\n      pointerDirection = tag.pointerDirection();\n      pointerWidth = tag.pointerWidth();\n      pointerHeight = tag.pointerHeight();\n      x = 0;\n      y = 0;\n\n      switch (pointerDirection) {\n        case UP:\n          x = width / 2;\n          y = -1 * pointerHeight;\n          break;\n\n        case RIGHT:\n          x = width + pointerWidth;\n          y = height / 2;\n          break;\n\n        case DOWN:\n          x = width / 2;\n          y = height + pointerHeight;\n          break;\n\n        case LEFT:\n          x = -1 * pointerWidth;\n          y = height / 2;\n          break;\n      }\n\n      tag.setAttrs({\n        x: -1 * x,\n        y: -1 * y,\n        width: width,\n        height: height\n      });\n      text.setAttrs({\n        x: -1 * x,\n        y: -1 * y\n      });\n    }\n  };\n\n  return Label;\n}(Group_1.Group);\n\nexports.Label = Label;\nLabel.prototype.className = 'Label';\n\nGlobal_1._registerNode(Label);\n\nUtil_1.Collection.mapMethods(Label);\n\nvar Tag = function (_super) {\n  __extends(Tag, _super);\n\n  function Tag() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Tag.prototype._sceneFunc = function (context) {\n    var width = this.width(),\n        height = this.height(),\n        pointerDirection = this.pointerDirection(),\n        pointerWidth = this.pointerWidth(),\n        pointerHeight = this.pointerHeight(),\n        cornerRadius = this.cornerRadius();\n    var topLeft = 0;\n    var topRight = 0;\n    var bottomLeft = 0;\n    var bottomRight = 0;\n\n    if (typeof cornerRadius === 'number') {\n      topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n    } else {\n      topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n      topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n      bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n      bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n    }\n\n    context.beginPath();\n    context.moveTo(topLeft, 0);\n\n    if (pointerDirection === UP) {\n      context.lineTo((width - pointerWidth) / 2, 0);\n      context.lineTo(width / 2, -1 * pointerHeight);\n      context.lineTo((width + pointerWidth) / 2, 0);\n    }\n\n    context.lineTo(width - topRight, 0);\n    context.arc(width - topRight, topRight, topRight, Math.PI * 3 / 2, 0, false);\n\n    if (pointerDirection === RIGHT) {\n      context.lineTo(width, (height - pointerHeight) / 2);\n      context.lineTo(width + pointerWidth, height / 2);\n      context.lineTo(width, (height + pointerHeight) / 2);\n    }\n\n    context.lineTo(width, height - bottomRight);\n    context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n\n    if (pointerDirection === DOWN) {\n      context.lineTo((width + pointerWidth) / 2, height);\n      context.lineTo(width / 2, height + pointerHeight);\n      context.lineTo((width - pointerWidth) / 2, height);\n    }\n\n    context.lineTo(bottomLeft, height);\n    context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n\n    if (pointerDirection === LEFT) {\n      context.lineTo(0, (height + pointerHeight) / 2);\n      context.lineTo(-1 * pointerWidth, height / 2);\n      context.lineTo(0, (height - pointerHeight) / 2);\n    }\n\n    context.lineTo(0, topLeft);\n    context.arc(topLeft, topLeft, topLeft, Math.PI, Math.PI * 3 / 2, false);\n    context.closePath();\n    context.fillStrokeShape(this);\n  };\n\n  Tag.prototype.getSelfRect = function () {\n    var x = 0,\n        y = 0,\n        pointerWidth = this.pointerWidth(),\n        pointerHeight = this.pointerHeight(),\n        direction = this.pointerDirection(),\n        width = this.width(),\n        height = this.height();\n\n    if (direction === UP) {\n      y -= pointerHeight;\n      height += pointerHeight;\n    } else if (direction === DOWN) {\n      height += pointerHeight;\n    } else if (direction === LEFT) {\n      x -= pointerWidth * 1.5;\n      width += pointerWidth;\n    } else if (direction === RIGHT) {\n      width += pointerWidth * 1.5;\n    }\n\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  };\n\n  return Tag;\n}(Shape_1.Shape);\n\nexports.Tag = Tag;\nTag.prototype.className = 'Tag';\n\nGlobal_1._registerNode(Tag);\n\nFactory_1.Factory.addGetterSetter(Tag, 'pointerDirection', NONE);\nFactory_1.Factory.addGetterSetter(Tag, 'pointerWidth', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Tag, 'pointerHeight', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Tag, 'cornerRadius', 0, Validators_1.getNumberOrArrayOfNumbersValidator(4));\nUtil_1.Collection.mapMethods(Tag);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Global_1 = require(\"./Global\");\n\nvar Util_1 = require(\"./Util\");\n\nexports.DD = {\n  get isDragging() {\n    var flag = false;\n\n    exports.DD._dragElements.forEach(function (elem) {\n      if (elem.dragStatus === 'dragging') {\n        flag = true;\n      }\n    });\n\n    return flag;\n  },\n\n  justDragged: false,\n\n  get node() {\n    var node;\n\n    exports.DD._dragElements.forEach(function (elem) {\n      node = elem.node;\n    });\n\n    return node;\n  },\n\n  _dragElements: new Map(),\n  _drag: function _drag(evt) {\n    var nodesToFireEvents = [];\n\n    exports.DD._dragElements.forEach(function (elem, key) {\n      var node = elem.node;\n      var stage = node.getStage();\n      stage.setPointersPositions(evt);\n\n      if (elem.pointerId === undefined) {\n        elem.pointerId = Util_1.Util._getFirstPointerId(evt);\n      }\n\n      var pos = stage._changedPointerPositions.find(function (pos) {\n        return pos.id === elem.pointerId;\n      });\n\n      if (!pos) {\n        return;\n      }\n\n      if (elem.dragStatus !== 'dragging') {\n        var dragDistance = node.dragDistance();\n        var distance = Math.max(Math.abs(pos.x - elem.startPointerPos.x), Math.abs(pos.y - elem.startPointerPos.y));\n\n        if (distance < dragDistance) {\n          return;\n        }\n\n        node.startDrag({\n          evt: evt\n        });\n\n        if (!node.isDragging()) {\n          return;\n        }\n      }\n\n      node._setDragPosition(evt, elem);\n\n      nodesToFireEvents.push(node);\n    });\n\n    nodesToFireEvents.forEach(function (node) {\n      node.fire('dragmove', {\n        type: 'dragmove',\n        target: node,\n        evt: evt\n      }, true);\n    });\n  },\n  _endDragBefore: function _endDragBefore(evt) {\n    exports.DD._dragElements.forEach(function (elem, key) {\n      var node = elem.node;\n      var stage = node.getStage();\n\n      if (evt) {\n        stage.setPointersPositions(evt);\n      }\n\n      var pos = stage._changedPointerPositions.find(function (pos) {\n        return pos.id === elem.pointerId;\n      });\n\n      if (!pos) {\n        return;\n      }\n\n      if (elem.dragStatus === 'dragging' || elem.dragStatus === 'stopped') {\n        exports.DD.justDragged = true;\n        Global_1.Konva.listenClickTap = false;\n        elem.dragStatus = 'stopped';\n      }\n\n      var drawNode = elem.node.getLayer() || elem.node instanceof Global_1.Konva['Stage'] && elem.node;\n\n      if (drawNode) {\n        drawNode.draw();\n      }\n    });\n  },\n  _endDragAfter: function _endDragAfter(evt) {\n    exports.DD._dragElements.forEach(function (elem, key) {\n      if (elem.dragStatus === 'stopped') {\n        elem.node.fire('dragend', {\n          type: 'dragend',\n          target: elem.node,\n          evt: evt\n        }, true);\n      }\n\n      if (elem.dragStatus !== 'dragging') {\n        exports.DD._dragElements.delete(key);\n      }\n    });\n  }\n};\n\nif (Global_1.Konva.isBrowser) {\n  window.addEventListener('mouseup', exports.DD._endDragBefore, true);\n  window.addEventListener('touchend', exports.DD._endDragBefore, true);\n  window.addEventListener('mousemove', exports.DD._drag);\n  window.addEventListener('touchmove', exports.DD._drag);\n  window.addEventListener('mouseup', exports.DD._endDragAfter, false);\n  window.addEventListener('touchend', exports.DD._endDragAfter, false);\n}","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Star = function (_super) {\n  __extends(Star, _super);\n\n  function Star() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Star.prototype._sceneFunc = function (context) {\n    var innerRadius = this.innerRadius(),\n        outerRadius = this.outerRadius(),\n        numPoints = this.numPoints();\n    context.beginPath();\n    context.moveTo(0, 0 - outerRadius);\n\n    for (var n = 1; n < numPoints * 2; n++) {\n      var radius = n % 2 === 0 ? outerRadius : innerRadius;\n      var x = radius * Math.sin(n * Math.PI / numPoints);\n      var y = -1 * radius * Math.cos(n * Math.PI / numPoints);\n      context.lineTo(x, y);\n    }\n\n    context.closePath();\n    context.fillStrokeShape(this);\n  };\n\n  Star.prototype.getWidth = function () {\n    return this.outerRadius() * 2;\n  };\n\n  Star.prototype.getHeight = function () {\n    return this.outerRadius() * 2;\n  };\n\n  Star.prototype.setWidth = function (width) {\n    this.outerRadius(width / 2);\n  };\n\n  Star.prototype.setHeight = function (height) {\n    this.outerRadius(height / 2);\n  };\n\n  return Star;\n}(Shape_1.Shape);\n\nexports.Star = Star;\nStar.prototype.className = 'Star';\nStar.prototype._centroid = true;\nStar.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n\nGlobal_1._registerNode(Star);\n\nFactory_1.Factory.addGetterSetter(Star, 'numPoints', 5, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Star, 'innerRadius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Star, 'outerRadius', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(Star);","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Util_1 = require(\"../Util\");\n\nvar Validators_1 = require(\"../Validators\");\n\nexports.Emboss = function (imageData) {\n  var strength = this.embossStrength() * 10,\n      greyLevel = this.embossWhiteLevel() * 255,\n      direction = this.embossDirection(),\n      blend = this.embossBlend(),\n      dirY = 0,\n      dirX = 0,\n      data = imageData.data,\n      w = imageData.width,\n      h = imageData.height,\n      w4 = w * 4,\n      y = h;\n\n  switch (direction) {\n    case 'top-left':\n      dirY = -1;\n      dirX = -1;\n      break;\n\n    case 'top':\n      dirY = -1;\n      dirX = 0;\n      break;\n\n    case 'top-right':\n      dirY = -1;\n      dirX = 1;\n      break;\n\n    case 'right':\n      dirY = 0;\n      dirX = 1;\n      break;\n\n    case 'bottom-right':\n      dirY = 1;\n      dirX = 1;\n      break;\n\n    case 'bottom':\n      dirY = 1;\n      dirX = 0;\n      break;\n\n    case 'bottom-left':\n      dirY = 1;\n      dirX = -1;\n      break;\n\n    case 'left':\n      dirY = 0;\n      dirX = -1;\n      break;\n\n    default:\n      Util_1.Util.error('Unknown emboss direction: ' + direction);\n  }\n\n  do {\n    var offsetY = (y - 1) * w4;\n    var otherY = dirY;\n\n    if (y + otherY < 1) {\n      otherY = 0;\n    }\n\n    if (y + otherY > h) {\n      otherY = 0;\n    }\n\n    var offsetYOther = (y - 1 + otherY) * w * 4;\n    var x = w;\n\n    do {\n      var offset = offsetY + (x - 1) * 4;\n      var otherX = dirX;\n\n      if (x + otherX < 1) {\n        otherX = 0;\n      }\n\n      if (x + otherX > w) {\n        otherX = 0;\n      }\n\n      var offsetOther = offsetYOther + (x - 1 + otherX) * 4;\n      var dR = data[offset] - data[offsetOther];\n      var dG = data[offset + 1] - data[offsetOther + 1];\n      var dB = data[offset + 2] - data[offsetOther + 2];\n      var dif = dR;\n      var absDif = dif > 0 ? dif : -dif;\n      var absG = dG > 0 ? dG : -dG;\n      var absB = dB > 0 ? dB : -dB;\n\n      if (absG > absDif) {\n        dif = dG;\n      }\n\n      if (absB > absDif) {\n        dif = dB;\n      }\n\n      dif *= strength;\n\n      if (blend) {\n        var r = data[offset] + dif;\n        var g = data[offset + 1] + dif;\n        var b = data[offset + 2] + dif;\n        data[offset] = r > 255 ? 255 : r < 0 ? 0 : r;\n        data[offset + 1] = g > 255 ? 255 : g < 0 ? 0 : g;\n        data[offset + 2] = b > 255 ? 255 : b < 0 ? 0 : b;\n      } else {\n        var grey = greyLevel - dif;\n\n        if (grey < 0) {\n          grey = 0;\n        } else if (grey > 255) {\n          grey = 255;\n        }\n\n        data[offset] = data[offset + 1] = data[offset + 2] = grey;\n      }\n    } while (--x);\n  } while (--y);\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'embossStrength', 0.5, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'embossWhiteLevel', 0.5, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'embossDirection', 'top-left', null, Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'embossBlend', false, null, Factory_1.Factory.afterSetFilter);","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"./Util\");\n\nvar Factory_1 = require(\"./Factory\");\n\nvar Container_1 = require(\"./Container\");\n\nvar Global_1 = require(\"./Global\");\n\nvar Canvas_1 = require(\"./Canvas\");\n\nvar DragAndDrop_1 = require(\"./DragAndDrop\");\n\nvar Global_2 = require(\"./Global\");\n\nvar PointerEvents = require(\"./PointerEvents\");\n\nvar STAGE = 'Stage',\n    STRING = 'string',\n    PX = 'px',\n    MOUSEOUT = 'mouseout',\n    MOUSELEAVE = 'mouseleave',\n    MOUSEOVER = 'mouseover',\n    MOUSEENTER = 'mouseenter',\n    MOUSEMOVE = 'mousemove',\n    MOUSEDOWN = 'mousedown',\n    MOUSEUP = 'mouseup',\n    POINTERMOVE = 'pointermove',\n    POINTERDOWN = 'pointerdown',\n    POINTERUP = 'pointerup',\n    POINTERCANCEL = 'pointercancel',\n    LOSTPOINTERCAPTURE = 'lostpointercapture',\n    CONTEXTMENU = 'contextmenu',\n    CLICK = 'click',\n    DBL_CLICK = 'dblclick',\n    TOUCHSTART = 'touchstart',\n    TOUCHEND = 'touchend',\n    TAP = 'tap',\n    DBL_TAP = 'dbltap',\n    TOUCHMOVE = 'touchmove',\n    WHEEL = 'wheel',\n    CONTENT_MOUSEOUT = 'contentMouseout',\n    CONTENT_MOUSEOVER = 'contentMouseover',\n    CONTENT_MOUSEMOVE = 'contentMousemove',\n    CONTENT_MOUSEDOWN = 'contentMousedown',\n    CONTENT_MOUSEUP = 'contentMouseup',\n    CONTENT_CONTEXTMENU = 'contentContextmenu',\n    CONTENT_CLICK = 'contentClick',\n    CONTENT_DBL_CLICK = 'contentDblclick',\n    CONTENT_TOUCHSTART = 'contentTouchstart',\n    CONTENT_TOUCHEND = 'contentTouchend',\n    CONTENT_DBL_TAP = 'contentDbltap',\n    CONTENT_TAP = 'contentTap',\n    CONTENT_TOUCHMOVE = 'contentTouchmove',\n    CONTENT_POINTERMOVE = 'contentPointermove',\n    CONTENT_POINTERDOWN = 'contentPointerdown',\n    CONTENT_POINTERUP = 'contentPointerup',\n    CONTENT_WHEEL = 'contentWheel',\n    RELATIVE = 'relative',\n    KONVA_CONTENT = 'konvajs-content',\n    SPACE = ' ',\n    UNDERSCORE = '_',\n    CONTAINER = 'container',\n    MAX_LAYERS_NUMBER = 5,\n    EMPTY_STRING = '',\n    EVENTS = [MOUSEENTER, MOUSEDOWN, MOUSEMOVE, MOUSEUP, MOUSEOUT, TOUCHSTART, TOUCHMOVE, TOUCHEND, MOUSEOVER, WHEEL, CONTEXTMENU, POINTERDOWN, POINTERMOVE, POINTERUP, POINTERCANCEL, LOSTPOINTERCAPTURE],\n    eventsLength = EVENTS.length;\n\nfunction addEvent(ctx, eventName) {\n  ctx.content.addEventListener(eventName, function (evt) {\n    ctx[UNDERSCORE + eventName](evt);\n  }, false);\n}\n\nvar NO_POINTERS_MESSAGE = \"Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);\";\nexports.stages = [];\n\nfunction checkNoClip(attrs) {\n  if (attrs === void 0) {\n    attrs = {};\n  }\n\n  if (attrs.clipFunc || attrs.clipWidth || attrs.clipHeight) {\n    Util_1.Util.warn('Stage does not support clipping. Please use clip for Layers or Groups.');\n  }\n\n  return attrs;\n}\n\nvar Stage = function (_super) {\n  __extends(Stage, _super);\n\n  function Stage(config) {\n    var _this = _super.call(this, checkNoClip(config)) || this;\n\n    _this._pointerPositions = [];\n    _this._changedPointerPositions = [];\n\n    _this._buildDOM();\n\n    _this._bindContentEvents();\n\n    exports.stages.push(_this);\n\n    _this.on('widthChange.konva heightChange.konva', _this._resizeDOM);\n\n    _this.on('visibleChange.konva', _this._checkVisibility);\n\n    _this.on('clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva', function () {\n      checkNoClip(_this.attrs);\n    });\n\n    _this._checkVisibility();\n\n    return _this;\n  }\n\n  Stage.prototype._validateAdd = function (child) {\n    var isLayer = child.getType() === 'Layer';\n    var isFastLayer = child.getType() === 'FastLayer';\n    var valid = isLayer || isFastLayer;\n\n    if (!valid) {\n      Util_1.Util.throw('You may only add layers to the stage.');\n    }\n  };\n\n  Stage.prototype._checkVisibility = function () {\n    if (!this.content) {\n      return;\n    }\n\n    var style = this.visible() ? '' : 'none';\n    this.content.style.display = style;\n  };\n\n  Stage.prototype.setContainer = function (container) {\n    if (typeof container === STRING) {\n      if (container.charAt(0) === '.') {\n        var className = container.slice(1);\n        container = document.getElementsByClassName(className)[0];\n      } else {\n        var id;\n\n        if (container.charAt(0) !== '#') {\n          id = container;\n        } else {\n          id = container.slice(1);\n        }\n\n        container = document.getElementById(id);\n      }\n\n      if (!container) {\n        throw 'Can not find container in document with id ' + id;\n      }\n    }\n\n    this._setAttr(CONTAINER, container);\n\n    if (this.content) {\n      if (this.content.parentElement) {\n        this.content.parentElement.removeChild(this.content);\n      }\n\n      container.appendChild(this.content);\n    }\n\n    return this;\n  };\n\n  Stage.prototype.shouldDrawHit = function () {\n    return true;\n  };\n\n  Stage.prototype.clear = function () {\n    var layers = this.children,\n        len = layers.length,\n        n;\n\n    for (n = 0; n < len; n++) {\n      layers[n].clear();\n    }\n\n    return this;\n  };\n\n  Stage.prototype.clone = function (obj) {\n    if (!obj) {\n      obj = {};\n    }\n\n    obj.container = document.createElement('div');\n    return Container_1.Container.prototype.clone.call(this, obj);\n  };\n\n  Stage.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    var content = this.content;\n\n    if (content && Util_1.Util._isInDocument(content)) {\n      this.container().removeChild(content);\n    }\n\n    var index = exports.stages.indexOf(this);\n\n    if (index > -1) {\n      exports.stages.splice(index, 1);\n    }\n\n    return this;\n  };\n\n  Stage.prototype.getPointerPosition = function () {\n    var pos = this._pointerPositions[0] || this._changedPointerPositions[0];\n\n    if (!pos) {\n      Util_1.Util.warn(NO_POINTERS_MESSAGE);\n      return null;\n    }\n\n    return {\n      x: pos.x,\n      y: pos.y\n    };\n  };\n\n  Stage.prototype._getPointerById = function (id) {\n    return this._pointerPositions.find(function (p) {\n      return p.id === id;\n    });\n  };\n\n  Stage.prototype.getPointersPositions = function () {\n    return this._pointerPositions;\n  };\n\n  Stage.prototype.getStage = function () {\n    return this;\n  };\n\n  Stage.prototype.getContent = function () {\n    return this.content;\n  };\n\n  Stage.prototype._toKonvaCanvas = function (config) {\n    config = config || {};\n\n    var x = config.x || 0,\n        y = config.y || 0,\n        canvas = new Canvas_1.SceneCanvas({\n      width: config.width || this.width(),\n      height: config.height || this.height(),\n      pixelRatio: config.pixelRatio || 1\n    }),\n        _context = canvas.getContext()._context,\n        layers = this.children;\n\n    if (x || y) {\n      _context.translate(-1 * x, -1 * y);\n    }\n\n    layers.each(function (layer) {\n      if (!layer.isVisible()) {\n        return;\n      }\n\n      var layerCanvas = layer._toKonvaCanvas(config);\n\n      _context.drawImage(layerCanvas._canvas, x, y, layerCanvas.getWidth() / layerCanvas.getPixelRatio(), layerCanvas.getHeight() / layerCanvas.getPixelRatio());\n    });\n    return canvas;\n  };\n\n  Stage.prototype.getIntersection = function (pos, selector) {\n    if (!pos) {\n      return null;\n    }\n\n    var layers = this.children,\n        len = layers.length,\n        end = len - 1,\n        n,\n        shape;\n\n    for (n = end; n >= 0; n--) {\n      shape = layers[n].getIntersection(pos, selector);\n\n      if (shape) {\n        return shape;\n      }\n    }\n\n    return null;\n  };\n\n  Stage.prototype._resizeDOM = function () {\n    var width = this.width();\n    var height = this.height();\n\n    if (this.content) {\n      this.content.style.width = width + PX;\n      this.content.style.height = height + PX;\n    }\n\n    this.bufferCanvas.setSize(width, height);\n    this.bufferHitCanvas.setSize(width, height);\n    this.children.each(function (layer) {\n      layer.setSize({\n        width: width,\n        height: height\n      });\n      layer.draw();\n    });\n  };\n\n  Stage.prototype.add = function (layer) {\n    if (arguments.length > 1) {\n      for (var i = 0; i < arguments.length; i++) {\n        this.add(arguments[i]);\n      }\n\n      return this;\n    }\n\n    _super.prototype.add.call(this, layer);\n\n    var length = this.children.length;\n\n    if (length > MAX_LAYERS_NUMBER) {\n      Util_1.Util.warn('The stage has ' + length + ' layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group.');\n    }\n\n    layer.setSize({\n      width: this.width(),\n      height: this.height()\n    });\n    layer.draw();\n\n    if (Global_1.Konva.isBrowser) {\n      this.content.appendChild(layer.canvas._canvas);\n    }\n\n    return this;\n  };\n\n  Stage.prototype.getParent = function () {\n    return null;\n  };\n\n  Stage.prototype.getLayer = function () {\n    return null;\n  };\n\n  Stage.prototype.hasPointerCapture = function (pointerId) {\n    return PointerEvents.hasPointerCapture(pointerId, this);\n  };\n\n  Stage.prototype.setPointerCapture = function (pointerId) {\n    PointerEvents.setPointerCapture(pointerId, this);\n  };\n\n  Stage.prototype.releaseCapture = function (pointerId) {\n    PointerEvents.releaseCapture(pointerId, this);\n  };\n\n  Stage.prototype.getLayers = function () {\n    return this.getChildren();\n  };\n\n  Stage.prototype._bindContentEvents = function () {\n    if (!Global_1.Konva.isBrowser) {\n      return;\n    }\n\n    for (var n = 0; n < eventsLength; n++) {\n      addEvent(this, EVENTS[n]);\n    }\n  };\n\n  Stage.prototype._mouseenter = function (evt) {\n    this.setPointersPositions(evt);\n\n    this._fire(MOUSEENTER, {\n      evt: evt,\n      target: this,\n      currentTarget: this\n    });\n  };\n\n  Stage.prototype._mouseover = function (evt) {\n    this.setPointersPositions(evt);\n\n    this._fire(CONTENT_MOUSEOVER, {\n      evt: evt\n    });\n\n    this._fire(MOUSEOVER, {\n      evt: evt,\n      target: this,\n      currentTarget: this\n    });\n  };\n\n  Stage.prototype._mouseout = function (evt) {\n    var _a;\n\n    this.setPointersPositions(evt);\n    var targetShape = ((_a = this.targetShape) === null || _a === void 0 ? void 0 : _a.getStage()) ? this.targetShape : null;\n    var eventsEnabled = !DragAndDrop_1.DD.isDragging || Global_1.Konva.hitOnDragEnabled;\n\n    if (targetShape && eventsEnabled) {\n      targetShape._fireAndBubble(MOUSEOUT, {\n        evt: evt\n      });\n\n      targetShape._fireAndBubble(MOUSELEAVE, {\n        evt: evt\n      });\n\n      this._fire(MOUSELEAVE, {\n        evt: evt,\n        target: this,\n        currentTarget: this\n      });\n\n      this.targetShape = null;\n    } else if (eventsEnabled) {\n      this._fire(MOUSELEAVE, {\n        evt: evt,\n        target: this,\n        currentTarget: this\n      });\n\n      this._fire(MOUSEOUT, {\n        evt: evt,\n        target: this,\n        currentTarget: this\n      });\n    }\n\n    this.pointerPos = undefined;\n    this._pointerPositions = [];\n\n    this._fire(CONTENT_MOUSEOUT, {\n      evt: evt\n    });\n  };\n\n  Stage.prototype._mousemove = function (evt) {\n    var _a;\n\n    if (Global_1.Konva.UA.ieMobile) {\n      return this._touchmove(evt);\n    }\n\n    this.setPointersPositions(evt);\n\n    var pointerId = Util_1.Util._getFirstPointerId(evt);\n\n    var shape;\n    var targetShape = ((_a = this.targetShape) === null || _a === void 0 ? void 0 : _a.getStage()) ? this.targetShape : null;\n    var eventsEnabled = !DragAndDrop_1.DD.isDragging || Global_1.Konva.hitOnDragEnabled;\n\n    if (eventsEnabled) {\n      shape = this.getIntersection(this.getPointerPosition());\n\n      if (shape && shape.isListening()) {\n        var differentTarget = targetShape !== shape;\n\n        if (eventsEnabled && differentTarget) {\n          if (targetShape) {\n            targetShape._fireAndBubble(MOUSEOUT, {\n              evt: evt,\n              pointerId: pointerId\n            }, shape);\n\n            targetShape._fireAndBubble(MOUSELEAVE, {\n              evt: evt,\n              pointerId: pointerId\n            }, shape);\n          }\n\n          shape._fireAndBubble(MOUSEOVER, {\n            evt: evt,\n            pointerId: pointerId\n          }, targetShape);\n\n          shape._fireAndBubble(MOUSEENTER, {\n            evt: evt,\n            pointerId: pointerId\n          }, targetShape);\n\n          shape._fireAndBubble(MOUSEMOVE, {\n            evt: evt,\n            pointerId: pointerId\n          });\n\n          this.targetShape = shape;\n        } else {\n          shape._fireAndBubble(MOUSEMOVE, {\n            evt: evt,\n            pointerId: pointerId\n          });\n        }\n      } else {\n        if (targetShape && eventsEnabled) {\n          targetShape._fireAndBubble(MOUSEOUT, {\n            evt: evt,\n            pointerId: pointerId\n          });\n\n          targetShape._fireAndBubble(MOUSELEAVE, {\n            evt: evt,\n            pointerId: pointerId\n          });\n\n          this._fire(MOUSEOVER, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n            pointerId: pointerId\n          });\n\n          this.targetShape = null;\n        }\n\n        this._fire(MOUSEMOVE, {\n          evt: evt,\n          target: this,\n          currentTarget: this,\n          pointerId: pointerId\n        });\n      }\n\n      this._fire(CONTENT_MOUSEMOVE, {\n        evt: evt\n      });\n    }\n\n    if (evt.cancelable) {\n      evt.preventDefault();\n    }\n  };\n\n  Stage.prototype._mousedown = function (evt) {\n    if (Global_1.Konva.UA.ieMobile) {\n      return this._touchstart(evt);\n    }\n\n    this.setPointersPositions(evt);\n\n    var pointerId = Util_1.Util._getFirstPointerId(evt);\n\n    var shape = this.getIntersection(this.getPointerPosition());\n    DragAndDrop_1.DD.justDragged = false;\n    Global_1.Konva.listenClickTap = true;\n\n    if (shape && shape.isListening()) {\n      this.clickStartShape = shape;\n\n      shape._fireAndBubble(MOUSEDOWN, {\n        evt: evt,\n        pointerId: pointerId\n      });\n    } else {\n      this._fire(MOUSEDOWN, {\n        evt: evt,\n        target: this,\n        currentTarget: this,\n        pointerId: pointerId\n      });\n    }\n\n    this._fire(CONTENT_MOUSEDOWN, {\n      evt: evt\n    });\n  };\n\n  Stage.prototype._mouseup = function (evt) {\n    if (Global_1.Konva.UA.ieMobile) {\n      return this._touchend(evt);\n    }\n\n    this.setPointersPositions(evt);\n\n    var pointerId = Util_1.Util._getFirstPointerId(evt);\n\n    var shape = this.getIntersection(this.getPointerPosition()),\n        clickStartShape = this.clickStartShape,\n        clickEndShape = this.clickEndShape,\n        fireDblClick = false;\n\n    if (Global_1.Konva.inDblClickWindow) {\n      fireDblClick = true;\n      clearTimeout(this.dblTimeout);\n    } else if (!DragAndDrop_1.DD.justDragged) {\n      Global_1.Konva.inDblClickWindow = true;\n      clearTimeout(this.dblTimeout);\n    }\n\n    this.dblTimeout = setTimeout(function () {\n      Global_1.Konva.inDblClickWindow = false;\n    }, Global_1.Konva.dblClickWindow);\n\n    if (shape && shape.isListening()) {\n      this.clickEndShape = shape;\n\n      shape._fireAndBubble(MOUSEUP, {\n        evt: evt,\n        pointerId: pointerId\n      });\n\n      if (Global_1.Konva.listenClickTap && clickStartShape && clickStartShape._id === shape._id) {\n        shape._fireAndBubble(CLICK, {\n          evt: evt,\n          pointerId: pointerId\n        });\n\n        if (fireDblClick && clickEndShape && clickEndShape === shape) {\n          shape._fireAndBubble(DBL_CLICK, {\n            evt: evt,\n            pointerId: pointerId\n          });\n        }\n      }\n    } else {\n      this.clickEndShape = null;\n\n      this._fire(MOUSEUP, {\n        evt: evt,\n        target: this,\n        currentTarget: this,\n        pointerId: pointerId\n      });\n\n      if (Global_1.Konva.listenClickTap) {\n        this._fire(CLICK, {\n          evt: evt,\n          target: this,\n          currentTarget: this,\n          pointerId: pointerId\n        });\n      }\n\n      if (fireDblClick) {\n        this._fire(DBL_CLICK, {\n          evt: evt,\n          target: this,\n          currentTarget: this,\n          pointerId: pointerId\n        });\n      }\n    }\n\n    this._fire(CONTENT_MOUSEUP, {\n      evt: evt\n    });\n\n    if (Global_1.Konva.listenClickTap) {\n      this._fire(CONTENT_CLICK, {\n        evt: evt\n      });\n\n      if (fireDblClick) {\n        this._fire(CONTENT_DBL_CLICK, {\n          evt: evt\n        });\n      }\n    }\n\n    Global_1.Konva.listenClickTap = false;\n\n    if (evt.cancelable) {\n      evt.preventDefault();\n    }\n  };\n\n  Stage.prototype._contextmenu = function (evt) {\n    this.setPointersPositions(evt);\n    var shape = this.getIntersection(this.getPointerPosition());\n\n    if (shape && shape.isListening()) {\n      shape._fireAndBubble(CONTEXTMENU, {\n        evt: evt\n      });\n    } else {\n      this._fire(CONTEXTMENU, {\n        evt: evt,\n        target: this,\n        currentTarget: this\n      });\n    }\n\n    this._fire(CONTENT_CONTEXTMENU, {\n      evt: evt\n    });\n  };\n\n  Stage.prototype._touchstart = function (evt) {\n    var _this = this;\n\n    this.setPointersPositions(evt);\n    var triggeredOnShape = false;\n\n    this._changedPointerPositions.forEach(function (pos) {\n      var shape = _this.getIntersection(pos);\n\n      Global_1.Konva.listenClickTap = true;\n      DragAndDrop_1.DD.justDragged = false;\n      var hasShape = shape && shape.isListening();\n\n      if (!hasShape) {\n        return;\n      }\n\n      if (Global_1.Konva.captureTouchEventsEnabled) {\n        shape.setPointerCapture(pos.id);\n      }\n\n      _this.tapStartShape = shape;\n\n      shape._fireAndBubble(TOUCHSTART, {\n        evt: evt,\n        pointerId: pos.id\n      }, _this);\n\n      triggeredOnShape = true;\n\n      if (shape.isListening() && shape.preventDefault() && evt.cancelable) {\n        evt.preventDefault();\n      }\n    });\n\n    if (!triggeredOnShape) {\n      this._fire(TOUCHSTART, {\n        evt: evt,\n        target: this,\n        currentTarget: this,\n        pointerId: this._changedPointerPositions[0].id\n      });\n    }\n\n    this._fire(CONTENT_TOUCHSTART, {\n      evt: evt\n    });\n  };\n\n  Stage.prototype._touchmove = function (evt) {\n    var _this = this;\n\n    this.setPointersPositions(evt);\n    var eventsEnabled = !DragAndDrop_1.DD.isDragging || Global_1.Konva.hitOnDragEnabled;\n\n    if (eventsEnabled) {\n      var triggeredOnShape = false;\n      var processedShapesIds = {};\n\n      this._changedPointerPositions.forEach(function (pos) {\n        var shape = PointerEvents.getCapturedShape(pos.id) || _this.getIntersection(pos);\n\n        var hasShape = shape && shape.isListening();\n\n        if (!hasShape) {\n          return;\n        }\n\n        if (processedShapesIds[shape._id]) {\n          return;\n        }\n\n        processedShapesIds[shape._id] = true;\n\n        shape._fireAndBubble(TOUCHMOVE, {\n          evt: evt,\n          pointerId: pos.id\n        });\n\n        triggeredOnShape = true;\n\n        if (shape.isListening() && shape.preventDefault() && evt.cancelable) {\n          evt.preventDefault();\n        }\n      });\n\n      if (!triggeredOnShape) {\n        this._fire(TOUCHMOVE, {\n          evt: evt,\n          target: this,\n          currentTarget: this,\n          pointerId: this._changedPointerPositions[0].id\n        });\n      }\n\n      this._fire(CONTENT_TOUCHMOVE, {\n        evt: evt\n      });\n    }\n\n    if (DragAndDrop_1.DD.isDragging && DragAndDrop_1.DD.node.preventDefault() && evt.cancelable) {\n      evt.preventDefault();\n    }\n  };\n\n  Stage.prototype._touchend = function (evt) {\n    var _this = this;\n\n    this.setPointersPositions(evt);\n    var tapEndShape = this.tapEndShape,\n        fireDblClick = false;\n\n    if (Global_1.Konva.inDblClickWindow) {\n      fireDblClick = true;\n      clearTimeout(this.dblTimeout);\n    } else if (!DragAndDrop_1.DD.justDragged) {\n      Global_1.Konva.inDblClickWindow = true;\n      clearTimeout(this.dblTimeout);\n    }\n\n    this.dblTimeout = setTimeout(function () {\n      Global_1.Konva.inDblClickWindow = false;\n    }, Global_1.Konva.dblClickWindow);\n    var triggeredOnShape = false;\n    var processedShapesIds = {};\n    var tapTriggered = false;\n    var dblTapTriggered = false;\n\n    this._changedPointerPositions.forEach(function (pos) {\n      var shape = PointerEvents.getCapturedShape(pos.id) || _this.getIntersection(pos);\n\n      if (shape) {\n        shape.releaseCapture(pos.id);\n      }\n\n      var hasShape = shape && shape.isListening();\n\n      if (!hasShape) {\n        return;\n      }\n\n      if (processedShapesIds[shape._id]) {\n        return;\n      }\n\n      processedShapesIds[shape._id] = true;\n      _this.tapEndShape = shape;\n\n      shape._fireAndBubble(TOUCHEND, {\n        evt: evt,\n        pointerId: pos.id\n      });\n\n      triggeredOnShape = true;\n\n      if (Global_1.Konva.listenClickTap && shape === _this.tapStartShape) {\n        tapTriggered = true;\n\n        shape._fireAndBubble(TAP, {\n          evt: evt,\n          pointerId: pos.id\n        });\n\n        if (fireDblClick && tapEndShape && tapEndShape === shape) {\n          dblTapTriggered = true;\n\n          shape._fireAndBubble(DBL_TAP, {\n            evt: evt,\n            pointerId: pos.id\n          });\n        }\n      }\n\n      if (shape.isListening() && shape.preventDefault() && evt.cancelable) {\n        evt.preventDefault();\n      }\n    });\n\n    if (!triggeredOnShape) {\n      this._fire(TOUCHEND, {\n        evt: evt,\n        target: this,\n        currentTarget: this,\n        pointerId: this._changedPointerPositions[0].id\n      });\n    }\n\n    if (Global_1.Konva.listenClickTap && !tapTriggered) {\n      this.tapEndShape = null;\n\n      this._fire(TAP, {\n        evt: evt,\n        target: this,\n        currentTarget: this,\n        pointerId: this._changedPointerPositions[0].id\n      });\n    }\n\n    if (fireDblClick && !dblTapTriggered) {\n      this._fire(DBL_TAP, {\n        evt: evt,\n        target: this,\n        currentTarget: this,\n        pointerId: this._changedPointerPositions[0].id\n      });\n    }\n\n    this._fire(CONTENT_TOUCHEND, {\n      evt: evt\n    });\n\n    if (Global_1.Konva.listenClickTap) {\n      this._fire(CONTENT_TAP, {\n        evt: evt\n      });\n\n      if (fireDblClick) {\n        this._fire(CONTENT_DBL_TAP, {\n          evt: evt\n        });\n      }\n    }\n\n    if (this.preventDefault() && evt.cancelable) {\n      evt.preventDefault();\n    }\n\n    Global_1.Konva.listenClickTap = false;\n  };\n\n  Stage.prototype._wheel = function (evt) {\n    this.setPointersPositions(evt);\n    var shape = this.getIntersection(this.getPointerPosition());\n\n    if (shape && shape.isListening()) {\n      shape._fireAndBubble(WHEEL, {\n        evt: evt\n      });\n    } else {\n      this._fire(WHEEL, {\n        evt: evt,\n        target: this,\n        currentTarget: this\n      });\n    }\n\n    this._fire(CONTENT_WHEEL, {\n      evt: evt\n    });\n  };\n\n  Stage.prototype._pointerdown = function (evt) {\n    if (!Global_1.Konva._pointerEventsEnabled) {\n      return;\n    }\n\n    this.setPointersPositions(evt);\n    var shape = PointerEvents.getCapturedShape(evt.pointerId) || this.getIntersection(this.getPointerPosition());\n\n    if (shape) {\n      shape._fireAndBubble(POINTERDOWN, PointerEvents.createEvent(evt));\n    }\n  };\n\n  Stage.prototype._pointermove = function (evt) {\n    if (!Global_1.Konva._pointerEventsEnabled) {\n      return;\n    }\n\n    this.setPointersPositions(evt);\n    var shape = PointerEvents.getCapturedShape(evt.pointerId) || this.getIntersection(this.getPointerPosition());\n\n    if (shape) {\n      shape._fireAndBubble(POINTERMOVE, PointerEvents.createEvent(evt));\n    }\n  };\n\n  Stage.prototype._pointerup = function (evt) {\n    if (!Global_1.Konva._pointerEventsEnabled) {\n      return;\n    }\n\n    this.setPointersPositions(evt);\n    var shape = PointerEvents.getCapturedShape(evt.pointerId) || this.getIntersection(this.getPointerPosition());\n\n    if (shape) {\n      shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n    }\n\n    PointerEvents.releaseCapture(evt.pointerId);\n  };\n\n  Stage.prototype._pointercancel = function (evt) {\n    if (!Global_1.Konva._pointerEventsEnabled) {\n      return;\n    }\n\n    this.setPointersPositions(evt);\n    var shape = PointerEvents.getCapturedShape(evt.pointerId) || this.getIntersection(this.getPointerPosition());\n\n    if (shape) {\n      shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n    }\n\n    PointerEvents.releaseCapture(evt.pointerId);\n  };\n\n  Stage.prototype._lostpointercapture = function (evt) {\n    PointerEvents.releaseCapture(evt.pointerId);\n  };\n\n  Stage.prototype.setPointersPositions = function (evt) {\n    var _this = this;\n\n    var contentPosition = this._getContentPosition(),\n        x = null,\n        y = null;\n\n    evt = evt ? evt : window.event;\n\n    if (evt.touches !== undefined) {\n      this._pointerPositions = [];\n      this._changedPointerPositions = [];\n      Util_1.Collection.prototype.each.call(evt.touches, function (touch) {\n        _this._pointerPositions.push({\n          id: touch.identifier,\n          x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n          y: (touch.clientY - contentPosition.top) / contentPosition.scaleY\n        });\n      });\n      Util_1.Collection.prototype.each.call(evt.changedTouches || evt.touches, function (touch) {\n        _this._changedPointerPositions.push({\n          id: touch.identifier,\n          x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n          y: (touch.clientY - contentPosition.top) / contentPosition.scaleY\n        });\n      });\n    } else {\n      x = (evt.clientX - contentPosition.left) / contentPosition.scaleX;\n      y = (evt.clientY - contentPosition.top) / contentPosition.scaleY;\n      this.pointerPos = {\n        x: x,\n        y: y\n      };\n      this._pointerPositions = [{\n        x: x,\n        y: y,\n        id: Util_1.Util._getFirstPointerId(evt)\n      }];\n      this._changedPointerPositions = [{\n        x: x,\n        y: y,\n        id: Util_1.Util._getFirstPointerId(evt)\n      }];\n    }\n  };\n\n  Stage.prototype._setPointerPosition = function (evt) {\n    Util_1.Util.warn('Method _setPointerPosition is deprecated. Use \"stage.setPointersPositions(event)\" instead.');\n    this.setPointersPositions(evt);\n  };\n\n  Stage.prototype._getContentPosition = function () {\n    if (!this.content || !this.content.getBoundingClientRect) {\n      return {\n        top: 0,\n        left: 0,\n        scaleX: 1,\n        scaleY: 1\n      };\n    }\n\n    var rect = this.content.getBoundingClientRect();\n    return {\n      top: rect.top,\n      left: rect.left,\n      scaleX: rect.width / this.content.clientWidth || 1,\n      scaleY: rect.height / this.content.clientHeight || 1\n    };\n  };\n\n  Stage.prototype._buildDOM = function () {\n    this.bufferCanvas = new Canvas_1.SceneCanvas({\n      width: this.width(),\n      height: this.height()\n    });\n    this.bufferHitCanvas = new Canvas_1.HitCanvas({\n      pixelRatio: 1,\n      width: this.width(),\n      height: this.height()\n    });\n\n    if (!Global_1.Konva.isBrowser) {\n      return;\n    }\n\n    var container = this.container();\n\n    if (!container) {\n      throw 'Stage has no container. A container is required.';\n    }\n\n    container.innerHTML = EMPTY_STRING;\n    this.content = document.createElement('div');\n    this.content.style.position = RELATIVE;\n    this.content.style.userSelect = 'none';\n    this.content.className = KONVA_CONTENT;\n    this.content.setAttribute('role', 'presentation');\n    container.appendChild(this.content);\n\n    this._resizeDOM();\n  };\n\n  Stage.prototype.cache = function () {\n    Util_1.Util.warn('Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.');\n    return this;\n  };\n\n  Stage.prototype.clearCache = function () {\n    return this;\n  };\n\n  Stage.prototype.batchDraw = function () {\n    this.children.each(function (layer) {\n      layer.batchDraw();\n    });\n    return this;\n  };\n\n  return Stage;\n}(Container_1.Container);\n\nexports.Stage = Stage;\nStage.prototype.nodeType = STAGE;\n\nGlobal_2._registerNode(Stage);\n\nFactory_1.Factory.addGetterSetter(Stage, 'container');","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"./Util\");\n\nvar Factory_1 = require(\"./Factory\");\n\nvar Node_1 = require(\"./Node\");\n\nvar Validators_1 = require(\"./Validators\");\n\nvar Container = function (_super) {\n  __extends(Container, _super);\n\n  function Container() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.children = new Util_1.Collection();\n    return _this;\n  }\n\n  Container.prototype.getChildren = function (filterFunc) {\n    if (!filterFunc) {\n      return this.children;\n    }\n\n    var results = new Util_1.Collection();\n    this.children.each(function (child) {\n      if (filterFunc(child)) {\n        results.push(child);\n      }\n    });\n    return results;\n  };\n\n  Container.prototype.hasChildren = function () {\n    return this.getChildren().length > 0;\n  };\n\n  Container.prototype.removeChildren = function () {\n    var child;\n\n    for (var i = 0; i < this.children.length; i++) {\n      child = this.children[i];\n      child.parent = null;\n      child.index = 0;\n      child.remove();\n    }\n\n    this.children = new Util_1.Collection();\n    return this;\n  };\n\n  Container.prototype.destroyChildren = function () {\n    var child;\n\n    for (var i = 0; i < this.children.length; i++) {\n      child = this.children[i];\n      child.parent = null;\n      child.index = 0;\n      child.destroy();\n    }\n\n    this.children = new Util_1.Collection();\n    return this;\n  };\n\n  Container.prototype.add = function () {\n    var children = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      children[_i] = arguments[_i];\n    }\n\n    if (arguments.length > 1) {\n      for (var i = 0; i < arguments.length; i++) {\n        this.add(arguments[i]);\n      }\n\n      return this;\n    }\n\n    var child = children[0];\n\n    if (child.getParent()) {\n      child.moveTo(this);\n      return this;\n    }\n\n    var _children = this.children;\n\n    this._validateAdd(child);\n\n    child._clearCaches();\n\n    child.index = _children.length;\n    child.parent = this;\n\n    _children.push(child);\n\n    this._fire('add', {\n      child: child\n    });\n\n    return this;\n  };\n\n  Container.prototype.destroy = function () {\n    if (this.hasChildren()) {\n      this.destroyChildren();\n    }\n\n    _super.prototype.destroy.call(this);\n\n    return this;\n  };\n\n  Container.prototype.find = function (selector) {\n    return this._generalFind(selector, false);\n  };\n\n  Container.prototype.get = function (selector) {\n    Util_1.Util.warn('collection.get() method is deprecated. Please use collection.find() instead.');\n    return this.find(selector);\n  };\n\n  Container.prototype.findOne = function (selector) {\n    var result = this._generalFind(selector, true);\n\n    return result.length > 0 ? result[0] : undefined;\n  };\n\n  Container.prototype._generalFind = function (selector, findOne) {\n    var retArr = [];\n\n    this._descendants(function (node) {\n      var valid = node._isMatch(selector);\n\n      if (valid) {\n        retArr.push(node);\n      }\n\n      if (valid && findOne) {\n        return true;\n      }\n\n      return false;\n    });\n\n    return Util_1.Collection.toCollection(retArr);\n  };\n\n  Container.prototype._descendants = function (fn) {\n    var shouldStop = false;\n\n    for (var i = 0; i < this.children.length; i++) {\n      var child = this.children[i];\n      shouldStop = fn(child);\n\n      if (shouldStop) {\n        return true;\n      }\n\n      if (!child.hasChildren()) {\n        continue;\n      }\n\n      shouldStop = child._descendants(fn);\n\n      if (shouldStop) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Container.prototype.toObject = function () {\n    var obj = Node_1.Node.prototype.toObject.call(this);\n    obj.children = [];\n    var children = this.getChildren();\n    var len = children.length;\n\n    for (var n = 0; n < len; n++) {\n      var child = children[n];\n      obj.children.push(child.toObject());\n    }\n\n    return obj;\n  };\n\n  Container.prototype.isAncestorOf = function (node) {\n    var parent = node.getParent();\n\n    while (parent) {\n      if (parent._id === this._id) {\n        return true;\n      }\n\n      parent = parent.getParent();\n    }\n\n    return false;\n  };\n\n  Container.prototype.clone = function (obj) {\n    var node = Node_1.Node.prototype.clone.call(this, obj);\n    this.getChildren().each(function (no) {\n      node.add(no.clone());\n    });\n    return node;\n  };\n\n  Container.prototype.getAllIntersections = function (pos) {\n    var arr = [];\n    this.find('Shape').each(function (shape) {\n      if (shape.isVisible() && shape.intersects(pos)) {\n        arr.push(shape);\n      }\n    });\n    return arr;\n  };\n\n  Container.prototype._setChildrenIndices = function () {\n    this.children.each(function (child, n) {\n      child.index = n;\n    });\n  };\n\n  Container.prototype.drawScene = function (can, top) {\n    var layer = this.getLayer(),\n        canvas = can || layer && layer.getCanvas(),\n        context = canvas && canvas.getContext(),\n        cachedCanvas = this._getCanvasCache(),\n        cachedSceneCanvas = cachedCanvas && cachedCanvas.scene;\n\n    var caching = canvas && canvas.isCache;\n\n    if (!this.isVisible() && !caching) {\n      return this;\n    }\n\n    if (cachedSceneCanvas) {\n      context.save();\n      var m = this.getAbsoluteTransform(top).getMatrix();\n      context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n\n      this._drawCachedSceneCanvas(context);\n\n      context.restore();\n    } else {\n      this._drawChildren('drawScene', canvas, top);\n    }\n\n    return this;\n  };\n\n  Container.prototype.drawHit = function (can, top) {\n    if (!this.shouldDrawHit(top)) {\n      return this;\n    }\n\n    var layer = this.getLayer(),\n        canvas = can || layer && layer.hitCanvas,\n        context = canvas && canvas.getContext(),\n        cachedCanvas = this._getCanvasCache(),\n        cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n\n    if (cachedHitCanvas) {\n      context.save();\n      var m = this.getAbsoluteTransform(top).getMatrix();\n      context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n\n      this._drawCachedHitCanvas(context);\n\n      context.restore();\n    } else {\n      this._drawChildren('drawHit', canvas, top);\n    }\n\n    return this;\n  };\n\n  Container.prototype._drawChildren = function (drawMethod, canvas, top) {\n    var context = canvas && canvas.getContext(),\n        clipWidth = this.clipWidth(),\n        clipHeight = this.clipHeight(),\n        clipFunc = this.clipFunc(),\n        hasClip = clipWidth && clipHeight || clipFunc;\n    var selfCache = top === this;\n\n    if (hasClip) {\n      context.save();\n      var transform = this.getAbsoluteTransform(top);\n      var m = transform.getMatrix();\n      context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n      context.beginPath();\n\n      if (clipFunc) {\n        clipFunc.call(this, context, this);\n      } else {\n        var clipX = this.clipX();\n        var clipY = this.clipY();\n        context.rect(clipX, clipY, clipWidth, clipHeight);\n      }\n\n      context.clip();\n      m = transform.copy().invert().getMatrix();\n      context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n    }\n\n    var hasComposition = !selfCache && this.globalCompositeOperation() !== 'source-over' && drawMethod === 'drawScene';\n\n    if (hasComposition) {\n      context.save();\n\n      context._applyGlobalCompositeOperation(this);\n    }\n\n    this.children.each(function (child) {\n      child[drawMethod](canvas, top);\n    });\n\n    if (hasComposition) {\n      context.restore();\n    }\n\n    if (hasClip) {\n      context.restore();\n    }\n  };\n\n  Container.prototype.getClientRect = function (config) {\n    config = config || {};\n    var skipTransform = config.skipTransform;\n    var relativeTo = config.relativeTo;\n    var minX, minY, maxX, maxY;\n    var selfRect = {\n      x: Infinity,\n      y: Infinity,\n      width: 0,\n      height: 0\n    };\n    var that = this;\n    this.children.each(function (child) {\n      if (!child.visible()) {\n        return;\n      }\n\n      var rect = child.getClientRect({\n        relativeTo: that,\n        skipShadow: config.skipShadow,\n        skipStroke: config.skipStroke\n      });\n\n      if (rect.width === 0 && rect.height === 0) {\n        return;\n      }\n\n      if (minX === undefined) {\n        minX = rect.x;\n        minY = rect.y;\n        maxX = rect.x + rect.width;\n        maxY = rect.y + rect.height;\n      } else {\n        minX = Math.min(minX, rect.x);\n        minY = Math.min(minY, rect.y);\n        maxX = Math.max(maxX, rect.x + rect.width);\n        maxY = Math.max(maxY, rect.y + rect.height);\n      }\n    });\n    var shapes = this.find('Shape');\n    var hasVisible = false;\n\n    for (var i = 0; i < shapes.length; i++) {\n      var shape = shapes[i];\n\n      if (shape._isVisible(this)) {\n        hasVisible = true;\n        break;\n      }\n    }\n\n    if (hasVisible && minX !== undefined) {\n      selfRect = {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY\n      };\n    } else {\n      selfRect = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    if (!skipTransform) {\n      return this._transformedRect(selfRect, relativeTo);\n    }\n\n    return selfRect;\n  };\n\n  return Container;\n}(Node_1.Node);\n\nexports.Container = Container;\nFactory_1.Factory.addComponentsGetterSetter(Container, 'clip', ['x', 'y', 'width', 'height']);\nFactory_1.Factory.addGetterSetter(Container, 'clipX', undefined, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Container, 'clipY', undefined, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Container, 'clipWidth', undefined, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Container, 'clipHeight', undefined, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Container, 'clipFunc');\nUtil_1.Collection.mapMethods(Container);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Global_1 = require(\"./Global\");\n\nvar now = function () {\n  if (Global_1.glob.performance && Global_1.glob.performance.now) {\n    return function () {\n      return Global_1.glob.performance.now();\n    };\n  }\n\n  return function () {\n    return new Date().getTime();\n  };\n}();\n\nvar Animation = function () {\n  function Animation(func, layers) {\n    this.id = Animation.animIdCounter++;\n    this.frame = {\n      time: 0,\n      timeDiff: 0,\n      lastTime: now(),\n      frameRate: 0\n    };\n    this.func = func;\n    this.setLayers(layers);\n  }\n\n  Animation.prototype.setLayers = function (layers) {\n    var lays = [];\n\n    if (!layers) {\n      lays = [];\n    } else if (layers.length > 0) {\n      lays = layers;\n    } else {\n      lays = [layers];\n    }\n\n    this.layers = lays;\n    return this;\n  };\n\n  Animation.prototype.getLayers = function () {\n    return this.layers;\n  };\n\n  Animation.prototype.addLayer = function (layer) {\n    var layers = this.layers,\n        len = layers.length,\n        n;\n\n    for (n = 0; n < len; n++) {\n      if (layers[n]._id === layer._id) {\n        return false;\n      }\n    }\n\n    this.layers.push(layer);\n    return true;\n  };\n\n  Animation.prototype.isRunning = function () {\n    var a = Animation,\n        animations = a.animations,\n        len = animations.length,\n        n;\n\n    for (n = 0; n < len; n++) {\n      if (animations[n].id === this.id) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Animation.prototype.start = function () {\n    this.stop();\n    this.frame.timeDiff = 0;\n    this.frame.lastTime = now();\n\n    Animation._addAnimation(this);\n\n    return this;\n  };\n\n  Animation.prototype.stop = function () {\n    Animation._removeAnimation(this);\n\n    return this;\n  };\n\n  Animation.prototype._updateFrameObject = function (time) {\n    this.frame.timeDiff = time - this.frame.lastTime;\n    this.frame.lastTime = time;\n    this.frame.time += this.frame.timeDiff;\n    this.frame.frameRate = 1000 / this.frame.timeDiff;\n  };\n\n  Animation._addAnimation = function (anim) {\n    this.animations.push(anim);\n\n    this._handleAnimation();\n  };\n\n  Animation._removeAnimation = function (anim) {\n    var id = anim.id,\n        animations = this.animations,\n        len = animations.length,\n        n;\n\n    for (n = 0; n < len; n++) {\n      if (animations[n].id === id) {\n        this.animations.splice(n, 1);\n        break;\n      }\n    }\n  };\n\n  Animation._runFrames = function () {\n    var layerHash = {},\n        animations = this.animations,\n        anim,\n        layers,\n        func,\n        n,\n        i,\n        layersLen,\n        layer,\n        key,\n        needRedraw;\n\n    for (n = 0; n < animations.length; n++) {\n      anim = animations[n];\n      layers = anim.layers;\n      func = anim.func;\n\n      anim._updateFrameObject(now());\n\n      layersLen = layers.length;\n\n      if (func) {\n        needRedraw = func.call(anim, anim.frame) !== false;\n      } else {\n        needRedraw = true;\n      }\n\n      if (!needRedraw) {\n        continue;\n      }\n\n      for (i = 0; i < layersLen; i++) {\n        layer = layers[i];\n\n        if (layer._id !== undefined) {\n          layerHash[layer._id] = layer;\n        }\n      }\n    }\n\n    for (key in layerHash) {\n      if (!layerHash.hasOwnProperty(key)) {\n        continue;\n      }\n\n      layerHash[key].draw();\n    }\n  };\n\n  Animation._animationLoop = function () {\n    var Anim = Animation;\n\n    if (Anim.animations.length) {\n      Anim._runFrames();\n\n      requestAnimationFrame(Anim._animationLoop);\n    } else {\n      Anim.animRunning = false;\n    }\n  };\n\n  Animation._handleAnimation = function () {\n    if (!this.animRunning) {\n      this.animRunning = true;\n      requestAnimationFrame(this._animationLoop);\n    }\n  };\n\n  Animation.animations = [];\n  Animation.animIdCounter = 0;\n  Animation.animRunning = false;\n  return Animation;\n}();\n\nexports.Animation = Animation;","'use strict';\nvar $ = require('../internals/export');\nvar $trimStart = require('../internals/string-trim').start;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\nvar FORCED = forcedStringTrimMethod('trimStart');\n\nvar trimStart = FORCED ? function trimStart() {\n  return $trimStart(this);\n} : ''.trimStart;\n\n// `String.prototype.{ trimStart, trimLeft }` methods\n// https://github.com/tc39/ecmascript-string-left-right-trim\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimStart: trimStart,\n  trimLeft: trimStart\n});\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"./Util\");\n\nvar Container_1 = require(\"./Container\");\n\nvar Global_1 = require(\"./Global\");\n\nvar Group = function (_super) {\n  __extends(Group, _super);\n\n  function Group() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Group.prototype._validateAdd = function (child) {\n    var type = child.getType();\n\n    if (type !== 'Group' && type !== 'Shape') {\n      Util_1.Util.throw('You may only add groups and shapes to groups.');\n    }\n  };\n\n  return Group;\n}(Container_1.Container);\n\nexports.Group = Group;\nGroup.prototype.nodeType = 'Group';\n\nGlobal_1._registerNode(Group);\n\nUtil_1.Collection.mapMethods(Group);","import { usePagePath } from 'hooks/usePagePath'\nimport { languages } from 'i18n/languages'\nimport React from 'react'\nimport { Helmet } from 'react-helmet'\nimport { useTranslation } from 'react-i18next'\n\nconst languagesList = Object.keys(languages)\n\nexport const HelmetFunc = ({\n    data,\n}: {\n    data: {\n        [x: string]: {\n            title: string\n            description: string\n        }\n    }\n}) => {\n    const { i18n } = useTranslation()\n    const langData = data[i18n.language]\n    const { getPagePath } = usePagePath()\n    return (\n        <Helmet>\n            <title>{langData.title} - Clearline</title>\n            <meta name=\"description\" content={langData.description} />\n            <html lang={i18n.language} />\n            {languagesList.map((lang) => {\n                return (\n                    <link\n                        key={lang}\n                        rel=\"alternate\"\n                        hrefLang={lang}\n                        href={\n                            `https://clearline.com.ua/new${  getPagePath(lang)}`\n                        }\n                    />\n                )\n            })}\n        </Helmet>\n    )\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"./Util\");\n\nvar Validators_1 = require(\"./Validators\");\n\nvar GET = 'get',\n    SET = 'set';\nexports.Factory = {\n  addGetterSetter: function addGetterSetter(constructor, attr, def, validator, after) {\n    exports.Factory.addGetter(constructor, attr, def);\n    exports.Factory.addSetter(constructor, attr, validator, after);\n    exports.Factory.addOverloadedGetterSetter(constructor, attr);\n  },\n  addGetter: function addGetter(constructor, attr, def) {\n    var method = GET + Util_1.Util._capitalize(attr);\n\n    constructor.prototype[method] = constructor.prototype[method] || function () {\n      var val = this.attrs[attr];\n      return val === undefined ? def : val;\n    };\n  },\n  addSetter: function addSetter(constructor, attr, validator, after) {\n    var method = SET + Util_1.Util._capitalize(attr);\n\n    if (!constructor.prototype[method]) {\n      exports.Factory.overWriteSetter(constructor, attr, validator, after);\n    }\n  },\n  overWriteSetter: function overWriteSetter(constructor, attr, validator, after) {\n    var method = SET + Util_1.Util._capitalize(attr);\n\n    constructor.prototype[method] = function (val) {\n      if (validator && val !== undefined && val !== null) {\n        val = validator.call(this, val, attr);\n      }\n\n      this._setAttr(attr, val);\n\n      if (after) {\n        after.call(this);\n      }\n\n      return this;\n    };\n  },\n  addComponentsGetterSetter: function addComponentsGetterSetter(constructor, attr, components, validator, after) {\n    var len = components.length,\n        capitalize = Util_1.Util._capitalize,\n        getter = GET + capitalize(attr),\n        setter = SET + capitalize(attr),\n        n,\n        component;\n\n    constructor.prototype[getter] = function () {\n      var ret = {};\n\n      for (n = 0; n < len; n++) {\n        component = components[n];\n        ret[component] = this.getAttr(attr + capitalize(component));\n      }\n\n      return ret;\n    };\n\n    var basicValidator = Validators_1.getComponentValidator(components);\n\n    constructor.prototype[setter] = function (val) {\n      var oldVal = this.attrs[attr],\n          key;\n\n      if (validator) {\n        val = validator.call(this, val);\n      }\n\n      if (basicValidator) {\n        basicValidator.call(this, val, attr);\n      }\n\n      for (key in val) {\n        if (!val.hasOwnProperty(key)) {\n          continue;\n        }\n\n        this._setAttr(attr + capitalize(key), val[key]);\n      }\n\n      this._fireChangeEvent(attr, oldVal, val);\n\n      if (after) {\n        after.call(this);\n      }\n\n      return this;\n    };\n\n    exports.Factory.addOverloadedGetterSetter(constructor, attr);\n  },\n  addOverloadedGetterSetter: function addOverloadedGetterSetter(constructor, attr) {\n    var capitalizedAttr = Util_1.Util._capitalize(attr),\n        setter = SET + capitalizedAttr,\n        getter = GET + capitalizedAttr;\n\n    constructor.prototype[attr] = function () {\n      if (arguments.length) {\n        this[setter](arguments[0]);\n        return this;\n      }\n\n      return this[getter]();\n    };\n  },\n  addDeprecatedGetterSetter: function addDeprecatedGetterSetter(constructor, attr, def, validator) {\n    Util_1.Util.error('Adding deprecated ' + attr);\n\n    var method = GET + Util_1.Util._capitalize(attr);\n\n    var message = attr + ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n\n    constructor.prototype[method] = function () {\n      Util_1.Util.error(message);\n      var val = this.attrs[attr];\n      return val === undefined ? def : val;\n    };\n\n    exports.Factory.addSetter(constructor, attr, validator, function () {\n      Util_1.Util.error(message);\n    });\n    exports.Factory.addOverloadedGetterSetter(constructor, attr);\n  },\n  backCompat: function backCompat(constructor, methods) {\n    Util_1.Util.each(methods, function (oldMethodName, newMethodName) {\n      var method = constructor.prototype[newMethodName];\n\n      var oldGetter = GET + Util_1.Util._capitalize(oldMethodName);\n\n      var oldSetter = SET + Util_1.Util._capitalize(oldMethodName);\n\n      function deprecated() {\n        method.apply(this, arguments);\n        Util_1.Util.error('\"' + oldMethodName + '\" method is deprecated and will be removed soon. Use \"\"' + newMethodName + '\" instead.');\n      }\n\n      constructor.prototype[oldMethodName] = deprecated;\n      constructor.prototype[oldGetter] = deprecated;\n      constructor.prototype[oldSetter] = deprecated;\n    });\n  },\n  afterSetFilter: function afterSetFilter() {\n    this._filterUpToDate = false;\n  }\n};","'use strict';\n\nexports.__esModule = true;\nexports.supportsMutation = exports.isPrimaryRenderer = exports.cancelPassiveEffects = exports.schedulePassiveEffects = exports.noTimeout = exports.cancelTimeout = exports.scheduleTimeout = exports.cancelDeferredCallback = exports.shouldYield = exports.scheduleDeferredCallback = exports.now = undefined;\n\nvar _HostConfigWithNoPersistence = require('./HostConfigWithNoPersistence');\n\nObject.keys(_HostConfigWithNoPersistence).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _HostConfigWithNoPersistence[key];\n    }\n  });\n});\n\nvar _HostConfigWithNoHydration = require('./HostConfigWithNoHydration');\n\nObject.keys(_HostConfigWithNoHydration).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _HostConfigWithNoHydration[key];\n    }\n  });\n});\n\nvar _scheduler = require('scheduler');\n\nObject.defineProperty(exports, 'now', {\n  enumerable: true,\n  get: function get() {\n    return _scheduler.unstable_now;\n  }\n});\nObject.defineProperty(exports, 'scheduleDeferredCallback', {\n  enumerable: true,\n  get: function get() {\n    return _scheduler.unstable_scheduleCallback;\n  }\n});\nObject.defineProperty(exports, 'shouldYield', {\n  enumerable: true,\n  get: function get() {\n    return _scheduler.unstable_shouldYield;\n  }\n});\nObject.defineProperty(exports, 'cancelDeferredCallback', {\n  enumerable: true,\n  get: function get() {\n    return _scheduler.unstable_cancelCallback;\n  }\n});\nexports.appendInitialChild = appendInitialChild;\nexports.createInstance = createInstance;\nexports.createTextInstance = createTextInstance;\nexports.finalizeInitialChildren = finalizeInitialChildren;\nexports.getPublicInstance = getPublicInstance;\nexports.prepareForCommit = prepareForCommit;\nexports.prepareUpdate = prepareUpdate;\nexports.resetAfterCommit = resetAfterCommit;\nexports.resetTextContent = resetTextContent;\nexports.shouldDeprioritizeSubtree = shouldDeprioritizeSubtree;\nexports.getRootHostContext = getRootHostContext;\nexports.getChildHostContext = getChildHostContext;\nexports.shouldSetTextContent = shouldSetTextContent;\nexports.appendChild = appendChild;\nexports.appendChildToContainer = appendChildToContainer;\nexports.insertBefore = insertBefore;\nexports.insertInContainerBefore = insertInContainerBefore;\nexports.removeChild = removeChild;\nexports.removeChildFromContainer = removeChildFromContainer;\nexports.commitTextUpdate = commitTextUpdate;\nexports.commitMount = commitMount;\nexports.commitUpdate = commitUpdate;\nexports.hideInstance = hideInstance;\nexports.hideTextInstance = hideTextInstance;\nexports.unhideInstance = unhideInstance;\nexports.unhideTextInstance = unhideTextInstance;\n\nvar _Core = require('konva/lib/Core');\n\nvar _Core2 = _interopRequireDefault(_Core);\n\nvar _makeUpdates = require('./makeUpdates');\n\nvar _invariant = require('./invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar NO_CONTEXT = {};\nvar UPDATE_SIGNAL = {}; // for react-spring capability\n\n_Core2.default.Node.prototype._applyProps = _makeUpdates.applyNodeProps;\n\nfunction appendInitialChild(parentInstance, child) {\n  if (typeof child === 'string') {\n    // Noop for string children of Text (eg <Text>foo</Text>)\n    (0, _invariant2.default)(false, 'Don not use plain text as child of Konva.Node. You are using text: \"%s\"', child);\n    return;\n  }\n\n  parentInstance.add(child);\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction createInstance(type, props, internalInstanceHandle) {\n  var NodeClass = _Core2.default[type];\n\n  if (!NodeClass) {\n    (0, _invariant2.default)(instance, 'Konva has no node with the type \"%s\". If you use minimal version of react-konva, just import required nodes into Konva: `import \"konva/lib/shapes/%s\"`  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html', type, type);\n    return;\n  } // we need to split props into events and non events\n  // we we can pass non events into constructor directly\n  // that way the performance should be better\n  // we we apply change \"applyNodeProps\"\n  // then it will trigger change events on first run\n  // but we don't need them!\n\n\n  var propsWithoutEvents = {};\n  var propsWithOnlyEvents = {};\n\n  for (var key in props) {\n    var isEvent = key.slice(0, 2) === 'on';\n\n    if (isEvent) {\n      propsWithOnlyEvents[key] = props[key];\n    } else {\n      propsWithoutEvents[key] = props[key];\n    }\n  }\n\n  var instance = new NodeClass(propsWithoutEvents);\n  (0, _makeUpdates.applyNodeProps)(instance, propsWithOnlyEvents);\n  return instance;\n}\n\nfunction createTextInstance(text, rootContainerInstance, internalInstanceHandle) {\n  (0, _invariant2.default)(false, 'Text components are not supported for now in ReactKonva. You text is: \"' + text + '\"');\n}\n\nfunction finalizeInitialChildren(domElement, type, props) {\n  return false;\n}\n\nfunction getPublicInstance(instance) {\n  return instance;\n}\n\nfunction prepareForCommit() {// Noop\n}\n\nfunction prepareUpdate(domElement, type, oldProps, newProps) {\n  return UPDATE_SIGNAL;\n}\n\nfunction resetAfterCommit() {// Noop\n}\n\nfunction resetTextContent(domElement) {// Noop\n}\n\nfunction shouldDeprioritizeSubtree(type, props) {\n  return false;\n}\n\nfunction getRootHostContext() {\n  return NO_CONTEXT;\n}\n\nfunction getChildHostContext() {\n  return NO_CONTEXT;\n}\n\nvar scheduleTimeout = exports.scheduleTimeout = setTimeout;\nvar cancelTimeout = exports.cancelTimeout = clearTimeout;\nvar noTimeout = exports.noTimeout = -1;\nvar schedulePassiveEffects = exports.schedulePassiveEffects = _scheduler.unstable_scheduleCallback;\nvar cancelPassiveEffects = exports.cancelPassiveEffects = _scheduler.unstable_cancelCallback;\n\nfunction shouldSetTextContent(type, props) {\n  return false;\n} // The Konva renderer is secondary to the React DOM renderer.\n\n\nvar isPrimaryRenderer = exports.isPrimaryRenderer = false;\nvar supportsMutation = exports.supportsMutation = true;\n\nfunction appendChild(parentInstance, child) {\n  if (child.parent === parentInstance) {\n    child.moveToTop();\n  } else {\n    parentInstance.add(child);\n  }\n\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction appendChildToContainer(parentInstance, child) {\n  if (child.parent === parentInstance) {\n    child.moveToTop();\n  } else {\n    parentInstance.add(child);\n  }\n\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction insertBefore(parentInstance, child, beforeChild) {\n  (0, _invariant2.default)(child !== beforeChild, 'ReactKonva: Can not insert node before itself'); // child._remove() will not stop dragging\n  // but child.remove() will stop it, but we don't need it\n  // removing will reset zIndexes\n\n  child._remove();\n\n  parentInstance.add(child);\n  child.setZIndex(beforeChild.getZIndex());\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction insertInContainerBefore(parentInstance, child, beforeChild) {\n  insertBefore(parentInstance, child, beforeChild);\n}\n\nfunction removeChild(parentInstance, child) {\n  child.destroy();\n  child.off(_makeUpdates.EVENTS_NAMESPACE);\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction removeChildFromContainer(parentInstance, child) {\n  child.destroy();\n  child.off(_makeUpdates.EVENTS_NAMESPACE);\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction commitTextUpdate(textInstance, oldText, newText) {\n  (0, _invariant2.default)(false, 'Text components are not yet supported in ReactKonva. You text is: \"' + newText + '\"');\n}\n\nfunction commitMount(instance, type, newProps) {// Noop\n}\n\nfunction commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n  (0, _makeUpdates.applyNodeProps)(instance, newProps, oldProps);\n}\n\nfunction hideInstance(instance) {\n  instance.hide();\n  (0, _makeUpdates.updatePicture)(instance);\n}\n\nfunction hideTextInstance(textInstance) {// Noop\n}\n\nfunction unhideInstance(instance, props) {\n  if (props.visible == null || props.visible) {\n    instance.show();\n  }\n}\n\nfunction unhideTextInstance(textInstance, text) {// Noop\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseActions = parseActions;\nexports.isHistory = isHistory;\nexports.includeAction = includeAction;\nexports.excludeAction = excludeAction;\nexports.combineFilters = combineFilters;\nexports.groupByActionTypes = groupByActionTypes;\nexports.newHistory = newHistory; // parseActions helper: takes a string (or array)\n//                      and makes it an array if it isn't yet\n\nfunction parseActions(rawActions) {\n  var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (Array.isArray(rawActions)) {\n    return rawActions;\n  } else if (typeof rawActions === 'string') {\n    return [rawActions];\n  }\n\n  return defaultValue;\n} // isHistory helper: check for a valid history object\n\n\nfunction isHistory(history) {\n  return typeof history.present !== 'undefined' && typeof history.future !== 'undefined' && typeof history.past !== 'undefined' && Array.isArray(history.future) && Array.isArray(history.past);\n} // includeAction helper: whitelist actions to be added to the history\n\n\nfunction includeAction(rawActions) {\n  var actions = parseActions(rawActions);\n  return function (action) {\n    return actions.indexOf(action.type) >= 0;\n  };\n} // excludeAction helper: blacklist actions from being added to the history\n\n\nfunction excludeAction(rawActions) {\n  var actions = parseActions(rawActions);\n  return function (action) {\n    return actions.indexOf(action.type) < 0;\n  };\n} // combineFilters helper: combine multiple filters to one\n\n\nfunction combineFilters() {\n  for (var _len = arguments.length, filters = new Array(_len), _key = 0; _key < _len; _key++) {\n    filters[_key] = arguments[_key];\n  }\n\n  return filters.reduce(function (prev, curr) {\n    return function (action, currentState, previousHistory) {\n      return prev(action, currentState, previousHistory) && curr(action, currentState, previousHistory);\n    };\n  }, function () {\n    return true;\n  });\n}\n\nfunction groupByActionTypes(rawActions) {\n  var actions = parseActions(rawActions);\n  return function (action) {\n    return actions.indexOf(action.type) >= 0 ? action.type : null;\n  };\n}\n\nfunction newHistory(past, present, future) {\n  var group = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  return {\n    past: past,\n    present: present,\n    future: future,\n    group: group,\n    _latestUnfiltered: present,\n    index: past.length,\n    limit: past.length + future.length + 1\n  };\n}","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"./Util\");\n\nvar Context_1 = require(\"./Context\");\n\nvar Global_1 = require(\"./Global\");\n\nvar Factory_1 = require(\"./Factory\");\n\nvar Validators_1 = require(\"./Validators\");\n\nvar _pixelRatio;\n\nfunction getDevicePixelRatio() {\n  if (_pixelRatio) {\n    return _pixelRatio;\n  }\n\n  var canvas = Util_1.Util.createCanvasElement();\n  var context = canvas.getContext('2d');\n\n  _pixelRatio = function () {\n    var devicePixelRatio = Global_1.Konva._global.devicePixelRatio || 1,\n        backingStoreRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n    return devicePixelRatio / backingStoreRatio;\n  }();\n\n  return _pixelRatio;\n}\n\nvar Canvas = function () {\n  function Canvas(config) {\n    this.pixelRatio = 1;\n    this.width = 0;\n    this.height = 0;\n    this.isCache = false;\n    var conf = config || {};\n    var pixelRatio = conf.pixelRatio || Global_1.Konva.pixelRatio || getDevicePixelRatio();\n    this.pixelRatio = pixelRatio;\n    this._canvas = Util_1.Util.createCanvasElement();\n    this._canvas.style.padding = '0';\n    this._canvas.style.margin = '0';\n    this._canvas.style.border = '0';\n    this._canvas.style.background = 'transparent';\n    this._canvas.style.position = 'absolute';\n    this._canvas.style.top = '0';\n    this._canvas.style.left = '0';\n  }\n\n  Canvas.prototype.getContext = function () {\n    return this.context;\n  };\n\n  Canvas.prototype.getPixelRatio = function () {\n    return this.pixelRatio;\n  };\n\n  Canvas.prototype.setPixelRatio = function (pixelRatio) {\n    var previousRatio = this.pixelRatio;\n    this.pixelRatio = pixelRatio;\n    this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n  };\n\n  Canvas.prototype.setWidth = function (width) {\n    this.width = this._canvas.width = width * this.pixelRatio;\n    this._canvas.style.width = width + 'px';\n\n    var pixelRatio = this.pixelRatio,\n        _context = this.getContext()._context;\n\n    _context.scale(pixelRatio, pixelRatio);\n  };\n\n  Canvas.prototype.setHeight = function (height) {\n    this.height = this._canvas.height = height * this.pixelRatio;\n    this._canvas.style.height = height + 'px';\n\n    var pixelRatio = this.pixelRatio,\n        _context = this.getContext()._context;\n\n    _context.scale(pixelRatio, pixelRatio);\n  };\n\n  Canvas.prototype.getWidth = function () {\n    return this.width;\n  };\n\n  Canvas.prototype.getHeight = function () {\n    return this.height;\n  };\n\n  Canvas.prototype.setSize = function (width, height) {\n    this.setWidth(width || 0);\n    this.setHeight(height || 0);\n  };\n\n  Canvas.prototype.toDataURL = function (mimeType, quality) {\n    try {\n      return this._canvas.toDataURL(mimeType, quality);\n    } catch (e) {\n      try {\n        return this._canvas.toDataURL();\n      } catch (err) {\n        Util_1.Util.error('Unable to get data URL. ' + err.message + ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n        return '';\n      }\n    }\n  };\n\n  return Canvas;\n}();\n\nexports.Canvas = Canvas;\nFactory_1.Factory.addGetterSetter(Canvas, 'pixelRatio', undefined, Validators_1.getNumberValidator());\n\nvar SceneCanvas = function (_super) {\n  __extends(SceneCanvas, _super);\n\n  function SceneCanvas(config) {\n    if (config === void 0) {\n      config = {\n        width: 0,\n        height: 0\n      };\n    }\n\n    var _this = _super.call(this, config) || this;\n\n    _this.context = new Context_1.SceneContext(_this);\n\n    _this.setSize(config.width, config.height);\n\n    return _this;\n  }\n\n  return SceneCanvas;\n}(Canvas);\n\nexports.SceneCanvas = SceneCanvas;\n\nvar HitCanvas = function (_super) {\n  __extends(HitCanvas, _super);\n\n  function HitCanvas(config) {\n    if (config === void 0) {\n      config = {\n        width: 0,\n        height: 0\n      };\n    }\n\n    var _this = _super.call(this, config) || this;\n\n    _this.hitCanvas = true;\n    _this.context = new Context_1.HitContext(_this);\n\n    _this.setSize(config.width, config.height);\n\n    return _this;\n  }\n\n  return HitCanvas;\n}(Canvas);\n\nexports.HitCanvas = HitCanvas;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Line = function (_super) {\n  __extends(Line, _super);\n\n  function Line(config) {\n    var _this = _super.call(this, config) || this;\n\n    _this.on('pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva', function () {\n      this._clearCache('tensionPoints');\n    });\n\n    return _this;\n  }\n\n  Line.prototype._sceneFunc = function (context) {\n    var points = this.points(),\n        length = points.length,\n        tension = this.tension(),\n        closed = this.closed(),\n        bezier = this.bezier(),\n        tp,\n        len,\n        n;\n\n    if (!length) {\n      return;\n    }\n\n    context.beginPath();\n    context.moveTo(points[0], points[1]);\n\n    if (tension !== 0 && length > 4) {\n      tp = this.getTensionPoints();\n      len = tp.length;\n      n = closed ? 0 : 4;\n\n      if (!closed) {\n        context.quadraticCurveTo(tp[0], tp[1], tp[2], tp[3]);\n      }\n\n      while (n < len - 2) {\n        context.bezierCurveTo(tp[n++], tp[n++], tp[n++], tp[n++], tp[n++], tp[n++]);\n      }\n\n      if (!closed) {\n        context.quadraticCurveTo(tp[len - 2], tp[len - 1], points[length - 2], points[length - 1]);\n      }\n    } else if (bezier) {\n      n = 2;\n\n      while (n < length) {\n        context.bezierCurveTo(points[n++], points[n++], points[n++], points[n++], points[n++], points[n++]);\n      }\n    } else {\n      for (n = 2; n < length; n += 2) {\n        context.lineTo(points[n], points[n + 1]);\n      }\n    }\n\n    if (closed) {\n      context.closePath();\n      context.fillStrokeShape(this);\n    } else {\n      context.strokeShape(this);\n    }\n  };\n\n  Line.prototype.getTensionPoints = function () {\n    return this._getCache('tensionPoints', this._getTensionPoints);\n  };\n\n  Line.prototype._getTensionPoints = function () {\n    if (this.closed()) {\n      return this._getTensionPointsClosed();\n    } else {\n      return Util_1.Util._expandPoints(this.points(), this.tension());\n    }\n  };\n\n  Line.prototype._getTensionPointsClosed = function () {\n    var p = this.points(),\n        len = p.length,\n        tension = this.tension(),\n        firstControlPoints = Util_1.Util._getControlPoints(p[len - 2], p[len - 1], p[0], p[1], p[2], p[3], tension),\n        lastControlPoints = Util_1.Util._getControlPoints(p[len - 4], p[len - 3], p[len - 2], p[len - 1], p[0], p[1], tension),\n        middle = Util_1.Util._expandPoints(p, tension),\n        tp = [firstControlPoints[2], firstControlPoints[3]].concat(middle).concat([lastControlPoints[0], lastControlPoints[1], p[len - 2], p[len - 1], lastControlPoints[2], lastControlPoints[3], firstControlPoints[0], firstControlPoints[1], p[0], p[1]]);\n\n    return tp;\n  };\n\n  Line.prototype.getWidth = function () {\n    return this.getSelfRect().width;\n  };\n\n  Line.prototype.getHeight = function () {\n    return this.getSelfRect().height;\n  };\n\n  Line.prototype.getSelfRect = function () {\n    var points = this.points();\n\n    if (points.length < 4) {\n      return {\n        x: points[0] || 0,\n        y: points[1] || 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    if (this.tension() !== 0) {\n      points = __spreadArrays([points[0], points[1]], this._getTensionPoints(), [points[points.length - 2], points[points.length - 1]]);\n    } else {\n      points = this.points();\n    }\n\n    var minX = points[0];\n    var maxX = points[0];\n    var minY = points[1];\n    var maxY = points[1];\n    var x, y;\n\n    for (var i = 0; i < points.length / 2; i++) {\n      x = points[i * 2];\n      y = points[i * 2 + 1];\n      minX = Math.min(minX, x);\n      maxX = Math.max(maxX, x);\n      minY = Math.min(minY, y);\n      maxY = Math.max(maxY, y);\n    }\n\n    return {\n      x: minX,\n      y: minY,\n      width: maxX - minX,\n      height: maxY - minY\n    };\n  };\n\n  return Line;\n}(Shape_1.Shape);\n\nexports.Line = Line;\nLine.prototype.className = 'Line';\nLine.prototype._attrsAffectingSize = ['points', 'bezier', 'tension'];\n\nGlobal_1._registerNode(Line);\n\nFactory_1.Factory.addGetterSetter(Line, 'closed', false);\nFactory_1.Factory.addGetterSetter(Line, 'bezier', false);\nFactory_1.Factory.addGetterSetter(Line, 'tension', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Line, 'points', [], Validators_1.getNumberArrayValidator());\nUtil_1.Collection.mapMethods(Line);","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","'use strict';\n\nexports.__esModule = true;\nexports.getClosestInstanceFromNode = getClosestInstanceFromNode; // from https://github.com/facebook/react/blob/87ae211ccd8d61796cfdef138d1e12fb7a74f85d/packages/shared/ReactTypeOfWork.js\n\nvar HostComponent = 5;\nvar HostText = 6; // adapted FROM: https://github.com/facebook/react/blob/master/packages/react-dom/src/client/ReactDOMComponentTree.js\n\nvar randomKey = Math.random().toString(36).slice(2);\nvar internalInstanceKey = '__reactInternalInstance$' + randomKey;\n/**\n * Given a DOM node, return the closest ReactDOMComponent or\n * ReactDOMTextComponent instance ancestor.\n */\n\nfunction getClosestInstanceFromNode(node) {\n  if (node[internalInstanceKey]) {\n    return node[internalInstanceKey];\n  }\n\n  while (!node[internalInstanceKey]) {\n    if (node.parentNode) {\n      node = node.parentNode;\n    } else {\n      // Top of the tree. This node must not be part of a React tree (or is\n      // unmounted, potentially).\n      return null;\n    }\n  }\n\n  var inst = node[internalInstanceKey];\n\n  if (inst.tag === HostComponent || inst.tag === HostText) {\n    // In Fiber, this will always be the deepest root.\n    return inst;\n  }\n\n  return null;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"./Util\");\n\nvar Animation_1 = require(\"./Animation\");\n\nvar Node_1 = require(\"./Node\");\n\nvar Global_1 = require(\"./Global\");\n\nvar blacklist = {\n  node: 1,\n  duration: 1,\n  easing: 1,\n  onFinish: 1,\n  yoyo: 1\n},\n    PAUSED = 1,\n    PLAYING = 2,\n    REVERSING = 3,\n    idCounter = 0,\n    colorAttrs = ['fill', 'stroke', 'shadowColor'];\n\nvar TweenEngine = function () {\n  function TweenEngine(prop, propFunc, func, begin, finish, duration, yoyo) {\n    this.prop = prop;\n    this.propFunc = propFunc;\n    this.begin = begin;\n    this._pos = begin;\n    this.duration = duration;\n    this._change = 0;\n    this.prevPos = 0;\n    this.yoyo = yoyo;\n    this._time = 0;\n    this._position = 0;\n    this._startTime = 0;\n    this._finish = 0;\n    this.func = func;\n    this._change = finish - this.begin;\n    this.pause();\n  }\n\n  TweenEngine.prototype.fire = function (str) {\n    var handler = this[str];\n\n    if (handler) {\n      handler();\n    }\n  };\n\n  TweenEngine.prototype.setTime = function (t) {\n    if (t > this.duration) {\n      if (this.yoyo) {\n        this._time = this.duration;\n        this.reverse();\n      } else {\n        this.finish();\n      }\n    } else if (t < 0) {\n      if (this.yoyo) {\n        this._time = 0;\n        this.play();\n      } else {\n        this.reset();\n      }\n    } else {\n      this._time = t;\n      this.update();\n    }\n  };\n\n  TweenEngine.prototype.getTime = function () {\n    return this._time;\n  };\n\n  TweenEngine.prototype.setPosition = function (p) {\n    this.prevPos = this._pos;\n    this.propFunc(p);\n    this._pos = p;\n  };\n\n  TweenEngine.prototype.getPosition = function (t) {\n    if (t === undefined) {\n      t = this._time;\n    }\n\n    return this.func(t, this.begin, this._change, this.duration);\n  };\n\n  TweenEngine.prototype.play = function () {\n    this.state = PLAYING;\n    this._startTime = this.getTimer() - this._time;\n    this.onEnterFrame();\n    this.fire('onPlay');\n  };\n\n  TweenEngine.prototype.reverse = function () {\n    this.state = REVERSING;\n    this._time = this.duration - this._time;\n    this._startTime = this.getTimer() - this._time;\n    this.onEnterFrame();\n    this.fire('onReverse');\n  };\n\n  TweenEngine.prototype.seek = function (t) {\n    this.pause();\n    this._time = t;\n    this.update();\n    this.fire('onSeek');\n  };\n\n  TweenEngine.prototype.reset = function () {\n    this.pause();\n    this._time = 0;\n    this.update();\n    this.fire('onReset');\n  };\n\n  TweenEngine.prototype.finish = function () {\n    this.pause();\n    this._time = this.duration;\n    this.update();\n    this.fire('onFinish');\n  };\n\n  TweenEngine.prototype.update = function () {\n    this.setPosition(this.getPosition(this._time));\n    this.fire('onUpdate');\n  };\n\n  TweenEngine.prototype.onEnterFrame = function () {\n    var t = this.getTimer() - this._startTime;\n\n    if (this.state === PLAYING) {\n      this.setTime(t);\n    } else if (this.state === REVERSING) {\n      this.setTime(this.duration - t);\n    }\n  };\n\n  TweenEngine.prototype.pause = function () {\n    this.state = PAUSED;\n    this.fire('onPause');\n  };\n\n  TweenEngine.prototype.getTimer = function () {\n    return new Date().getTime();\n  };\n\n  return TweenEngine;\n}();\n\nvar Tween = function () {\n  function Tween(config) {\n    var that = this,\n        node = config.node,\n        nodeId = node._id,\n        duration,\n        easing = config.easing || exports.Easings.Linear,\n        yoyo = !!config.yoyo,\n        key;\n\n    if (typeof config.duration === 'undefined') {\n      duration = 0.3;\n    } else if (config.duration === 0) {\n      duration = 0.001;\n    } else {\n      duration = config.duration;\n    }\n\n    this.node = node;\n    this._id = idCounter++;\n    var layers = node.getLayer() || (node instanceof Global_1.Konva['Stage'] ? node.getLayers() : null);\n\n    if (!layers) {\n      Util_1.Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n    }\n\n    this.anim = new Animation_1.Animation(function () {\n      that.tween.onEnterFrame();\n    }, layers);\n    this.tween = new TweenEngine(key, function (i) {\n      that._tweenFunc(i);\n    }, easing, 0, 1, duration * 1000, yoyo);\n\n    this._addListeners();\n\n    if (!Tween.attrs[nodeId]) {\n      Tween.attrs[nodeId] = {};\n    }\n\n    if (!Tween.attrs[nodeId][this._id]) {\n      Tween.attrs[nodeId][this._id] = {};\n    }\n\n    if (!Tween.tweens[nodeId]) {\n      Tween.tweens[nodeId] = {};\n    }\n\n    for (key in config) {\n      if (blacklist[key] === undefined) {\n        this._addAttr(key, config[key]);\n      }\n    }\n\n    this.reset();\n    this.onFinish = config.onFinish;\n    this.onReset = config.onReset;\n    this.onUpdate = config.onUpdate;\n  }\n\n  Tween.prototype._addAttr = function (key, end) {\n    var node = this.node,\n        nodeId = node._id,\n        start,\n        diff,\n        tweenId,\n        n,\n        len,\n        trueEnd,\n        trueStart,\n        endRGBA;\n    tweenId = Tween.tweens[nodeId][key];\n\n    if (tweenId) {\n      delete Tween.attrs[nodeId][tweenId][key];\n    }\n\n    start = node.getAttr(key);\n\n    if (Util_1.Util._isArray(end)) {\n      diff = [];\n      len = Math.max(end.length, start.length);\n\n      if (key === 'points' && end.length !== start.length) {\n        if (end.length > start.length) {\n          trueStart = start;\n          start = Util_1.Util._prepareArrayForTween(start, end, node.closed());\n        } else {\n          trueEnd = end;\n          end = Util_1.Util._prepareArrayForTween(end, start, node.closed());\n        }\n      }\n\n      if (key.indexOf('fill') === 0) {\n        for (n = 0; n < len; n++) {\n          if (n % 2 === 0) {\n            diff.push(end[n] - start[n]);\n          } else {\n            var startRGBA = Util_1.Util.colorToRGBA(start[n]);\n            endRGBA = Util_1.Util.colorToRGBA(end[n]);\n            start[n] = startRGBA;\n            diff.push({\n              r: endRGBA.r - startRGBA.r,\n              g: endRGBA.g - startRGBA.g,\n              b: endRGBA.b - startRGBA.b,\n              a: endRGBA.a - startRGBA.a\n            });\n          }\n        }\n      } else {\n        for (n = 0; n < len; n++) {\n          diff.push(end[n] - start[n]);\n        }\n      }\n    } else if (colorAttrs.indexOf(key) !== -1) {\n      start = Util_1.Util.colorToRGBA(start);\n      endRGBA = Util_1.Util.colorToRGBA(end);\n      diff = {\n        r: endRGBA.r - start.r,\n        g: endRGBA.g - start.g,\n        b: endRGBA.b - start.b,\n        a: endRGBA.a - start.a\n      };\n    } else {\n      diff = end - start;\n    }\n\n    Tween.attrs[nodeId][this._id][key] = {\n      start: start,\n      diff: diff,\n      end: end,\n      trueEnd: trueEnd,\n      trueStart: trueStart\n    };\n    Tween.tweens[nodeId][key] = this._id;\n  };\n\n  Tween.prototype._tweenFunc = function (i) {\n    var node = this.node,\n        attrs = Tween.attrs[node._id][this._id],\n        key,\n        attr,\n        start,\n        diff,\n        newVal,\n        n,\n        len,\n        end;\n\n    for (key in attrs) {\n      attr = attrs[key];\n      start = attr.start;\n      diff = attr.diff;\n      end = attr.end;\n\n      if (Util_1.Util._isArray(start)) {\n        newVal = [];\n        len = Math.max(start.length, end.length);\n\n        if (key.indexOf('fill') === 0) {\n          for (n = 0; n < len; n++) {\n            if (n % 2 === 0) {\n              newVal.push((start[n] || 0) + diff[n] * i);\n            } else {\n              newVal.push('rgba(' + Math.round(start[n].r + diff[n].r * i) + ',' + Math.round(start[n].g + diff[n].g * i) + ',' + Math.round(start[n].b + diff[n].b * i) + ',' + (start[n].a + diff[n].a * i) + ')');\n            }\n          }\n        } else {\n          for (n = 0; n < len; n++) {\n            newVal.push((start[n] || 0) + diff[n] * i);\n          }\n        }\n      } else if (colorAttrs.indexOf(key) !== -1) {\n        newVal = 'rgba(' + Math.round(start.r + diff.r * i) + ',' + Math.round(start.g + diff.g * i) + ',' + Math.round(start.b + diff.b * i) + ',' + (start.a + diff.a * i) + ')';\n      } else {\n        newVal = start + diff * i;\n      }\n\n      node.setAttr(key, newVal);\n    }\n  };\n\n  Tween.prototype._addListeners = function () {\n    var _this = this;\n\n    this.tween.onPlay = function () {\n      _this.anim.start();\n    };\n\n    this.tween.onReverse = function () {\n      _this.anim.start();\n    };\n\n    this.tween.onPause = function () {\n      _this.anim.stop();\n    };\n\n    this.tween.onFinish = function () {\n      var node = _this.node;\n      var attrs = Tween.attrs[node._id][_this._id];\n\n      if (attrs.points && attrs.points.trueEnd) {\n        node.setAttr('points', attrs.points.trueEnd);\n      }\n\n      if (_this.onFinish) {\n        _this.onFinish.call(_this);\n      }\n    };\n\n    this.tween.onReset = function () {\n      var node = _this.node;\n      var attrs = Tween.attrs[node._id][_this._id];\n\n      if (attrs.points && attrs.points.trueStart) {\n        node.points(attrs.points.trueStart);\n      }\n\n      if (_this.onReset) {\n        _this.onReset();\n      }\n    };\n\n    this.tween.onUpdate = function () {\n      if (_this.onUpdate) {\n        _this.onUpdate.call(_this);\n      }\n    };\n  };\n\n  Tween.prototype.play = function () {\n    this.tween.play();\n    return this;\n  };\n\n  Tween.prototype.reverse = function () {\n    this.tween.reverse();\n    return this;\n  };\n\n  Tween.prototype.reset = function () {\n    this.tween.reset();\n    return this;\n  };\n\n  Tween.prototype.seek = function (t) {\n    this.tween.seek(t * 1000);\n    return this;\n  };\n\n  Tween.prototype.pause = function () {\n    this.tween.pause();\n    return this;\n  };\n\n  Tween.prototype.finish = function () {\n    this.tween.finish();\n    return this;\n  };\n\n  Tween.prototype.destroy = function () {\n    var nodeId = this.node._id,\n        thisId = this._id,\n        attrs = Tween.tweens[nodeId],\n        key;\n    this.pause();\n\n    for (key in attrs) {\n      delete Tween.tweens[nodeId][key];\n    }\n\n    delete Tween.attrs[nodeId][thisId];\n  };\n\n  Tween.attrs = {};\n  Tween.tweens = {};\n  return Tween;\n}();\n\nexports.Tween = Tween;\n\nNode_1.Node.prototype.to = function (params) {\n  var onFinish = params.onFinish;\n  params.node = this;\n\n  params.onFinish = function () {\n    this.destroy();\n\n    if (onFinish) {\n      onFinish();\n    }\n  };\n\n  var tween = new Tween(params);\n  tween.play();\n};\n\nexports.Easings = {\n  BackEaseIn: function BackEaseIn(t, b, c, d) {\n    var s = 1.70158;\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n  BackEaseOut: function BackEaseOut(t, b, c, d) {\n    var s = 1.70158;\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n  BackEaseInOut: function BackEaseInOut(t, b, c, d) {\n    var s = 1.70158;\n\n    if ((t /= d / 2) < 1) {\n      return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    }\n\n    return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n  },\n  ElasticEaseIn: function ElasticEaseIn(t, b, c, d, a, p) {\n    var s = 0;\n\n    if (t === 0) {\n      return b;\n    }\n\n    if ((t /= d) === 1) {\n      return b + c;\n    }\n\n    if (!p) {\n      p = d * 0.3;\n    }\n\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n\n    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n  },\n  ElasticEaseOut: function ElasticEaseOut(t, b, c, d, a, p) {\n    var s = 0;\n\n    if (t === 0) {\n      return b;\n    }\n\n    if ((t /= d) === 1) {\n      return b + c;\n    }\n\n    if (!p) {\n      p = d * 0.3;\n    }\n\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n\n    return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n  },\n  ElasticEaseInOut: function ElasticEaseInOut(t, b, c, d, a, p) {\n    var s = 0;\n\n    if (t === 0) {\n      return b;\n    }\n\n    if ((t /= d / 2) === 2) {\n      return b + c;\n    }\n\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n\n    if (!a || a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = p / (2 * Math.PI) * Math.asin(c / a);\n    }\n\n    if (t < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n    }\n\n    return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;\n  },\n  BounceEaseOut: function BounceEaseOut(t, b, c, d) {\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n  BounceEaseIn: function BounceEaseIn(t, b, c, d) {\n    return c - exports.Easings.BounceEaseOut(d - t, 0, c, d) + b;\n  },\n  BounceEaseInOut: function BounceEaseInOut(t, b, c, d) {\n    if (t < d / 2) {\n      return exports.Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n    } else {\n      return exports.Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n    }\n  },\n  EaseIn: function EaseIn(t, b, c, d) {\n    return c * (t /= d) * t + b;\n  },\n  EaseOut: function EaseOut(t, b, c, d) {\n    return -c * (t /= d) * (t - 2) + b;\n  },\n  EaseInOut: function EaseInOut(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t + b;\n    }\n\n    return -c / 2 * (--t * (t - 2) - 1) + b;\n  },\n  StrongEaseIn: function StrongEaseIn(t, b, c, d) {\n    return c * (t /= d) * t * t * t * t + b;\n  },\n  StrongEaseOut: function StrongEaseOut(t, b, c, d) {\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n  StrongEaseInOut: function StrongEaseInOut(t, b, c, d) {\n    if ((t /= d / 2) < 1) {\n      return c / 2 * t * t * t * t * t + b;\n    }\n\n    return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n  },\n  Linear: function Linear(t, b, c, d) {\n    return c * t / d + b;\n  }\n};","'use strict';\n\nexports.__esModule = true;\nexports.createHiddenTextInstance = exports.cloneUnhiddenInstance = exports.cloneHiddenInstance = exports.replaceContainerChildren = exports.finalizeContainerChildren = exports.appendChildToContainerChildSet = exports.createContainerChildSet = exports.cloneInstance = exports.supportsPersistence = undefined;\n\nvar _invariant = require('./invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // Renderers that don't support persistence\n// can re-export everything from this module.\n\n\nfunction shim() {\n  (0, _invariant2.default)(false, 'The current renderer does not support persistence. ' + 'This error is likely caused by a bug in React. ' + 'Please file an issue.');\n} // Persistence (when unsupported)\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n\nvar supportsPersistence = exports.supportsPersistence = false;\nvar cloneInstance = exports.cloneInstance = shim;\nvar createContainerChildSet = exports.createContainerChildSet = shim;\nvar appendChildToContainerChildSet = exports.appendChildToContainerChildSet = shim;\nvar finalizeContainerChildren = exports.finalizeContainerChildren = shim;\nvar replaceContainerChildren = exports.replaceContainerChildren = shim;\nvar cloneHiddenInstance = exports.cloneHiddenInstance = shim;\nvar cloneUnhiddenInstance = exports.cloneUnhiddenInstance = shim;\nvar createHiddenTextInstance = exports.createHiddenTextInstance = shim;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"./Util\");\n\nvar Container_1 = require(\"./Container\");\n\nvar Node_1 = require(\"./Node\");\n\nvar Factory_1 = require(\"./Factory\");\n\nvar Canvas_1 = require(\"./Canvas\");\n\nvar Validators_1 = require(\"./Validators\");\n\nvar Shape_1 = require(\"./Shape\");\n\nvar Global_1 = require(\"./Global\");\n\nvar HASH = '#',\n    BEFORE_DRAW = 'beforeDraw',\n    DRAW = 'draw',\n    INTERSECTION_OFFSETS = [{\n  x: 0,\n  y: 0\n}, {\n  x: -1,\n  y: -1\n}, {\n  x: 1,\n  y: -1\n}, {\n  x: 1,\n  y: 1\n}, {\n  x: -1,\n  y: 1\n}],\n    INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\n\nvar Layer = function (_super) {\n  __extends(Layer, _super);\n\n  function Layer(config) {\n    var _this = _super.call(this, config) || this;\n\n    _this.canvas = new Canvas_1.SceneCanvas();\n    _this.hitCanvas = new Canvas_1.HitCanvas({\n      pixelRatio: 1\n    });\n    _this._waitingForDraw = false;\n\n    _this.on('visibleChange.konva', _this._checkVisibility);\n\n    _this._checkVisibility();\n\n    _this.on('imageSmoothingEnabledChange.konva', _this._setSmoothEnabled);\n\n    _this._setSmoothEnabled();\n\n    return _this;\n  }\n\n  Layer.prototype.createPNGStream = function () {\n    var c = this.canvas._canvas;\n    return c.createPNGStream();\n  };\n\n  Layer.prototype.getCanvas = function () {\n    return this.canvas;\n  };\n\n  Layer.prototype.getHitCanvas = function () {\n    return this.hitCanvas;\n  };\n\n  Layer.prototype.getContext = function () {\n    return this.getCanvas().getContext();\n  };\n\n  Layer.prototype.clear = function (bounds) {\n    this.getContext().clear(bounds);\n    this.getHitCanvas().getContext().clear(bounds);\n    return this;\n  };\n\n  Layer.prototype.setZIndex = function (index) {\n    _super.prototype.setZIndex.call(this, index);\n\n    var stage = this.getStage();\n\n    if (stage) {\n      stage.content.removeChild(this.getCanvas()._canvas);\n\n      if (index < stage.children.length - 1) {\n        stage.content.insertBefore(this.getCanvas()._canvas, stage.children[index + 1].getCanvas()._canvas);\n      } else {\n        stage.content.appendChild(this.getCanvas()._canvas);\n      }\n    }\n\n    return this;\n  };\n\n  Layer.prototype.moveToTop = function () {\n    Node_1.Node.prototype.moveToTop.call(this);\n    var stage = this.getStage();\n\n    if (stage) {\n      stage.content.removeChild(this.getCanvas()._canvas);\n      stage.content.appendChild(this.getCanvas()._canvas);\n    }\n\n    return true;\n  };\n\n  Layer.prototype.moveUp = function () {\n    var moved = Node_1.Node.prototype.moveUp.call(this);\n\n    if (!moved) {\n      return false;\n    }\n\n    var stage = this.getStage();\n\n    if (!stage) {\n      return false;\n    }\n\n    stage.content.removeChild(this.getCanvas()._canvas);\n\n    if (this.index < stage.children.length - 1) {\n      stage.content.insertBefore(this.getCanvas()._canvas, stage.children[this.index + 1].getCanvas()._canvas);\n    } else {\n      stage.content.appendChild(this.getCanvas()._canvas);\n    }\n\n    return true;\n  };\n\n  Layer.prototype.moveDown = function () {\n    if (Node_1.Node.prototype.moveDown.call(this)) {\n      var stage = this.getStage();\n\n      if (stage) {\n        var children = stage.children;\n        stage.content.removeChild(this.getCanvas()._canvas);\n        stage.content.insertBefore(this.getCanvas()._canvas, children[this.index + 1].getCanvas()._canvas);\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n\n  Layer.prototype.moveToBottom = function () {\n    if (Node_1.Node.prototype.moveToBottom.call(this)) {\n      var stage = this.getStage();\n\n      if (stage) {\n        var children = stage.children;\n        stage.content.removeChild(this.getCanvas()._canvas);\n        stage.content.insertBefore(this.getCanvas()._canvas, children[1].getCanvas()._canvas);\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n\n  Layer.prototype.getLayer = function () {\n    return this;\n  };\n\n  Layer.prototype.remove = function () {\n    var _canvas = this.getCanvas()._canvas;\n\n    Node_1.Node.prototype.remove.call(this);\n\n    if (_canvas && _canvas.parentNode && Util_1.Util._isInDocument(_canvas)) {\n      _canvas.parentNode.removeChild(_canvas);\n    }\n\n    return this;\n  };\n\n  Layer.prototype.getStage = function () {\n    return this.parent;\n  };\n\n  Layer.prototype.setSize = function (_a) {\n    var width = _a.width,\n        height = _a.height;\n    this.canvas.setSize(width, height);\n    this.hitCanvas.setSize(width, height);\n\n    this._setSmoothEnabled();\n\n    return this;\n  };\n\n  Layer.prototype._validateAdd = function (child) {\n    var type = child.getType();\n\n    if (type !== 'Group' && type !== 'Shape') {\n      Util_1.Util.throw('You may only add groups and shapes to a layer.');\n    }\n  };\n\n  Layer.prototype._toKonvaCanvas = function (config) {\n    config = config || {};\n    config.width = config.width || this.getWidth();\n    config.height = config.height || this.getHeight();\n    config.x = config.x !== undefined ? config.x : this.x();\n    config.y = config.y !== undefined ? config.y : this.y();\n    return Node_1.Node.prototype._toKonvaCanvas.call(this, config);\n  };\n\n  Layer.prototype._checkVisibility = function () {\n    var visible = this.visible();\n\n    if (visible) {\n      this.canvas._canvas.style.display = 'block';\n    } else {\n      this.canvas._canvas.style.display = 'none';\n    }\n  };\n\n  Layer.prototype._setSmoothEnabled = function () {\n    this.getContext()._context.imageSmoothingEnabled = this.imageSmoothingEnabled();\n  };\n\n  Layer.prototype.getWidth = function () {\n    if (this.parent) {\n      return this.parent.width();\n    }\n  };\n\n  Layer.prototype.setWidth = function () {\n    Util_1.Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n  };\n\n  Layer.prototype.getHeight = function () {\n    if (this.parent) {\n      return this.parent.height();\n    }\n  };\n\n  Layer.prototype.setHeight = function () {\n    Util_1.Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n  };\n\n  Layer.prototype.batchDraw = function () {\n    var _this = this;\n\n    if (!this._waitingForDraw) {\n      this._waitingForDraw = true;\n      Util_1.Util.requestAnimFrame(function () {\n        _this.draw();\n\n        _this._waitingForDraw = false;\n      });\n    }\n\n    return this;\n  };\n\n  Layer.prototype.getIntersection = function (pos, selector) {\n    var obj, i, intersectionOffset, shape;\n\n    if (!this.isListening() || !this.isVisible()) {\n      return null;\n    }\n\n    var spiralSearchDistance = 1;\n    var continueSearch = false;\n\n    while (true) {\n      for (i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n        intersectionOffset = INTERSECTION_OFFSETS[i];\n        obj = this._getIntersection({\n          x: pos.x + intersectionOffset.x * spiralSearchDistance,\n          y: pos.y + intersectionOffset.y * spiralSearchDistance\n        });\n        shape = obj.shape;\n\n        if (shape && selector) {\n          return shape.findAncestor(selector, true);\n        } else if (shape) {\n          return shape;\n        }\n\n        continueSearch = !!obj.antialiased;\n\n        if (!obj.antialiased) {\n          break;\n        }\n      }\n\n      if (continueSearch) {\n        spiralSearchDistance += 1;\n      } else {\n        return null;\n      }\n    }\n  };\n\n  Layer.prototype._getIntersection = function (pos) {\n    var ratio = this.hitCanvas.pixelRatio;\n    var p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data,\n        p3 = p[3],\n        colorKey,\n        shape;\n\n    if (p3 === 255) {\n      colorKey = Util_1.Util._rgbToHex(p[0], p[1], p[2]);\n      shape = Shape_1.shapes[HASH + colorKey];\n\n      if (shape) {\n        return {\n          shape: shape\n        };\n      }\n\n      return {\n        antialiased: true\n      };\n    } else if (p3 > 0) {\n      return {\n        antialiased: true\n      };\n    }\n\n    return {};\n  };\n\n  Layer.prototype.drawScene = function (can, top) {\n    var layer = this.getLayer(),\n        canvas = can || layer && layer.getCanvas();\n\n    this._fire(BEFORE_DRAW, {\n      node: this\n    });\n\n    if (this.clearBeforeDraw()) {\n      canvas.getContext().clear();\n    }\n\n    Container_1.Container.prototype.drawScene.call(this, canvas, top);\n\n    this._fire(DRAW, {\n      node: this\n    });\n\n    return this;\n  };\n\n  Layer.prototype.drawHit = function (can, top) {\n    var layer = this.getLayer(),\n        canvas = can || layer && layer.hitCanvas;\n\n    if (layer && layer.clearBeforeDraw()) {\n      layer.getHitCanvas().getContext().clear();\n    }\n\n    Container_1.Container.prototype.drawHit.call(this, canvas, top);\n    return this;\n  };\n\n  Layer.prototype.enableHitGraph = function () {\n    this.hitGraphEnabled(true);\n    return this;\n  };\n\n  Layer.prototype.disableHitGraph = function () {\n    this.hitGraphEnabled(false);\n    return this;\n  };\n\n  Layer.prototype.setHitGraphEnabled = function (val) {\n    Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n    this.listening(val);\n  };\n\n  Layer.prototype.getHitGraphEnabled = function (val) {\n    Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n    return this.listening();\n  };\n\n  Layer.prototype.toggleHitCanvas = function () {\n    if (!this.parent) {\n      return;\n    }\n\n    var parent = this.parent;\n    var added = !!this.hitCanvas._canvas.parentNode;\n\n    if (added) {\n      parent.content.removeChild(this.hitCanvas._canvas);\n    } else {\n      parent.content.appendChild(this.hitCanvas._canvas);\n    }\n  };\n\n  return Layer;\n}(Container_1.Container);\n\nexports.Layer = Layer;\nLayer.prototype.nodeType = 'Layer';\n\nGlobal_1._registerNode(Layer);\n\nFactory_1.Factory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory_1.Factory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory_1.Factory.addGetterSetter(Layer, 'hitGraphEnabled', true, Validators_1.getBooleanValidator());\nUtil_1.Collection.mapMethods(Layer);","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nexports.Threshold = function (imageData) {\n  var level = this.threshold() * 255,\n      data = imageData.data,\n      len = data.length,\n      i;\n\n  for (i = 0; i < len; i += 1) {\n    data[i] = data[i] < level ? 0 : 255;\n  }\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'threshold', 0.5, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","\"use strict\";\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undoable;\n\nvar debug = _interopRequireWildcard(require(\"./debug\"));\n\nvar _actions = require(\"./actions\");\n\nvar _helpers = require(\"./helpers\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction createHistory(state, ignoreInitialState) {\n  // ignoreInitialState essentially prevents the user from undoing to the\n  // beginning, in the case that the undoable reducer handles initialization\n  // in a way that can't be redone simply\n  var history = (0, _helpers.newHistory)([], state, []);\n\n  if (ignoreInitialState) {\n    history._latestUnfiltered = null;\n  }\n\n  return history;\n} // insert: insert `state` into history, which means adding the current state\n//         into `past`, setting the new `state` as `present` and erasing\n//         the `future`.\n\n\nfunction insert(history, state, limit, group) {\n  var lengthWithoutFuture = history.past.length + 1;\n  debug.log('inserting', state);\n  debug.log('new free: ', limit - lengthWithoutFuture);\n  var past = history.past,\n      _latestUnfiltered = history._latestUnfiltered;\n  var isHistoryOverflow = limit && limit <= lengthWithoutFuture;\n  var pastSliced = past.slice(isHistoryOverflow ? 1 : 0);\n  var newPast = _latestUnfiltered != null ? [].concat(_toConsumableArray(pastSliced), [_latestUnfiltered]) : pastSliced;\n  return (0, _helpers.newHistory)(newPast, state, [], group);\n} // jumpToFuture: jump to requested index in future history\n\n\nfunction jumpToFuture(history, index) {\n  if (index < 0 || index >= history.future.length) return history;\n  var past = history.past,\n      future = history.future,\n      _latestUnfiltered = history._latestUnfiltered;\n  var newPast = [].concat(_toConsumableArray(past), [_latestUnfiltered], _toConsumableArray(future.slice(0, index)));\n  var newPresent = future[index];\n  var newFuture = future.slice(index + 1);\n  return (0, _helpers.newHistory)(newPast, newPresent, newFuture);\n} // jumpToPast: jump to requested index in past history\n\n\nfunction jumpToPast(history, index) {\n  if (index < 0 || index >= history.past.length) return history;\n  var past = history.past,\n      future = history.future,\n      _latestUnfiltered = history._latestUnfiltered;\n  var newPast = past.slice(0, index);\n  var newFuture = [].concat(_toConsumableArray(past.slice(index + 1)), [_latestUnfiltered], _toConsumableArray(future));\n  var newPresent = past[index];\n  return (0, _helpers.newHistory)(newPast, newPresent, newFuture);\n} // jump: jump n steps in the past or forward\n\n\nfunction jump(history, n) {\n  if (n > 0) return jumpToFuture(history, n - 1);\n  if (n < 0) return jumpToPast(history, history.past.length + n);\n  return history;\n} // helper to dynamically match in the reducer's switch-case\n\n\nfunction actionTypeAmongClearHistoryType(actionType, clearHistoryType) {\n  return clearHistoryType.indexOf(actionType) > -1 ? actionType : !actionType;\n} // redux-undo higher order reducer\n\n\nfunction undoable(reducer) {\n  var rawConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  debug.set(rawConfig.debug);\n\n  var config = _objectSpread({\n    limit: undefined,\n    filter: function filter() {\n      return true;\n    },\n    groupBy: function groupBy() {\n      return null;\n    },\n    undoType: _actions.ActionTypes.UNDO,\n    redoType: _actions.ActionTypes.REDO,\n    jumpToPastType: _actions.ActionTypes.JUMP_TO_PAST,\n    jumpToFutureType: _actions.ActionTypes.JUMP_TO_FUTURE,\n    jumpType: _actions.ActionTypes.JUMP,\n    neverSkipReducer: false,\n    ignoreInitialState: false,\n    syncFilter: false\n  }, rawConfig, {\n    initTypes: (0, _helpers.parseActions)(rawConfig.initTypes, ['@@redux-undo/INIT']),\n    clearHistoryType: (0, _helpers.parseActions)(rawConfig.clearHistoryType, [_actions.ActionTypes.CLEAR_HISTORY])\n  }); // Allows the user to call the reducer with redux-undo specific actions\n\n\n  var skipReducer = config.neverSkipReducer ? function (res, action) {\n    for (var _len = arguments.length, slices = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      slices[_key - 2] = arguments[_key];\n    }\n\n    return _objectSpread({}, res, {\n      present: reducer.apply(void 0, [res.present, action].concat(slices))\n    });\n  } : function (res) {\n    return res;\n  };\n  var initialState;\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    debug.start(action, state);\n    var history = state;\n\n    for (var _len2 = arguments.length, slices = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      slices[_key2 - 2] = arguments[_key2];\n    }\n\n    if (!initialState) {\n      debug.log('history is uninitialized');\n\n      if (state === undefined) {\n        var createHistoryAction = {\n          type: '@@redux-undo/CREATE_HISTORY'\n        };\n        var start = reducer.apply(void 0, [state, createHistoryAction].concat(slices));\n        history = createHistory(start, config.ignoreInitialState);\n        debug.log('do not set initialState on probe actions');\n        debug.end(history);\n        return history;\n      } else if ((0, _helpers.isHistory)(state)) {\n        history = initialState = config.ignoreInitialState ? state : (0, _helpers.newHistory)(state.past, state.present, state.future);\n        debug.log('initialHistory initialized: initialState is a history', initialState);\n      } else {\n        history = initialState = createHistory(state, config.ignoreInitialState);\n        debug.log('initialHistory initialized: initialState is not a history', initialState);\n      }\n    }\n\n    var res;\n\n    switch (action.type) {\n      case undefined:\n        return history;\n\n      case config.undoType:\n        res = jump(history, -1);\n        debug.log('perform undo');\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case config.redoType:\n        res = jump(history, 1);\n        debug.log('perform redo');\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case config.jumpToPastType:\n        res = jumpToPast(history, action.index);\n        debug.log(\"perform jumpToPast to \".concat(action.index));\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case config.jumpToFutureType:\n        res = jumpToFuture(history, action.index);\n        debug.log(\"perform jumpToFuture to \".concat(action.index));\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case config.jumpType:\n        res = jump(history, action.index);\n        debug.log(\"perform jump to \".concat(action.index));\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      case actionTypeAmongClearHistoryType(action.type, config.clearHistoryType):\n        res = createHistory(history.present, config.ignoreInitialState);\n        debug.log('perform clearHistory');\n        debug.end(res);\n        return skipReducer.apply(void 0, [res, action].concat(slices));\n\n      default:\n        res = reducer.apply(void 0, [history.present, action].concat(slices));\n\n        if (config.initTypes.some(function (actionType) {\n          return actionType === action.type;\n        })) {\n          debug.log('reset history due to init action');\n          debug.end(initialState);\n          return initialState;\n        }\n\n        if (history._latestUnfiltered === res) {\n          // Don't handle this action. Do not call debug.end here,\n          // because this action should not produce side effects to the console\n          return history;\n        }\n        /* eslint-disable-next-line no-case-declarations */\n\n\n        var filtered = typeof config.filter === 'function' && !config.filter(action, res, history);\n\n        if (filtered) {\n          // if filtering an action, merely update the present\n          var filteredState = (0, _helpers.newHistory)(history.past, res, history.future, history.group);\n\n          if (!config.syncFilter) {\n            filteredState._latestUnfiltered = history._latestUnfiltered;\n          }\n\n          debug.log('filter ignored action, not storing it in past');\n          debug.end(filteredState);\n          return filteredState;\n        }\n        /* eslint-disable-next-line no-case-declarations */\n\n\n        var group = config.groupBy(action, res, history);\n\n        if (group != null && group === history.group) {\n          // if grouping with the previous action, only update the present\n          var groupedState = (0, _helpers.newHistory)(history.past, res, history.future, history.group);\n          debug.log('groupBy grouped the action with the previous action');\n          debug.end(groupedState);\n          return groupedState;\n        } // If the action wasn't filtered or grouped, insert normally\n\n\n        history = insert(history, res, config.limit, group);\n        debug.log('inserted new state into history');\n        debug.end(history);\n        return history;\n    }\n  };\n}","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Line_1 = require(\"./Line\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Arrow = function (_super) {\n  __extends(Arrow, _super);\n\n  function Arrow() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Arrow.prototype._sceneFunc = function (ctx) {\n    _super.prototype._sceneFunc.call(this, ctx);\n\n    var PI2 = Math.PI * 2;\n    var points = this.points();\n    var tp = points;\n    var fromTension = this.tension() !== 0 && points.length > 4;\n\n    if (fromTension) {\n      tp = this.getTensionPoints();\n    }\n\n    var n = points.length;\n    var dx, dy;\n\n    if (fromTension) {\n      dx = points[n - 2] - (tp[tp.length - 2] + tp[tp.length - 4]) / 2;\n      dy = points[n - 1] - (tp[tp.length - 1] + tp[tp.length - 3]) / 2;\n    } else {\n      dx = points[n - 2] - points[n - 4];\n      dy = points[n - 1] - points[n - 3];\n    }\n\n    var radians = (Math.atan2(dy, dx) + PI2) % PI2;\n    var length = this.pointerLength();\n    var width = this.pointerWidth();\n    ctx.save();\n    ctx.beginPath();\n    ctx.translate(points[n - 2], points[n - 1]);\n    ctx.rotate(radians);\n    ctx.moveTo(0, 0);\n    ctx.lineTo(-length, width / 2);\n    ctx.lineTo(-length, -width / 2);\n    ctx.closePath();\n    ctx.restore();\n\n    if (this.pointerAtBeginning()) {\n      ctx.save();\n      ctx.translate(points[0], points[1]);\n\n      if (fromTension) {\n        dx = (tp[0] + tp[2]) / 2 - points[0];\n        dy = (tp[1] + tp[3]) / 2 - points[1];\n      } else {\n        dx = points[2] - points[0];\n        dy = points[3] - points[1];\n      }\n\n      ctx.rotate((Math.atan2(-dy, -dx) + PI2) % PI2);\n      ctx.moveTo(0, 0);\n      ctx.lineTo(-length, width / 2);\n      ctx.lineTo(-length, -width / 2);\n      ctx.closePath();\n      ctx.restore();\n    }\n\n    var isDashEnabled = this.dashEnabled();\n\n    if (isDashEnabled) {\n      this.attrs.dashEnabled = false;\n      ctx.setLineDash([]);\n    }\n\n    ctx.fillStrokeShape(this);\n\n    if (isDashEnabled) {\n      this.attrs.dashEnabled = true;\n    }\n  };\n\n  Arrow.prototype.getSelfRect = function () {\n    var lineRect = _super.prototype.getSelfRect.call(this);\n\n    var offset = this.pointerWidth() / 2;\n    return {\n      x: lineRect.x - offset,\n      y: lineRect.y - offset,\n      width: lineRect.width + offset * 2,\n      height: lineRect.height + offset * 2\n    };\n  };\n\n  return Arrow;\n}(Line_1.Line);\n\nexports.Arrow = Arrow;\nArrow.prototype.className = 'Arrow';\n\nGlobal_1._registerNode(Arrow);\n\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerLength', 10, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerWidth', 10, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Arrow, 'pointerAtBeginning', false);\nUtil_1.Collection.mapMethods(Arrow);","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Util_1 = require(\"../Util\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar ToPolar = function ToPolar(src, dst, opt) {\n  var srcPixels = src.data,\n      dstPixels = dst.data,\n      xSize = src.width,\n      ySize = src.height,\n      xMid = opt.polarCenterX || xSize / 2,\n      yMid = opt.polarCenterY || ySize / 2,\n      i,\n      x,\n      y,\n      r = 0,\n      g = 0,\n      b = 0,\n      a = 0;\n  var rad,\n      rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n  x = xSize - xMid;\n  y = ySize - yMid;\n  rad = Math.sqrt(x * x + y * y);\n  rMax = rad > rMax ? rad : rMax;\n  var rSize = ySize,\n      tSize = xSize,\n      radius,\n      theta;\n  var conversion = 360 / tSize * Math.PI / 180,\n      sin,\n      cos;\n\n  for (theta = 0; theta < tSize; theta += 1) {\n    sin = Math.sin(theta * conversion);\n    cos = Math.cos(theta * conversion);\n\n    for (radius = 0; radius < rSize; radius += 1) {\n      x = Math.floor(xMid + rMax * radius / rSize * cos);\n      y = Math.floor(yMid + rMax * radius / rSize * sin);\n      i = (y * xSize + x) * 4;\n      r = srcPixels[i + 0];\n      g = srcPixels[i + 1];\n      b = srcPixels[i + 2];\n      a = srcPixels[i + 3];\n      i = (theta + radius * xSize) * 4;\n      dstPixels[i + 0] = r;\n      dstPixels[i + 1] = g;\n      dstPixels[i + 2] = b;\n      dstPixels[i + 3] = a;\n    }\n  }\n};\n\nvar FromPolar = function FromPolar(src, dst, opt) {\n  var srcPixels = src.data,\n      dstPixels = dst.data,\n      xSize = src.width,\n      ySize = src.height,\n      xMid = opt.polarCenterX || xSize / 2,\n      yMid = opt.polarCenterY || ySize / 2,\n      i,\n      x,\n      y,\n      dx,\n      dy,\n      r = 0,\n      g = 0,\n      b = 0,\n      a = 0;\n  var rad,\n      rMax = Math.sqrt(xMid * xMid + yMid * yMid);\n  x = xSize - xMid;\n  y = ySize - yMid;\n  rad = Math.sqrt(x * x + y * y);\n  rMax = rad > rMax ? rad : rMax;\n  var rSize = ySize,\n      tSize = xSize,\n      radius,\n      theta,\n      phaseShift = opt.polarRotation || 0;\n  var x1, y1;\n\n  for (x = 0; x < xSize; x += 1) {\n    for (y = 0; y < ySize; y += 1) {\n      dx = x - xMid;\n      dy = y - yMid;\n      radius = Math.sqrt(dx * dx + dy * dy) * rSize / rMax;\n      theta = (Math.atan2(dy, dx) * 180 / Math.PI + 360 + phaseShift) % 360;\n      theta = theta * tSize / 360;\n      x1 = Math.floor(theta);\n      y1 = Math.floor(radius);\n      i = (y1 * xSize + x1) * 4;\n      r = srcPixels[i + 0];\n      g = srcPixels[i + 1];\n      b = srcPixels[i + 2];\n      a = srcPixels[i + 3];\n      i = (y * xSize + x) * 4;\n      dstPixels[i + 0] = r;\n      dstPixels[i + 1] = g;\n      dstPixels[i + 2] = b;\n      dstPixels[i + 3] = a;\n    }\n  }\n};\n\nexports.Kaleidoscope = function (imageData) {\n  var xSize = imageData.width,\n      ySize = imageData.height;\n  var x, y, xoff, i, r, g, b, a, srcPos, dstPos;\n  var power = Math.round(this.kaleidoscopePower());\n  var angle = Math.round(this.kaleidoscopeAngle());\n  var offset = Math.floor(xSize * (angle % 360) / 360);\n\n  if (power < 1) {\n    return;\n  }\n\n  var tempCanvas = Util_1.Util.createCanvasElement();\n  tempCanvas.width = xSize;\n  tempCanvas.height = ySize;\n  var scratchData = tempCanvas.getContext('2d').getImageData(0, 0, xSize, ySize);\n  ToPolar(imageData, scratchData, {\n    polarCenterX: xSize / 2,\n    polarCenterY: ySize / 2\n  });\n  var minSectionSize = xSize / Math.pow(2, power);\n\n  while (minSectionSize <= 8) {\n    minSectionSize = minSectionSize * 2;\n    power -= 1;\n  }\n\n  minSectionSize = Math.ceil(minSectionSize);\n  var sectionSize = minSectionSize;\n  var xStart = 0,\n      xEnd = sectionSize,\n      xDelta = 1;\n\n  if (offset + minSectionSize > xSize) {\n    xStart = sectionSize;\n    xEnd = 0;\n    xDelta = -1;\n  }\n\n  for (y = 0; y < ySize; y += 1) {\n    for (x = xStart; x !== xEnd; x += xDelta) {\n      xoff = Math.round(x + offset) % xSize;\n      srcPos = (xSize * y + xoff) * 4;\n      r = scratchData.data[srcPos + 0];\n      g = scratchData.data[srcPos + 1];\n      b = scratchData.data[srcPos + 2];\n      a = scratchData.data[srcPos + 3];\n      dstPos = (xSize * y + x) * 4;\n      scratchData.data[dstPos + 0] = r;\n      scratchData.data[dstPos + 1] = g;\n      scratchData.data[dstPos + 2] = b;\n      scratchData.data[dstPos + 3] = a;\n    }\n  }\n\n  for (y = 0; y < ySize; y += 1) {\n    sectionSize = Math.floor(minSectionSize);\n\n    for (i = 0; i < power; i += 1) {\n      for (x = 0; x < sectionSize + 1; x += 1) {\n        srcPos = (xSize * y + x) * 4;\n        r = scratchData.data[srcPos + 0];\n        g = scratchData.data[srcPos + 1];\n        b = scratchData.data[srcPos + 2];\n        a = scratchData.data[srcPos + 3];\n        dstPos = (xSize * y + sectionSize * 2 - x - 1) * 4;\n        scratchData.data[dstPos + 0] = r;\n        scratchData.data[dstPos + 1] = g;\n        scratchData.data[dstPos + 2] = b;\n        scratchData.data[dstPos + 3] = a;\n      }\n\n      sectionSize *= 2;\n    }\n  }\n\n  FromPolar(scratchData, imageData, {\n    polarRotation: 0\n  });\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'kaleidoscopePower', 2, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'kaleidoscopeAngle', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.set = set;\nexports.start = start;\nexports.end = end;\nexports.log = log;\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nvar __DEBUG__;\n\nvar displayBuffer;\nvar colors = {\n  prevState: '#9E9E9E',\n  action: '#03A9F4',\n  nextState: '#4CAF50'\n};\n/* istanbul ignore next: debug messaging is not tested */\n\nfunction initBuffer() {\n  displayBuffer = {\n    header: [],\n    prev: [],\n    action: [],\n    next: [],\n    msgs: []\n  };\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction printBuffer() {\n  var _displayBuffer = displayBuffer,\n      header = _displayBuffer.header,\n      prev = _displayBuffer.prev,\n      next = _displayBuffer.next,\n      action = _displayBuffer.action,\n      msgs = _displayBuffer.msgs;\n\n  if (console.group) {\n    var _console, _console2, _console3, _console4, _console5;\n\n    (_console = console).groupCollapsed.apply(_console, _toConsumableArray(header));\n\n    (_console2 = console).log.apply(_console2, _toConsumableArray(prev));\n\n    (_console3 = console).log.apply(_console3, _toConsumableArray(action));\n\n    (_console4 = console).log.apply(_console4, _toConsumableArray(next));\n\n    (_console5 = console).log.apply(_console5, _toConsumableArray(msgs));\n\n    console.groupEnd();\n  } else {\n    var _console6, _console7, _console8, _console9, _console10;\n\n    (_console6 = console).log.apply(_console6, _toConsumableArray(header));\n\n    (_console7 = console).log.apply(_console7, _toConsumableArray(prev));\n\n    (_console8 = console).log.apply(_console8, _toConsumableArray(action));\n\n    (_console9 = console).log.apply(_console9, _toConsumableArray(next));\n\n    (_console10 = console).log.apply(_console10, _toConsumableArray(msgs));\n  }\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction colorFormat(text, color, obj) {\n  return [\"%c\".concat(text), \"color: \".concat(color, \"; font-weight: bold\"), obj];\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction start(action, state) {\n  initBuffer();\n\n  if (__DEBUG__) {\n    if (console.group) {\n      displayBuffer.header = ['%credux-undo', 'font-style: italic', 'action', action.type];\n      displayBuffer.action = colorFormat('action', colors.action, action);\n      displayBuffer.prev = colorFormat('prev history', colors.prevState, state);\n    } else {\n      displayBuffer.header = ['redux-undo action', action.type];\n      displayBuffer.action = ['action', action];\n      displayBuffer.prev = ['prev history', state];\n    }\n  }\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction end(nextState) {\n  if (__DEBUG__) {\n    if (console.group) {\n      displayBuffer.next = colorFormat('next history', colors.nextState, nextState);\n    } else {\n      displayBuffer.next = ['next history', nextState];\n    }\n\n    printBuffer();\n  }\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction log() {\n  if (__DEBUG__) {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    displayBuffer.msgs = displayBuffer.msgs.concat([].concat(args, ['\\n']));\n  }\n}\n/* istanbul ignore next: debug messaging is not tested */\n\n\nfunction set(debug) {\n  __DEBUG__ = debug;\n}","'use strict';\nvar $ = require('../internals/export');\nvar $trimEnd = require('../internals/string-trim').end;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\nvar FORCED = forcedStringTrimMethod('trimEnd');\n\nvar trimEnd = FORCED ? function trimEnd() {\n  return $trimEnd(this);\n} : ''.trimEnd;\n\n// `String.prototype.{ trimEnd, trimRight }` methods\n// https://github.com/tc39/ecmascript-string-left-right-trim\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimEnd: trimEnd,\n  trimRight: trimEnd\n});\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Circle = function (_super) {\n  __extends(Circle, _super);\n\n  function Circle() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Circle.prototype._sceneFunc = function (context) {\n    context.beginPath();\n    context.arc(0, 0, this.attrs.radius || 0, 0, Math.PI * 2, false);\n    context.closePath();\n    context.fillStrokeShape(this);\n  };\n\n  Circle.prototype.getWidth = function () {\n    return this.radius() * 2;\n  };\n\n  Circle.prototype.getHeight = function () {\n    return this.radius() * 2;\n  };\n\n  Circle.prototype.setWidth = function (width) {\n    if (this.radius() !== width / 2) {\n      this.radius(width / 2);\n    }\n  };\n\n  Circle.prototype.setHeight = function (height) {\n    if (this.radius() !== height / 2) {\n      this.radius(height / 2);\n    }\n  };\n\n  return Circle;\n}(Shape_1.Shape);\n\nexports.Circle = Circle;\nCircle.prototype._centroid = true;\nCircle.prototype.className = 'Circle';\nCircle.prototype._attrsAffectingSize = ['radius'];\n\nGlobal_1._registerNode(Circle);\n\nFactory_1.Factory.addGetterSetter(Circle, 'radius', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(Circle);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nexports.Posterize = function (imageData) {\n  var levels = Math.round(this.levels() * 254) + 1,\n      data = imageData.data,\n      len = data.length,\n      scale = 255 / levels,\n      i;\n\n  for (i = 0; i < len; i += 1) {\n    data[i] = Math.floor(data[i] / scale) * scale;\n  }\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'levels', 0.5, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Image = function (_super) {\n  __extends(Image, _super);\n\n  function Image() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Image.prototype._useBufferCanvas = function () {\n    return _super.prototype._useBufferCanvas.call(this, true);\n  };\n\n  Image.prototype._sceneFunc = function (context) {\n    var width = this.getWidth(),\n        height = this.getHeight(),\n        image = this.attrs.image,\n        cropWidth,\n        cropHeight,\n        params;\n\n    if (image) {\n      cropWidth = this.attrs.cropWidth;\n      cropHeight = this.attrs.cropHeight;\n\n      if (cropWidth && cropHeight) {\n        params = [image, this.cropX(), this.cropY(), cropWidth, cropHeight, 0, 0, width, height];\n      } else {\n        params = [image, 0, 0, width, height];\n      }\n    }\n\n    if (this.hasFill() || this.hasStroke()) {\n      context.beginPath();\n      context.rect(0, 0, width, height);\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n\n    if (image) {\n      context.drawImage.apply(context, params);\n    }\n  };\n\n  Image.prototype._hitFunc = function (context) {\n    var width = this.width(),\n        height = this.height();\n    context.beginPath();\n    context.rect(0, 0, width, height);\n    context.closePath();\n    context.fillStrokeShape(this);\n  };\n\n  Image.prototype.getWidth = function () {\n    var _a, _b;\n\n    return (_a = this.attrs.width) !== null && _a !== void 0 ? _a : ((_b = this.image()) === null || _b === void 0 ? void 0 : _b.width) || 0;\n  };\n\n  Image.prototype.getHeight = function () {\n    var _a, _b;\n\n    return (_a = this.attrs.height) !== null && _a !== void 0 ? _a : ((_b = this.image()) === null || _b === void 0 ? void 0 : _b.height) || 0;\n  };\n\n  Image.fromURL = function (url, callback) {\n    var img = Util_1.Util.createImageElement();\n\n    img.onload = function () {\n      var image = new Image({\n        image: img\n      });\n      callback(image);\n    };\n\n    img.crossOrigin = 'Anonymous';\n    img.src = url;\n  };\n\n  return Image;\n}(Shape_1.Shape);\n\nexports.Image = Image;\nImage.prototype.className = 'Image';\n\nGlobal_1._registerNode(Image);\n\nFactory_1.Factory.addGetterSetter(Image, 'image');\nFactory_1.Factory.addComponentsGetterSetter(Image, 'crop', ['x', 'y', 'width', 'height']);\nFactory_1.Factory.addGetterSetter(Image, 'cropX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Image, 'cropY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Image, 'cropWidth', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Image, 'cropHeight', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(Image);","import React from 'react'\nimport { Link } from 'gatsby'\nimport { useTranslation } from 'react-i18next'\nimport path from 'path-browserify'\nimport { languages } from 'i18n/languages'\n\ninterface ILocalizedLinkProps {\n    to: string\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [key: string]: any\n}\n\nexport const LocalizedLink: React.FC<ILocalizedLinkProps> = ({\n    to,\n    ...props\n}) => {\n    const { i18n } = useTranslation()\n    const { isDefault, pathPrefix } = languages[i18n.language]\n    const pathIsDefault = path.join('/', to, '/')\n    const pathNotDefault = path.join('/', pathPrefix, to, '/')\n    const pathTo = isDefault ? pathIsDefault : pathNotDefault\n    return <Link {...props} to={pathTo} />\n}\nexport const LocalizedLinkAnchor: React.FC<ILocalizedLinkProps> = ({\n    to,\n    ...props\n}) => {\n    const { i18n } = useTranslation()\n    const { isDefault, pathPrefix } = languages[i18n.language]\n    const pathIsDefault = path.join('/', to)\n    const pathNotDefault = path.join('/', pathPrefix, to)\n    const pathTo = isDefault ? pathIsDefault : pathNotDefault\n    return <Link {...props} to={pathTo} />\n}\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_1 = require(\"../Global\");\n\nvar RegularPolygon = function (_super) {\n  __extends(RegularPolygon, _super);\n\n  function RegularPolygon() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RegularPolygon.prototype._sceneFunc = function (context) {\n    var sides = this.sides(),\n        radius = this.radius(),\n        n,\n        x,\n        y;\n    context.beginPath();\n    context.moveTo(0, 0 - radius);\n\n    for (n = 1; n < sides; n++) {\n      x = radius * Math.sin(n * 2 * Math.PI / sides);\n      y = -1 * radius * Math.cos(n * 2 * Math.PI / sides);\n      context.lineTo(x, y);\n    }\n\n    context.closePath();\n    context.fillStrokeShape(this);\n  };\n\n  RegularPolygon.prototype.getWidth = function () {\n    return this.radius() * 2;\n  };\n\n  RegularPolygon.prototype.getHeight = function () {\n    return this.radius() * 2;\n  };\n\n  RegularPolygon.prototype.setWidth = function (width) {\n    this.radius(width / 2);\n  };\n\n  RegularPolygon.prototype.setHeight = function (height) {\n    this.radius(height / 2);\n  };\n\n  return RegularPolygon;\n}(Shape_1.Shape);\n\nexports.RegularPolygon = RegularPolygon;\nRegularPolygon.prototype.className = 'RegularPolygon';\nRegularPolygon.prototype._centroid = true;\nRegularPolygon.prototype._attrsAffectingSize = ['radius'];\n\nGlobal_1._registerNode(RegularPolygon);\n\nFactory_1.Factory.addGetterSetter(RegularPolygon, 'radius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(RegularPolygon, 'sides', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(RegularPolygon);","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Path_1 = require(\"./Path\");\n\nvar Text_1 = require(\"./Text\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_1 = require(\"../Global\");\n\nvar EMPTY_STRING = '',\n    NORMAL = 'normal';\n\nfunction _fillFunc(context) {\n  context.fillText(this.partialText, 0, 0);\n}\n\nfunction _strokeFunc(context) {\n  context.strokeText(this.partialText, 0, 0);\n}\n\nvar TextPath = function (_super) {\n  __extends(TextPath, _super);\n\n  function TextPath(config) {\n    var _this = _super.call(this, config) || this;\n\n    _this.dummyCanvas = Util_1.Util.createCanvasElement();\n    _this.dataArray = [];\n    _this.dataArray = Path_1.Path.parsePathData(_this.attrs.data);\n\n    _this.on('dataChange.konva', function () {\n      this.dataArray = Path_1.Path.parsePathData(this.attrs.data);\n\n      this._setTextData();\n    });\n\n    _this.on('textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva', _this._setTextData);\n\n    if (config && config['getKerning']) {\n      Util_1.Util.warn('getKerning TextPath API is deprecated. Please use \"kerningFunc\" instead.');\n\n      _this.kerningFunc(config['getKerning']);\n    }\n\n    _this._setTextData();\n\n    return _this;\n  }\n\n  TextPath.prototype._sceneFunc = function (context) {\n    context.setAttr('font', this._getContextFont());\n    context.setAttr('textBaseline', this.textBaseline());\n    context.setAttr('textAlign', 'left');\n    context.save();\n    var textDecoration = this.textDecoration();\n    var fill = this.fill();\n    var fontSize = this.fontSize();\n    var glyphInfo = this.glyphInfo;\n\n    if (textDecoration === 'underline') {\n      context.beginPath();\n    }\n\n    for (var i = 0; i < glyphInfo.length; i++) {\n      context.save();\n      var p0 = glyphInfo[i].p0;\n      context.translate(p0.x, p0.y);\n      context.rotate(glyphInfo[i].rotation);\n      this.partialText = glyphInfo[i].text;\n      context.fillStrokeShape(this);\n\n      if (textDecoration === 'underline') {\n        if (i === 0) {\n          context.moveTo(0, fontSize / 2 + 1);\n        }\n\n        context.lineTo(fontSize, fontSize / 2 + 1);\n      }\n\n      context.restore();\n    }\n\n    if (textDecoration === 'underline') {\n      context.strokeStyle = fill;\n      context.lineWidth = fontSize / 20;\n      context.stroke();\n    }\n\n    context.restore();\n  };\n\n  TextPath.prototype._hitFunc = function (context) {\n    context.beginPath();\n    var glyphInfo = this.glyphInfo;\n\n    if (glyphInfo.length >= 1) {\n      var p0 = glyphInfo[0].p0;\n      context.moveTo(p0.x, p0.y);\n    }\n\n    for (var i = 0; i < glyphInfo.length; i++) {\n      var p1 = glyphInfo[i].p1;\n      context.lineTo(p1.x, p1.y);\n    }\n\n    context.setAttr('lineWidth', this.fontSize());\n    context.setAttr('strokeStyle', this.colorKey);\n    context.stroke();\n  };\n\n  TextPath.prototype.getTextWidth = function () {\n    return this.textWidth;\n  };\n\n  TextPath.prototype.getTextHeight = function () {\n    Util_1.Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n    return this.textHeight;\n  };\n\n  TextPath.prototype.setText = function (text) {\n    return Text_1.Text.prototype.setText.call(this, text);\n  };\n\n  TextPath.prototype._getContextFont = function () {\n    return Text_1.Text.prototype._getContextFont.call(this);\n  };\n\n  TextPath.prototype._getTextSize = function (text) {\n    var dummyCanvas = this.dummyCanvas;\n\n    var _context = dummyCanvas.getContext('2d');\n\n    _context.save();\n\n    _context.font = this._getContextFont();\n\n    var metrics = _context.measureText(text);\n\n    _context.restore();\n\n    return {\n      width: metrics.width,\n      height: parseInt(this.attrs.fontSize, 10)\n    };\n  };\n\n  TextPath.prototype._setTextData = function () {\n    var that = this;\n\n    var size = this._getTextSize(this.attrs.text);\n\n    var letterSpacing = this.letterSpacing();\n    var align = this.align();\n    var kerningFunc = this.kerningFunc();\n    this.textWidth = size.width;\n    this.textHeight = size.height;\n    var textFullWidth = Math.max(this.textWidth + ((this.attrs.text || '').length - 1) * letterSpacing, 0);\n    this.glyphInfo = [];\n    var fullPathWidth = 0;\n\n    for (var l = 0; l < that.dataArray.length; l++) {\n      if (that.dataArray[l].pathLength > 0) {\n        fullPathWidth += that.dataArray[l].pathLength;\n      }\n    }\n\n    var offset = 0;\n\n    if (align === 'center') {\n      offset = Math.max(0, fullPathWidth / 2 - textFullWidth / 2);\n    }\n\n    if (align === 'right') {\n      offset = Math.max(0, fullPathWidth - textFullWidth);\n    }\n\n    var charArr = Text_1.stringToArray(this.text());\n    var spacesNumber = this.text().split(' ').length - 1;\n    var p0, p1, pathCmd;\n    var pIndex = -1;\n    var currentT = 0;\n\n    var getNextPathSegment = function getNextPathSegment() {\n      currentT = 0;\n      var pathData = that.dataArray;\n\n      for (var j = pIndex + 1; j < pathData.length; j++) {\n        if (pathData[j].pathLength > 0) {\n          pIndex = j;\n          return pathData[j];\n        } else if (pathData[j].command === 'M') {\n          p0 = {\n            x: pathData[j].points[0],\n            y: pathData[j].points[1]\n          };\n        }\n      }\n\n      return {};\n    };\n\n    var findSegmentToFitCharacter = function findSegmentToFitCharacter(c) {\n      var glyphWidth = that._getTextSize(c).width + letterSpacing;\n\n      if (c === ' ' && align === 'justify') {\n        glyphWidth += (fullPathWidth - textFullWidth) / spacesNumber;\n      }\n\n      var currLen = 0;\n      var attempts = 0;\n      p1 = undefined;\n\n      while (Math.abs(glyphWidth - currLen) / glyphWidth > 0.01 && attempts < 25) {\n        attempts++;\n        var cumulativePathLength = currLen;\n\n        while (pathCmd === undefined) {\n          pathCmd = getNextPathSegment();\n\n          if (pathCmd && cumulativePathLength + pathCmd.pathLength < glyphWidth) {\n            cumulativePathLength += pathCmd.pathLength;\n            pathCmd = undefined;\n          }\n        }\n\n        if (pathCmd === {} || p0 === undefined) {\n          return undefined;\n        }\n\n        var needNewSegment = false;\n\n        switch (pathCmd.command) {\n          case 'L':\n            if (Path_1.Path.getLineLength(p0.x, p0.y, pathCmd.points[0], pathCmd.points[1]) > glyphWidth) {\n              p1 = Path_1.Path.getPointOnLine(glyphWidth, p0.x, p0.y, pathCmd.points[0], pathCmd.points[1], p0.x, p0.y);\n            } else {\n              pathCmd = undefined;\n            }\n\n            break;\n\n          case 'A':\n            var start = pathCmd.points[4];\n            var dTheta = pathCmd.points[5];\n            var end = pathCmd.points[4] + dTheta;\n\n            if (currentT === 0) {\n              currentT = start + 0.00000001;\n            } else if (glyphWidth > currLen) {\n              currentT += Math.PI / 180.0 * dTheta / Math.abs(dTheta);\n            } else {\n              currentT -= Math.PI / 360.0 * dTheta / Math.abs(dTheta);\n            }\n\n            if (dTheta < 0 && currentT < end || dTheta >= 0 && currentT > end) {\n              currentT = end;\n              needNewSegment = true;\n            }\n\n            p1 = Path_1.Path.getPointOnEllipticalArc(pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], currentT, pathCmd.points[6]);\n            break;\n\n          case 'C':\n            if (currentT === 0) {\n              if (glyphWidth > pathCmd.pathLength) {\n                currentT = 0.00000001;\n              } else {\n                currentT = glyphWidth / pathCmd.pathLength;\n              }\n            } else if (glyphWidth > currLen) {\n              currentT += (glyphWidth - currLen) / pathCmd.pathLength;\n            } else {\n              currentT -= (currLen - glyphWidth) / pathCmd.pathLength;\n            }\n\n            if (currentT > 1.0) {\n              currentT = 1.0;\n              needNewSegment = true;\n            }\n\n            p1 = Path_1.Path.getPointOnCubicBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], pathCmd.points[4], pathCmd.points[5]);\n            break;\n\n          case 'Q':\n            if (currentT === 0) {\n              currentT = glyphWidth / pathCmd.pathLength;\n            } else if (glyphWidth > currLen) {\n              currentT += (glyphWidth - currLen) / pathCmd.pathLength;\n            } else {\n              currentT -= (currLen - glyphWidth) / pathCmd.pathLength;\n            }\n\n            if (currentT > 1.0) {\n              currentT = 1.0;\n              needNewSegment = true;\n            }\n\n            p1 = Path_1.Path.getPointOnQuadraticBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3]);\n            break;\n        }\n\n        if (p1 !== undefined) {\n          currLen = Path_1.Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n        }\n\n        if (needNewSegment) {\n          needNewSegment = false;\n          pathCmd = undefined;\n        }\n      }\n    };\n\n    var testChar = 'C';\n    var glyphWidth = that._getTextSize(testChar).width + letterSpacing;\n    var lettersInOffset = offset / glyphWidth - 1;\n\n    for (var k = 0; k < lettersInOffset; k++) {\n      findSegmentToFitCharacter(testChar);\n\n      if (p0 === undefined || p1 === undefined) {\n        break;\n      }\n\n      p0 = p1;\n    }\n\n    for (var i = 0; i < charArr.length; i++) {\n      findSegmentToFitCharacter(charArr[i]);\n\n      if (p0 === undefined || p1 === undefined) {\n        break;\n      }\n\n      var width = Path_1.Path.getLineLength(p0.x, p0.y, p1.x, p1.y);\n      var kern = 0;\n\n      if (kerningFunc) {\n        try {\n          kern = kerningFunc(charArr[i - 1], charArr[i]) * this.fontSize();\n        } catch (e) {\n          kern = 0;\n        }\n      }\n\n      p0.x += kern;\n      p1.x += kern;\n      this.textWidth += kern;\n      var midpoint = Path_1.Path.getPointOnLine(kern + width / 2.0, p0.x, p0.y, p1.x, p1.y);\n      var rotation = Math.atan2(p1.y - p0.y, p1.x - p0.x);\n      this.glyphInfo.push({\n        transposeX: midpoint.x,\n        transposeY: midpoint.y,\n        text: charArr[i],\n        rotation: rotation,\n        p0: p0,\n        p1: p1\n      });\n      p0 = p1;\n    }\n  };\n\n  TextPath.prototype.getSelfRect = function () {\n    if (!this.glyphInfo.length) {\n      return {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    var points = [];\n    this.glyphInfo.forEach(function (info) {\n      points.push(info.p0.x);\n      points.push(info.p0.y);\n      points.push(info.p1.x);\n      points.push(info.p1.y);\n    });\n    var minX = points[0] || 0;\n    var maxX = points[0] || 0;\n    var minY = points[1] || 0;\n    var maxY = points[1] || 0;\n    var x, y;\n\n    for (var i = 0; i < points.length / 2; i++) {\n      x = points[i * 2];\n      y = points[i * 2 + 1];\n      minX = Math.min(minX, x);\n      maxX = Math.max(maxX, x);\n      minY = Math.min(minY, y);\n      maxY = Math.max(maxY, y);\n    }\n\n    var fontSize = this.fontSize();\n    return {\n      x: minX - fontSize / 2,\n      y: minY - fontSize / 2,\n      width: maxX - minX + fontSize,\n      height: maxY - minY + fontSize\n    };\n  };\n\n  return TextPath;\n}(Shape_1.Shape);\n\nexports.TextPath = TextPath;\nTextPath.prototype._fillFunc = _fillFunc;\nTextPath.prototype._strokeFunc = _strokeFunc;\nTextPath.prototype._fillFuncHit = _fillFunc;\nTextPath.prototype._strokeFuncHit = _strokeFunc;\nTextPath.prototype.className = 'TextPath';\nTextPath.prototype._attrsAffectingSize = ['text', 'fontSize', 'data'];\n\nGlobal_1._registerNode(TextPath);\n\nFactory_1.Factory.addGetterSetter(TextPath, 'data');\nFactory_1.Factory.addGetterSetter(TextPath, 'fontFamily', 'Arial');\nFactory_1.Factory.addGetterSetter(TextPath, 'fontSize', 12, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(TextPath, 'fontStyle', NORMAL);\nFactory_1.Factory.addGetterSetter(TextPath, 'align', 'left');\nFactory_1.Factory.addGetterSetter(TextPath, 'letterSpacing', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(TextPath, 'textBaseline', 'middle');\nFactory_1.Factory.addGetterSetter(TextPath, 'fontVariant', NORMAL);\nFactory_1.Factory.addGetterSetter(TextPath, 'text', EMPTY_STRING);\nFactory_1.Factory.addGetterSetter(TextPath, 'textDecoration', null);\nFactory_1.Factory.addGetterSetter(TextPath, 'kerningFunc', null);\nUtil_1.Collection.mapMethods(TextPath);","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"./Util\");\n\nvar Layer_1 = require(\"./Layer\");\n\nvar Global_1 = require(\"./Global\");\n\nvar FastLayer = function (_super) {\n  __extends(FastLayer, _super);\n\n  function FastLayer(attrs) {\n    var _this = _super.call(this, attrs) || this;\n\n    _this.listening(false);\n\n    Util_1.Util.warn('Konva.Fast layer is deprecated. Please use \"new Konva.Layer({ listening: false })\" instead.');\n    return _this;\n  }\n\n  return FastLayer;\n}(Layer_1.Layer);\n\nexports.FastLayer = FastLayer;\nFastLayer.prototype.nodeType = 'FastLayer';\n\nGlobal_1._registerNode(FastLayer);\n\nUtil_1.Collection.mapMethods(FastLayer);","Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = isTouchDevice;\n\nfunction isTouchDevice() {\n  return !!(typeof window !== 'undefined' && ('ontouchstart' in window || window.DocumentTouch && typeof document !== 'undefined' && document instanceof window.DocumentTouch)) || !!(typeof navigator !== 'undefined' && (navigator.maxTouchPoints || navigator.msMaxTouchPoints));\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\nexports.didNotFindHydratableTextInstance = exports.didNotFindHydratableInstance = exports.didNotFindHydratableContainerTextInstance = exports.didNotFindHydratableContainerInstance = exports.didNotHydrateInstance = exports.didNotHydrateContainerInstance = exports.didNotMatchHydratedTextInstance = exports.didNotMatchHydratedContainerTextInstance = exports.hydrateTextInstance = exports.hydrateInstance = exports.getFirstHydratableChild = exports.getNextHydratableSibling = exports.canHydrateTextInstance = exports.canHydrateInstance = exports.supportsHydration = undefined;\n\nvar _invariant = require('./invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // Renderers that don't support hydration\n// can re-export everything from this module.\n\n\nfunction shim() {\n  (0, _invariant2.default)(false, 'The current renderer does not support hyration. ' + 'This error is likely caused by a bug in React. ' + 'Please file an issue.');\n} // Hydration (when unsupported)\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n\nvar supportsHydration = exports.supportsHydration = false;\nvar canHydrateInstance = exports.canHydrateInstance = shim;\nvar canHydrateTextInstance = exports.canHydrateTextInstance = shim;\nvar getNextHydratableSibling = exports.getNextHydratableSibling = shim;\nvar getFirstHydratableChild = exports.getFirstHydratableChild = shim;\nvar hydrateInstance = exports.hydrateInstance = shim;\nvar hydrateTextInstance = exports.hydrateTextInstance = shim;\nvar didNotMatchHydratedContainerTextInstance = exports.didNotMatchHydratedContainerTextInstance = shim;\nvar didNotMatchHydratedTextInstance = exports.didNotMatchHydratedTextInstance = shim;\nvar didNotHydrateContainerInstance = exports.didNotHydrateContainerInstance = shim;\nvar didNotHydrateInstance = exports.didNotHydrateInstance = shim;\nvar didNotFindHydratableContainerInstance = exports.didNotFindHydratableContainerInstance = shim;\nvar didNotFindHydratableContainerTextInstance = exports.didNotFindHydratableContainerTextInstance = shim;\nvar didNotFindHydratableInstance = exports.didNotFindHydratableInstance = shim;\nvar didNotFindHydratableTextInstance = exports.didNotFindHydratableTextInstance = shim;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-reconciler.production.min.js');\n} else {\n  module.exports = require('./cjs/react-reconciler.development.js');\n}","var Konva = require('./_FullInternals').Konva;\n\nKonva._injectGlobal(Konva);\n\nexports['default'] = Konva;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Global_1 = require(\"./Global\");\n\nvar Util_1 = require(\"./Util\");\n\nvar Node_1 = require(\"./Node\");\n\nvar Container_1 = require(\"./Container\");\n\nvar Stage_1 = require(\"./Stage\");\n\nvar Layer_1 = require(\"./Layer\");\n\nvar FastLayer_1 = require(\"./FastLayer\");\n\nvar Group_1 = require(\"./Group\");\n\nvar DragAndDrop_1 = require(\"./DragAndDrop\");\n\nvar Shape_1 = require(\"./Shape\");\n\nvar Animation_1 = require(\"./Animation\");\n\nvar Tween_1 = require(\"./Tween\");\n\nvar Context_1 = require(\"./Context\");\n\nvar Canvas_1 = require(\"./Canvas\");\n\nexports.Konva = Util_1.Util._assign(Global_1.Konva, {\n  Collection: Util_1.Collection,\n  Util: Util_1.Util,\n  Transform: Util_1.Transform,\n  Node: Node_1.Node,\n  ids: Node_1.ids,\n  names: Node_1.names,\n  Container: Container_1.Container,\n  Stage: Stage_1.Stage,\n  stages: Stage_1.stages,\n  Layer: Layer_1.Layer,\n  FastLayer: FastLayer_1.FastLayer,\n  Group: Group_1.Group,\n  DD: DragAndDrop_1.DD,\n  Shape: Shape_1.Shape,\n  shapes: Shape_1.shapes,\n  Animation: Animation_1.Animation,\n  Tween: Tween_1.Tween,\n  Easings: Tween_1.Easings,\n  Context: Context_1.Context,\n  Canvas: Canvas_1.Canvas\n});","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Ellipse = function (_super) {\n  __extends(Ellipse, _super);\n\n  function Ellipse() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Ellipse.prototype._sceneFunc = function (context) {\n    var rx = this.radiusX(),\n        ry = this.radiusY();\n    context.beginPath();\n    context.save();\n\n    if (rx !== ry) {\n      context.scale(1, ry / rx);\n    }\n\n    context.arc(0, 0, rx, 0, Math.PI * 2, false);\n    context.restore();\n    context.closePath();\n    context.fillStrokeShape(this);\n  };\n\n  Ellipse.prototype.getWidth = function () {\n    return this.radiusX() * 2;\n  };\n\n  Ellipse.prototype.getHeight = function () {\n    return this.radiusY() * 2;\n  };\n\n  Ellipse.prototype.setWidth = function (width) {\n    this.radiusX(width / 2);\n  };\n\n  Ellipse.prototype.setHeight = function (height) {\n    this.radiusY(height / 2);\n  };\n\n  return Ellipse;\n}(Shape_1.Shape);\n\nexports.Ellipse = Ellipse;\nEllipse.prototype.className = 'Ellipse';\nEllipse.prototype._centroid = true;\nEllipse.prototype._attrsAffectingSize = ['radiusX', 'radiusY'];\n\nGlobal_1._registerNode(Ellipse);\n\nFactory_1.Factory.addComponentsGetterSetter(Ellipse, 'radius', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Ellipse, 'radiusX', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Ellipse, 'radiusY', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(Ellipse);","/**\n * Based on ReactArt.js\n * Copyright (c) 2017-present Lavrenov Anton.\n * All rights reserved.\n *\n * MIT\n */\n'use strict';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar React = require('react');\n\nvar Konva = require('konva/lib/Core');\n\nvar ReactFiberReconciler = require('react-reconciler');\n\nvar ReactDOMComponentTree = require('./ReactDOMComponentTree');\n\nvar HostConfig = require('./ReactKonvaHostConfig');\n\nvar _require = require('./makeUpdates'),\n    applyNodeProps = _require.applyNodeProps,\n    toggleStrictMode = _require.toggleStrictMode; // export for testing\n// const REACT_VERSION = '16.8.3';\n// const __matchRectVersion = React.version === REACT_VERSION;\n// skip version testing for now\n\n\nvar __matchRectVersion = true; // That warning is useful, but I am not sure we really need it\n// if (!__matchRectVersion) {\n//   console.warn(\n//     `Version mismatch detected for react-konva and react. react-konva expects to have react version ${REACT_VERSION}, but it has version ${\n//       React.version\n//     }. Make sure versions are matched, otherwise, react-konva work is not guaranteed. For releases information take a look here: https://github.com/konvajs/react-konva/releases`\n//   );\n// }\n\nvar Stage = function (_React$Component) {\n  _inherits(Stage, _React$Component);\n\n  function Stage() {\n    _classCallCheck(this, Stage);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Stage.prototype.componentDidMount = function componentDidMount() {\n    if (!Konva.isBrowser) {\n      return;\n    }\n\n    this._stage = new Konva.Stage({\n      width: this.props.width,\n      height: this.props.height,\n      container: this._tagRef\n    });\n\n    this._setRef(this._stage);\n\n    applyNodeProps(this._stage, this.props);\n    this._mountNode = KonvaRenderer.createContainer(this._stage);\n    KonvaRenderer.updateContainer(this.props.children, this._mountNode, this);\n  };\n\n  Stage.prototype._setRef = function _setRef(value) {\n    var forwardedRef = this.props.forwardedRef;\n\n    if (!forwardedRef) {\n      return;\n    }\n\n    if (typeof forwardedRef === 'function') {\n      forwardedRef(value);\n    } else {\n      forwardedRef.current = value;\n    }\n  };\n\n  Stage.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (!Konva.isBrowser) {\n      return;\n    }\n\n    this._setRef(this._stage);\n\n    applyNodeProps(this._stage, this.props, prevProps);\n    KonvaRenderer.updateContainer(this.props.children, this._mountNode, this);\n  };\n\n  Stage.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (!Konva.isBrowser) {\n      return;\n    }\n\n    this._setRef(null);\n\n    KonvaRenderer.updateContainer(null, this._mountNode, this);\n\n    this._stage.destroy();\n  };\n\n  Stage.prototype.getStage = function getStage() {\n    return this._stage;\n  };\n\n  Stage.prototype.render = function render() {\n    var _this2 = this;\n\n    var props = this.props;\n    return React.createElement('div', {\n      ref: function ref(_ref) {\n        return _this2._tagRef = _ref;\n      },\n      accessKey: props.accessKey,\n      className: props.className,\n      role: props.role,\n      style: props.style,\n      tabIndex: props.tabIndex,\n      title: props.title\n    });\n  };\n\n  return Stage;\n}(React.Component);\n\nvar KONVA_NODES = ['Layer', 'FastLayer', 'Group', 'Label', 'Rect', 'Circle', 'Ellipse', 'Wedge', 'Line', 'Sprite', 'Image', 'Text', 'TextPath', 'Star', 'Ring', 'Arc', 'Tag', 'Path', 'RegularPolygon', 'Arrow', 'Shape', 'Transformer'];\nvar TYPES = {};\nKONVA_NODES.forEach(function (nodeName) {\n  TYPES[nodeName] = nodeName;\n});\nvar KonvaRenderer = ReactFiberReconciler(HostConfig);\nKonvaRenderer.injectIntoDevTools({\n  findFiberByHostInstance: ReactDOMComponentTree.getClosestInstanceFromNode,\n  bundleType: process.env.NODE_ENV !== 'production' ? 1 : 0,\n  version: React.version,\n  rendererPackageName: 'react-konva',\n  getInspectorDataForViewTag: function getInspectorDataForViewTag() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    console.log(args);\n  }\n});\n/** API */\n\nvar StageWrap = React.forwardRef(function (props, ref) {\n  return React.createElement(Stage, _extends({}, props, {\n    forwardedRef: ref\n  }));\n});\nmodule.exports = _extends({}, TYPES, {\n  __matchRectVersion: __matchRectVersion,\n  Stage: StageWrap,\n  useStrictMode: toggleStrictMode\n});","module.exports = {};\n","var Konva = require('./_CoreInternals').Konva;\n\nKonva._injectGlobal(Konva);\n\nexports['default'] = Konva;\nKonva.default = Konva;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Util_1 = require(\"../Util\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nexports.Pixelate = function (imageData) {\n  var pixelSize = Math.ceil(this.pixelSize()),\n      width = imageData.width,\n      height = imageData.height,\n      x,\n      y,\n      i,\n      red,\n      green,\n      blue,\n      alpha,\n      nBinsX = Math.ceil(width / pixelSize),\n      nBinsY = Math.ceil(height / pixelSize),\n      xBinStart,\n      xBinEnd,\n      yBinStart,\n      yBinEnd,\n      xBin,\n      yBin,\n      pixelsInBin,\n      data = imageData.data;\n\n  if (pixelSize <= 0) {\n    Util_1.Util.error('pixelSize value can not be <= 0');\n    return;\n  }\n\n  for (xBin = 0; xBin < nBinsX; xBin += 1) {\n    for (yBin = 0; yBin < nBinsY; yBin += 1) {\n      red = 0;\n      green = 0;\n      blue = 0;\n      alpha = 0;\n      xBinStart = xBin * pixelSize;\n      xBinEnd = xBinStart + pixelSize;\n      yBinStart = yBin * pixelSize;\n      yBinEnd = yBinStart + pixelSize;\n      pixelsInBin = 0;\n\n      for (x = xBinStart; x < xBinEnd; x += 1) {\n        if (x >= width) {\n          continue;\n        }\n\n        for (y = yBinStart; y < yBinEnd; y += 1) {\n          if (y >= height) {\n            continue;\n          }\n\n          i = (width * y + x) * 4;\n          red += data[i + 0];\n          green += data[i + 1];\n          blue += data[i + 2];\n          alpha += data[i + 3];\n          pixelsInBin += 1;\n        }\n      }\n\n      red = red / pixelsInBin;\n      green = green / pixelsInBin;\n      blue = blue / pixelsInBin;\n      alpha = alpha / pixelsInBin;\n\n      for (x = xBinStart; x < xBinEnd; x += 1) {\n        if (x >= width) {\n          continue;\n        }\n\n        for (y = yBinStart; y < yBinEnd; y += 1) {\n          if (y >= height) {\n            continue;\n          }\n\n          i = (width * y + x) * 4;\n          data[i + 0] = red;\n          data[i + 1] = green;\n          data[i + 2] = blue;\n          data[i + 3] = alpha;\n        }\n      }\n    }\n  }\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'pixelSize', 8, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *\n */\n'use strict';\n\nvar validateFormat = process.env.NODE_ENV !== 'production' ? function (format) {} : function (format) {\n  if (format === undefined) {\n    throw new Error('invariant(...): Second argument must be a string.');\n  }\n};\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments to provide\n * information about what broke and what you were expecting.\n *\n * The invariant message will be stripped in production, but the invariant will\n * remain to ensure logic does not differ in production.\n */\n\nfunction invariant(condition, format) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return String(args[argIndex++]);\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // Skip invariant's own stack frame.\n\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Global_1 = require(\"./Global\");\n\nvar Util_1 = require(\"./Util\");\n\nfunction _formatValue(val) {\n  if (Util_1.Util._isString(val)) {\n    return '\"' + val + '\"';\n  }\n\n  if (Object.prototype.toString.call(val) === '[object Number]') {\n    return val;\n  }\n\n  if (Util_1.Util._isBoolean(val)) {\n    return val;\n  }\n\n  return Object.prototype.toString.call(val);\n}\n\nfunction RGBComponent(val) {\n  if (val > 255) {\n    return 255;\n  } else if (val < 0) {\n    return 0;\n  }\n\n  return Math.round(val);\n}\n\nexports.RGBComponent = RGBComponent;\n\nfunction alphaComponent(val) {\n  if (val > 1) {\n    return 1;\n  } else if (val < 0.0001) {\n    return 0.0001;\n  }\n\n  return val;\n}\n\nexports.alphaComponent = alphaComponent;\n\nfunction getNumberValidator() {\n  if (Global_1.Konva.isUnminified) {\n    return function (val, attr) {\n      if (!Util_1.Util._isNumber(val)) {\n        Util_1.Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a number.');\n      }\n\n      return val;\n    };\n  }\n}\n\nexports.getNumberValidator = getNumberValidator;\n\nfunction getNumberOrArrayOfNumbersValidator(noOfElements) {\n  if (Global_1.Konva.isUnminified) {\n    return function (val, attr) {\n      var isNumber = Util_1.Util._isNumber(val);\n\n      var isValidArray = Util_1.Util._isArray(val) && val.length == noOfElements;\n\n      if (!isNumber && !isValidArray) {\n        Util_1.Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a number or Array<number>(' + noOfElements + ')');\n      }\n\n      return val;\n    };\n  }\n}\n\nexports.getNumberOrArrayOfNumbersValidator = getNumberOrArrayOfNumbersValidator;\n\nfunction getNumberOrAutoValidator() {\n  if (Global_1.Konva.isUnminified) {\n    return function (val, attr) {\n      var isNumber = Util_1.Util._isNumber(val);\n\n      var isAuto = val === 'auto';\n\n      if (!(isNumber || isAuto)) {\n        Util_1.Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a number or \"auto\".');\n      }\n\n      return val;\n    };\n  }\n}\n\nexports.getNumberOrAutoValidator = getNumberOrAutoValidator;\n\nfunction getStringValidator() {\n  if (Global_1.Konva.isUnminified) {\n    return function (val, attr) {\n      if (!Util_1.Util._isString(val)) {\n        Util_1.Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a string.');\n      }\n\n      return val;\n    };\n  }\n}\n\nexports.getStringValidator = getStringValidator;\n\nfunction getStringOrGradientValidator() {\n  if (Global_1.Konva.isUnminified) {\n    return function (val, attr) {\n      var isString = Util_1.Util._isString(val);\n\n      var isGradient = Object.prototype.toString.call(val) === '[object CanvasGradient]';\n\n      if (!(isString || isGradient)) {\n        Util_1.Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a string or a native gradient.');\n      }\n\n      return val;\n    };\n  }\n}\n\nexports.getStringOrGradientValidator = getStringOrGradientValidator;\n\nfunction getFunctionValidator() {\n  if (Global_1.Konva.isUnminified) {\n    return function (val, attr) {\n      if (!Util_1.Util._isFunction(val)) {\n        Util_1.Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a function.');\n      }\n\n      return val;\n    };\n  }\n}\n\nexports.getFunctionValidator = getFunctionValidator;\n\nfunction getNumberArrayValidator() {\n  if (Global_1.Konva.isUnminified) {\n    return function (val, attr) {\n      if (!Util_1.Util._isArray(val)) {\n        Util_1.Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a array of numbers.');\n      } else {\n        val.forEach(function (item) {\n          if (!Util_1.Util._isNumber(item)) {\n            Util_1.Util.warn('\"' + attr + '\" attribute has non numeric element ' + item + '. Make sure that all elements are numbers.');\n          }\n        });\n      }\n\n      return val;\n    };\n  }\n}\n\nexports.getNumberArrayValidator = getNumberArrayValidator;\n\nfunction getBooleanValidator() {\n  if (Global_1.Konva.isUnminified) {\n    return function (val, attr) {\n      var isBool = val === true || val === false;\n\n      if (!isBool) {\n        Util_1.Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be a boolean.');\n      }\n\n      return val;\n    };\n  }\n}\n\nexports.getBooleanValidator = getBooleanValidator;\n\nfunction getComponentValidator(components) {\n  if (Global_1.Konva.isUnminified) {\n    return function (val, attr) {\n      if (!Util_1.Util.isObject(val)) {\n        Util_1.Util.warn(_formatValue(val) + ' is a not valid value for \"' + attr + '\" attribute. The value should be an object with properties ' + components);\n      }\n\n      return val;\n    };\n  }\n}\n\nexports.getComponentValidator = getComponentValidator;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nexports.HSV = function (imageData) {\n  var data = imageData.data,\n      nPixels = data.length,\n      v = Math.pow(2, this.value()),\n      s = Math.pow(2, this.saturation()),\n      h = Math.abs(this.hue() + 360) % 360,\n      i;\n  var vsu = v * s * Math.cos(h * Math.PI / 180),\n      vsw = v * s * Math.sin(h * Math.PI / 180);\n  var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw,\n      rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw,\n      rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n  var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw,\n      gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw,\n      gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n  var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw,\n      bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw,\n      bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n  var r, g, b, a;\n\n  for (i = 0; i < nPixels; i += 4) {\n    r = data[i + 0];\n    g = data[i + 1];\n    b = data[i + 2];\n    a = data[i + 3];\n    data[i + 0] = rr * r + rg * g + rb * b;\n    data[i + 1] = gr * r + gg * g + gb * b;\n    data[i + 2] = br * r + bg * g + bb * b;\n    data[i + 3] = a;\n  }\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'hue', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'saturation', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'value', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);","export default function symbolObservablePonyfill(root) {\n  var result;\n  var Symbol = root.Symbol;\n\n  if (typeof Symbol === 'function') {\n    if (Symbol.observable) {\n      result = Symbol.observable;\n    } else {\n      result = Symbol('observable');\n      Symbol.observable = result;\n    }\n  } else {\n    result = '@@observable';\n  }\n\n  return result;\n}\n;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"./Util\");\n\nvar Factory_1 = require(\"./Factory\");\n\nvar Canvas_1 = require(\"./Canvas\");\n\nvar Global_1 = require(\"./Global\");\n\nvar DragAndDrop_1 = require(\"./DragAndDrop\");\n\nvar Validators_1 = require(\"./Validators\");\n\nexports.ids = {};\nexports.names = {};\n\nvar _addId = function _addId(node, id) {\n  if (!id) {\n    return;\n  }\n\n  exports.ids[id] = node;\n};\n\nexports._removeId = function (id, node) {\n  if (!id) {\n    return;\n  }\n\n  if (exports.ids[id] !== node) {\n    return;\n  }\n\n  delete exports.ids[id];\n};\n\nexports._addName = function (node, name) {\n  if (name) {\n    if (!exports.names[name]) {\n      exports.names[name] = [];\n    }\n\n    exports.names[name].push(node);\n  }\n};\n\nexports._removeName = function (name, _id) {\n  if (!name) {\n    return;\n  }\n\n  var nodes = exports.names[name];\n\n  if (!nodes) {\n    return;\n  }\n\n  for (var n = 0; n < nodes.length; n++) {\n    var no = nodes[n];\n\n    if (no._id === _id) {\n      nodes.splice(n, 1);\n    }\n  }\n\n  if (nodes.length === 0) {\n    delete exports.names[name];\n  }\n};\n\nvar ABSOLUTE_OPACITY = 'absoluteOpacity',\n    ALL_LISTENERS = 'allEventListeners',\n    ABSOLUTE_TRANSFORM = 'absoluteTransform',\n    ABSOLUTE_SCALE = 'absoluteScale',\n    CANVAS = 'canvas',\n    CHANGE = 'Change',\n    CHILDREN = 'children',\n    KONVA = 'konva',\n    LISTENING = 'listening',\n    MOUSEENTER = 'mouseenter',\n    MOUSELEAVE = 'mouseleave',\n    NAME = 'name',\n    SET = 'set',\n    SHAPE = 'Shape',\n    SPACE = ' ',\n    STAGE = 'stage',\n    TRANSFORM = 'transform',\n    UPPER_STAGE = 'Stage',\n    VISIBLE = 'visible',\n    TRANSFORM_CHANGE_STR = ['xChange.konva', 'yChange.konva', 'scaleXChange.konva', 'scaleYChange.konva', 'skewXChange.konva', 'skewYChange.konva', 'rotationChange.konva', 'offsetXChange.konva', 'offsetYChange.konva', 'transformsEnabledChange.konva'].join(SPACE),\n    SCALE_CHANGE_STR = ['scaleXChange.konva', 'scaleYChange.konva'].join(SPACE);\nvar emptyChildren = new Util_1.Collection();\nvar idCounter = 1;\n\nvar Node = function () {\n  function Node(config) {\n    this._id = idCounter++;\n    this.eventListeners = {};\n    this.attrs = {};\n    this.index = 0;\n    this._allEventListeners = null;\n    this.parent = null;\n    this._cache = new Map();\n    this._attachedDepsListeners = new Map();\n    this._lastPos = null;\n    this._batchingTransformChange = false;\n    this._needClearTransformCache = false;\n    this._filterUpToDate = false;\n    this._isUnderCache = false;\n    this.children = emptyChildren;\n    this._dragEventId = null;\n    this._shouldFireChangeEvents = false;\n    this.setAttrs(config);\n    this._shouldFireChangeEvents = true;\n  }\n\n  Node.prototype.hasChildren = function () {\n    return false;\n  };\n\n  Node.prototype.getChildren = function () {\n    return emptyChildren;\n  };\n\n  Node.prototype._clearCache = function (attr) {\n    if ((attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM) && this._cache.get(attr)) {\n      this._cache.get(attr).dirty = true;\n    } else if (attr) {\n      this._cache.delete(attr);\n    } else {\n      this._cache.clear();\n    }\n  };\n\n  Node.prototype._getCache = function (attr, privateGetter) {\n    var cache = this._cache.get(attr);\n\n    var isTransform = attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM;\n    var invalid = cache === undefined || isTransform && cache.dirty === true;\n\n    if (invalid) {\n      cache = privateGetter.call(this);\n\n      this._cache.set(attr, cache);\n    }\n\n    return cache;\n  };\n\n  Node.prototype._calculate = function (name, deps, getter) {\n    var _this = this;\n\n    if (!this._attachedDepsListeners.get(name)) {\n      var depsString = deps.map(function (dep) {\n        return dep + 'Change.konva';\n      }).join(SPACE);\n      this.on(depsString, function () {\n        _this._clearCache(name);\n      });\n\n      this._attachedDepsListeners.set(name, true);\n    }\n\n    return this._getCache(name, getter);\n  };\n\n  Node.prototype._getCanvasCache = function () {\n    return this._cache.get(CANVAS);\n  };\n\n  Node.prototype._clearSelfAndDescendantCache = function (attr, forceEvent) {\n    this._clearCache(attr);\n\n    if (forceEvent && attr === ABSOLUTE_TRANSFORM) {\n      this.fire('_clearTransformCache');\n    }\n\n    if (this.isCached()) {\n      return;\n    }\n\n    if (this.children) {\n      this.children.each(function (node) {\n        node._clearSelfAndDescendantCache(attr, true);\n      });\n    }\n  };\n\n  Node.prototype.clearCache = function () {\n    this._cache.delete(CANVAS);\n\n    this._clearSelfAndDescendantCache();\n\n    return this;\n  };\n\n  Node.prototype.cache = function (config) {\n    var conf = config || {};\n    var rect = {};\n\n    if (conf.x === undefined || conf.y === undefined || conf.width === undefined || conf.height === undefined) {\n      rect = this.getClientRect({\n        skipTransform: true,\n        relativeTo: this.getParent()\n      });\n    }\n\n    var width = Math.ceil(conf.width || rect.width),\n        height = Math.ceil(conf.height || rect.height),\n        pixelRatio = conf.pixelRatio,\n        x = conf.x === undefined ? rect.x : conf.x,\n        y = conf.y === undefined ? rect.y : conf.y,\n        offset = conf.offset || 0,\n        drawBorder = conf.drawBorder || false;\n\n    if (!width || !height) {\n      Util_1.Util.error('Can not cache the node. Width or height of the node equals 0. Caching is skipped.');\n      return;\n    }\n\n    width += offset * 2;\n    height += offset * 2;\n    x -= offset;\n    y -= offset;\n    var cachedSceneCanvas = new Canvas_1.SceneCanvas({\n      pixelRatio: pixelRatio,\n      width: width,\n      height: height\n    }),\n        cachedFilterCanvas = new Canvas_1.SceneCanvas({\n      pixelRatio: pixelRatio,\n      width: 0,\n      height: 0\n    }),\n        cachedHitCanvas = new Canvas_1.HitCanvas({\n      pixelRatio: 1,\n      width: width,\n      height: height\n    }),\n        sceneContext = cachedSceneCanvas.getContext(),\n        hitContext = cachedHitCanvas.getContext();\n    cachedHitCanvas.isCache = true;\n    cachedSceneCanvas.isCache = true;\n\n    this._cache.delete('canvas');\n\n    this._filterUpToDate = false;\n\n    if (conf.imageSmoothingEnabled === false) {\n      cachedSceneCanvas.getContext()._context.imageSmoothingEnabled = false;\n      cachedFilterCanvas.getContext()._context.imageSmoothingEnabled = false;\n    }\n\n    sceneContext.save();\n    hitContext.save();\n    sceneContext.translate(-x, -y);\n    hitContext.translate(-x, -y);\n    this._isUnderCache = true;\n\n    this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n\n    this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n\n    this.drawScene(cachedSceneCanvas, this);\n    this.drawHit(cachedHitCanvas, this);\n    this._isUnderCache = false;\n    sceneContext.restore();\n    hitContext.restore();\n\n    if (drawBorder) {\n      sceneContext.save();\n      sceneContext.beginPath();\n      sceneContext.rect(0, 0, width, height);\n      sceneContext.closePath();\n      sceneContext.setAttr('strokeStyle', 'red');\n      sceneContext.setAttr('lineWidth', 5);\n      sceneContext.stroke();\n      sceneContext.restore();\n    }\n\n    this._cache.set(CANVAS, {\n      scene: cachedSceneCanvas,\n      filter: cachedFilterCanvas,\n      hit: cachedHitCanvas,\n      x: x,\n      y: y\n    });\n\n    return this;\n  };\n\n  Node.prototype.isCached = function () {\n    return this._cache.has('canvas');\n  };\n\n  Node.prototype.getClientRect = function (config) {\n    throw new Error('abstract \"getClientRect\" method call');\n  };\n\n  Node.prototype._transformedRect = function (rect, top) {\n    var points = [{\n      x: rect.x,\n      y: rect.y\n    }, {\n      x: rect.x + rect.width,\n      y: rect.y\n    }, {\n      x: rect.x + rect.width,\n      y: rect.y + rect.height\n    }, {\n      x: rect.x,\n      y: rect.y + rect.height\n    }];\n    var minX, minY, maxX, maxY;\n    var trans = this.getAbsoluteTransform(top);\n    points.forEach(function (point) {\n      var transformed = trans.point(point);\n\n      if (minX === undefined) {\n        minX = maxX = transformed.x;\n        minY = maxY = transformed.y;\n      }\n\n      minX = Math.min(minX, transformed.x);\n      minY = Math.min(minY, transformed.y);\n      maxX = Math.max(maxX, transformed.x);\n      maxY = Math.max(maxY, transformed.y);\n    });\n    return {\n      x: minX,\n      y: minY,\n      width: maxX - minX,\n      height: maxY - minY\n    };\n  };\n\n  Node.prototype._drawCachedSceneCanvas = function (context) {\n    context.save();\n\n    context._applyOpacity(this);\n\n    context._applyGlobalCompositeOperation(this);\n\n    var canvasCache = this._getCanvasCache();\n\n    context.translate(canvasCache.x, canvasCache.y);\n\n    var cacheCanvas = this._getCachedSceneCanvas();\n\n    var ratio = cacheCanvas.pixelRatio;\n    context.drawImage(cacheCanvas._canvas, 0, 0, cacheCanvas.width / ratio, cacheCanvas.height / ratio);\n    context.restore();\n  };\n\n  Node.prototype._drawCachedHitCanvas = function (context) {\n    var canvasCache = this._getCanvasCache(),\n        hitCanvas = canvasCache.hit;\n\n    context.save();\n    context.translate(canvasCache.x, canvasCache.y);\n    context.drawImage(hitCanvas._canvas, 0, 0);\n    context.restore();\n  };\n\n  Node.prototype._getCachedSceneCanvas = function () {\n    var filters = this.filters(),\n        cachedCanvas = this._getCanvasCache(),\n        sceneCanvas = cachedCanvas.scene,\n        filterCanvas = cachedCanvas.filter,\n        filterContext = filterCanvas.getContext(),\n        len,\n        imageData,\n        n,\n        filter;\n\n    if (filters) {\n      if (!this._filterUpToDate) {\n        var ratio = sceneCanvas.pixelRatio;\n        filterCanvas.setSize(sceneCanvas.width / sceneCanvas.pixelRatio, sceneCanvas.height / sceneCanvas.pixelRatio);\n\n        try {\n          len = filters.length;\n          filterContext.clear();\n          filterContext.drawImage(sceneCanvas._canvas, 0, 0, sceneCanvas.getWidth() / ratio, sceneCanvas.getHeight() / ratio);\n          imageData = filterContext.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());\n\n          for (n = 0; n < len; n++) {\n            filter = filters[n];\n\n            if (typeof filter !== 'function') {\n              Util_1.Util.error('Filter should be type of function, but got ' + typeof filter + ' instead. Please check correct filters');\n              continue;\n            }\n\n            filter.call(this, imageData);\n            filterContext.putImageData(imageData, 0, 0);\n          }\n        } catch (e) {\n          Util_1.Util.error('Unable to apply filter. ' + e.message + ' This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n        }\n\n        this._filterUpToDate = true;\n      }\n\n      return filterCanvas;\n    }\n\n    return sceneCanvas;\n  };\n\n  Node.prototype.on = function (evtStr, handler) {\n    if (arguments.length === 3) {\n      return this._delegate.apply(this, arguments);\n    }\n\n    var events = evtStr.split(SPACE),\n        len = events.length,\n        n,\n        event,\n        parts,\n        baseEvent,\n        name;\n\n    for (n = 0; n < len; n++) {\n      event = events[n];\n      parts = event.split('.');\n      baseEvent = parts[0];\n      name = parts[1] || '';\n\n      if (!this.eventListeners[baseEvent]) {\n        this.eventListeners[baseEvent] = [];\n      }\n\n      this.eventListeners[baseEvent].push({\n        name: name,\n        handler: handler\n      });\n    }\n\n    return this;\n  };\n\n  Node.prototype.off = function (evtStr, callback) {\n    var events = (evtStr || '').split(SPACE),\n        len = events.length,\n        n,\n        t,\n        event,\n        parts,\n        baseEvent,\n        name;\n\n    if (!evtStr) {\n      for (t in this.eventListeners) {\n        this._off(t);\n      }\n    }\n\n    for (n = 0; n < len; n++) {\n      event = events[n];\n      parts = event.split('.');\n      baseEvent = parts[0];\n      name = parts[1];\n\n      if (baseEvent) {\n        if (this.eventListeners[baseEvent]) {\n          this._off(baseEvent, name, callback);\n        }\n      } else {\n        for (t in this.eventListeners) {\n          this._off(t, name, callback);\n        }\n      }\n    }\n\n    return this;\n  };\n\n  Node.prototype.dispatchEvent = function (evt) {\n    var e = {\n      target: this,\n      type: evt.type,\n      evt: evt\n    };\n    this.fire(evt.type, e);\n    return this;\n  };\n\n  Node.prototype.addEventListener = function (type, handler) {\n    this.on(type, function (evt) {\n      handler.call(this, evt.evt);\n    });\n    return this;\n  };\n\n  Node.prototype.removeEventListener = function (type) {\n    this.off(type);\n    return this;\n  };\n\n  Node.prototype._delegate = function (event, selector, handler) {\n    var stopNode = this;\n    this.on(event, function (evt) {\n      var targets = evt.target.findAncestors(selector, true, stopNode);\n\n      for (var i = 0; i < targets.length; i++) {\n        evt = Util_1.Util.cloneObject(evt);\n        evt.currentTarget = targets[i];\n        handler.call(targets[i], evt);\n      }\n    });\n  };\n\n  Node.prototype.remove = function () {\n    if (this.isDragging()) {\n      this.stopDrag();\n    }\n\n    DragAndDrop_1.DD._dragElements.delete(this._id);\n\n    this._remove();\n\n    return this;\n  };\n\n  Node.prototype._clearCaches = function () {\n    this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n\n    this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n\n    this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n\n    this._clearSelfAndDescendantCache(STAGE);\n\n    this._clearSelfAndDescendantCache(VISIBLE);\n\n    this._clearSelfAndDescendantCache(LISTENING);\n  };\n\n  Node.prototype._remove = function () {\n    this._clearCaches();\n\n    var parent = this.getParent();\n\n    if (parent && parent.children) {\n      parent.children.splice(this.index, 1);\n\n      parent._setChildrenIndices();\n\n      this.parent = null;\n    }\n  };\n\n  Node.prototype.destroy = function () {\n    exports._removeId(this.id(), this);\n\n    var names = (this.name() || '').split(/\\s/g);\n\n    for (var i = 0; i < names.length; i++) {\n      var subname = names[i];\n\n      exports._removeName(subname, this._id);\n    }\n\n    this.remove();\n    return this;\n  };\n\n  Node.prototype.getAttr = function (attr) {\n    var method = 'get' + Util_1.Util._capitalize(attr);\n\n    if (Util_1.Util._isFunction(this[method])) {\n      return this[method]();\n    }\n\n    return this.attrs[attr];\n  };\n\n  Node.prototype.getAncestors = function () {\n    var parent = this.getParent(),\n        ancestors = new Util_1.Collection();\n\n    while (parent) {\n      ancestors.push(parent);\n      parent = parent.getParent();\n    }\n\n    return ancestors;\n  };\n\n  Node.prototype.getAttrs = function () {\n    return this.attrs || {};\n  };\n\n  Node.prototype.setAttrs = function (config) {\n    var _this = this;\n\n    this._batchTransformChanges(function () {\n      var key, method;\n\n      if (!config) {\n        return _this;\n      }\n\n      for (key in config) {\n        if (key === CHILDREN) {\n          continue;\n        }\n\n        method = SET + Util_1.Util._capitalize(key);\n\n        if (Util_1.Util._isFunction(_this[method])) {\n          _this[method](config[key]);\n        } else {\n          _this._setAttr(key, config[key]);\n        }\n      }\n    });\n\n    return this;\n  };\n\n  Node.prototype.isListening = function () {\n    return this._getCache(LISTENING, this._isListening);\n  };\n\n  Node.prototype._isListening = function (relativeTo) {\n    var listening = this.listening();\n\n    if (!listening) {\n      return false;\n    }\n\n    var parent = this.getParent();\n\n    if (parent && parent !== relativeTo && this !== relativeTo) {\n      return parent._isListening(relativeTo);\n    } else {\n      return true;\n    }\n  };\n\n  Node.prototype.isVisible = function () {\n    return this._getCache(VISIBLE, this._isVisible);\n  };\n\n  Node.prototype._isVisible = function (relativeTo) {\n    var visible = this.visible();\n\n    if (!visible) {\n      return false;\n    }\n\n    var parent = this.getParent();\n\n    if (parent && parent !== relativeTo && this !== relativeTo) {\n      return parent._isVisible(relativeTo);\n    } else {\n      return true;\n    }\n  };\n\n  Node.prototype.shouldDrawHit = function (top) {\n    if (top) {\n      return this._isVisible(top) && this._isListening(top);\n    }\n\n    var layer = this.getLayer();\n    var layerUnderDrag = false;\n\n    DragAndDrop_1.DD._dragElements.forEach(function (elem) {\n      if (elem.dragStatus !== 'dragging') {\n        return;\n      } else if (elem.node.nodeType === 'Stage') {\n        layerUnderDrag = true;\n      } else if (elem.node.getLayer() === layer) {\n        layerUnderDrag = true;\n      }\n    });\n\n    var dragSkip = !Global_1.Konva.hitOnDragEnabled && layerUnderDrag;\n    return this.isListening() && this.isVisible() && !dragSkip;\n  };\n\n  Node.prototype.show = function () {\n    this.visible(true);\n    return this;\n  };\n\n  Node.prototype.hide = function () {\n    this.visible(false);\n    return this;\n  };\n\n  Node.prototype.getZIndex = function () {\n    return this.index || 0;\n  };\n\n  Node.prototype.getAbsoluteZIndex = function () {\n    var depth = this.getDepth(),\n        that = this,\n        index = 0,\n        nodes,\n        len,\n        n,\n        child;\n\n    function addChildren(children) {\n      nodes = [];\n      len = children.length;\n\n      for (n = 0; n < len; n++) {\n        child = children[n];\n        index++;\n\n        if (child.nodeType !== SHAPE) {\n          nodes = nodes.concat(child.getChildren().toArray());\n        }\n\n        if (child._id === that._id) {\n          n = len;\n        }\n      }\n\n      if (nodes.length > 0 && nodes[0].getDepth() <= depth) {\n        addChildren(nodes);\n      }\n    }\n\n    if (that.nodeType !== UPPER_STAGE) {\n      addChildren(that.getStage().getChildren());\n    }\n\n    return index;\n  };\n\n  Node.prototype.getDepth = function () {\n    var depth = 0,\n        parent = this.parent;\n\n    while (parent) {\n      depth++;\n      parent = parent.parent;\n    }\n\n    return depth;\n  };\n\n  Node.prototype._batchTransformChanges = function (func) {\n    this._batchingTransformChange = true;\n    func();\n    this._batchingTransformChange = false;\n\n    if (this._needClearTransformCache) {\n      this._clearCache(TRANSFORM);\n\n      this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM, true);\n    }\n\n    this._needClearTransformCache = false;\n  };\n\n  Node.prototype.setPosition = function (pos) {\n    var _this = this;\n\n    this._batchTransformChanges(function () {\n      _this.x(pos.x);\n\n      _this.y(pos.y);\n    });\n\n    return this;\n  };\n\n  Node.prototype.getPosition = function () {\n    return {\n      x: this.x(),\n      y: this.y()\n    };\n  };\n\n  Node.prototype.getAbsolutePosition = function (top) {\n    var haveCachedParent = false;\n    var parent = this.parent;\n\n    while (parent) {\n      if (parent.isCached()) {\n        haveCachedParent = true;\n        break;\n      }\n\n      parent = parent.parent;\n    }\n\n    if (haveCachedParent && !top) {\n      top = true;\n    }\n\n    var absoluteMatrix = this.getAbsoluteTransform(top).getMatrix(),\n        absoluteTransform = new Util_1.Transform(),\n        offset = this.offset();\n    absoluteTransform.m = absoluteMatrix.slice();\n    absoluteTransform.translate(offset.x, offset.y);\n    return absoluteTransform.getTranslation();\n  };\n\n  Node.prototype.setAbsolutePosition = function (pos) {\n    var origTrans = this._clearTransform();\n\n    this.attrs.x = origTrans.x;\n    this.attrs.y = origTrans.y;\n    delete origTrans.x;\n    delete origTrans.y;\n\n    this._clearCache(TRANSFORM);\n\n    var it = this._getAbsoluteTransform().copy();\n\n    it.invert();\n    it.translate(pos.x, pos.y);\n    pos = {\n      x: this.attrs.x + it.getTranslation().x,\n      y: this.attrs.y + it.getTranslation().y\n    };\n\n    this._setTransform(origTrans);\n\n    this.setPosition({\n      x: pos.x,\n      y: pos.y\n    });\n\n    this._clearCache(TRANSFORM);\n\n    this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n\n    return this;\n  };\n\n  Node.prototype._setTransform = function (trans) {\n    var key;\n\n    for (key in trans) {\n      this.attrs[key] = trans[key];\n    }\n  };\n\n  Node.prototype._clearTransform = function () {\n    var trans = {\n      x: this.x(),\n      y: this.y(),\n      rotation: this.rotation(),\n      scaleX: this.scaleX(),\n      scaleY: this.scaleY(),\n      offsetX: this.offsetX(),\n      offsetY: this.offsetY(),\n      skewX: this.skewX(),\n      skewY: this.skewY()\n    };\n    this.attrs.x = 0;\n    this.attrs.y = 0;\n    this.attrs.rotation = 0;\n    this.attrs.scaleX = 1;\n    this.attrs.scaleY = 1;\n    this.attrs.offsetX = 0;\n    this.attrs.offsetY = 0;\n    this.attrs.skewX = 0;\n    this.attrs.skewY = 0;\n    return trans;\n  };\n\n  Node.prototype.move = function (change) {\n    var changeX = change.x,\n        changeY = change.y,\n        x = this.x(),\n        y = this.y();\n\n    if (changeX !== undefined) {\n      x += changeX;\n    }\n\n    if (changeY !== undefined) {\n      y += changeY;\n    }\n\n    this.setPosition({\n      x: x,\n      y: y\n    });\n    return this;\n  };\n\n  Node.prototype._eachAncestorReverse = function (func, top) {\n    var family = [],\n        parent = this.getParent(),\n        len,\n        n;\n\n    if (top && top._id === this._id) {\n      return;\n    }\n\n    family.unshift(this);\n\n    while (parent && (!top || parent._id !== top._id)) {\n      family.unshift(parent);\n      parent = parent.parent;\n    }\n\n    len = family.length;\n\n    for (n = 0; n < len; n++) {\n      func(family[n]);\n    }\n  };\n\n  Node.prototype.rotate = function (theta) {\n    this.rotation(this.rotation() + theta);\n    return this;\n  };\n\n  Node.prototype.moveToTop = function () {\n    if (!this.parent) {\n      Util_1.Util.warn('Node has no parent. moveToTop function is ignored.');\n      return false;\n    }\n\n    var index = this.index;\n    this.parent.children.splice(index, 1);\n    this.parent.children.push(this);\n\n    this.parent._setChildrenIndices();\n\n    return true;\n  };\n\n  Node.prototype.moveUp = function () {\n    if (!this.parent) {\n      Util_1.Util.warn('Node has no parent. moveUp function is ignored.');\n      return false;\n    }\n\n    var index = this.index,\n        len = this.parent.getChildren().length;\n\n    if (index < len - 1) {\n      this.parent.children.splice(index, 1);\n      this.parent.children.splice(index + 1, 0, this);\n\n      this.parent._setChildrenIndices();\n\n      return true;\n    }\n\n    return false;\n  };\n\n  Node.prototype.moveDown = function () {\n    if (!this.parent) {\n      Util_1.Util.warn('Node has no parent. moveDown function is ignored.');\n      return false;\n    }\n\n    var index = this.index;\n\n    if (index > 0) {\n      this.parent.children.splice(index, 1);\n      this.parent.children.splice(index - 1, 0, this);\n\n      this.parent._setChildrenIndices();\n\n      return true;\n    }\n\n    return false;\n  };\n\n  Node.prototype.moveToBottom = function () {\n    if (!this.parent) {\n      Util_1.Util.warn('Node has no parent. moveToBottom function is ignored.');\n      return false;\n    }\n\n    var index = this.index;\n\n    if (index > 0) {\n      this.parent.children.splice(index, 1);\n      this.parent.children.unshift(this);\n\n      this.parent._setChildrenIndices();\n\n      return true;\n    }\n\n    return false;\n  };\n\n  Node.prototype.setZIndex = function (zIndex) {\n    if (!this.parent) {\n      Util_1.Util.warn('Node has no parent. zIndex parameter is ignored.');\n      return this;\n    }\n\n    if (zIndex < 0 || zIndex >= this.parent.children.length) {\n      Util_1.Util.warn('Unexpected value ' + zIndex + ' for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to ' + (this.parent.children.length - 1) + '.');\n    }\n\n    var index = this.index;\n    this.parent.children.splice(index, 1);\n    this.parent.children.splice(zIndex, 0, this);\n\n    this.parent._setChildrenIndices();\n\n    return this;\n  };\n\n  Node.prototype.getAbsoluteOpacity = function () {\n    return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);\n  };\n\n  Node.prototype._getAbsoluteOpacity = function () {\n    var absOpacity = this.opacity();\n    var parent = this.getParent();\n\n    if (parent && !parent._isUnderCache) {\n      absOpacity *= parent.getAbsoluteOpacity();\n    }\n\n    return absOpacity;\n  };\n\n  Node.prototype.moveTo = function (newContainer) {\n    if (this.getParent() !== newContainer) {\n      this._remove();\n\n      newContainer.add(this);\n    }\n\n    return this;\n  };\n\n  Node.prototype.toObject = function () {\n    var obj = {},\n        attrs = this.getAttrs(),\n        key,\n        val,\n        getter,\n        defaultValue,\n        nonPlainObject;\n    obj.attrs = {};\n\n    for (key in attrs) {\n      val = attrs[key];\n      nonPlainObject = Util_1.Util.isObject(val) && !Util_1.Util._isPlainObject(val) && !Util_1.Util._isArray(val);\n\n      if (nonPlainObject) {\n        continue;\n      }\n\n      getter = typeof this[key] === 'function' && this[key];\n      delete attrs[key];\n      defaultValue = getter ? getter.call(this) : null;\n      attrs[key] = val;\n\n      if (defaultValue !== val) {\n        obj.attrs[key] = val;\n      }\n    }\n\n    obj.className = this.getClassName();\n    return Util_1.Util._prepareToStringify(obj);\n  };\n\n  Node.prototype.toJSON = function () {\n    return JSON.stringify(this.toObject());\n  };\n\n  Node.prototype.getParent = function () {\n    return this.parent;\n  };\n\n  Node.prototype.findAncestors = function (selector, includeSelf, stopNode) {\n    var res = [];\n\n    if (includeSelf && this._isMatch(selector)) {\n      res.push(this);\n    }\n\n    var ancestor = this.parent;\n\n    while (ancestor) {\n      if (ancestor === stopNode) {\n        return res;\n      }\n\n      if (ancestor._isMatch(selector)) {\n        res.push(ancestor);\n      }\n\n      ancestor = ancestor.parent;\n    }\n\n    return res;\n  };\n\n  Node.prototype.isAncestorOf = function (node) {\n    return false;\n  };\n\n  Node.prototype.findAncestor = function (selector, includeSelf, stopNode) {\n    return this.findAncestors(selector, includeSelf, stopNode)[0];\n  };\n\n  Node.prototype._isMatch = function (selector) {\n    if (!selector) {\n      return false;\n    }\n\n    if (typeof selector === 'function') {\n      return selector(this);\n    }\n\n    var selectorArr = selector.replace(/ /g, '').split(','),\n        len = selectorArr.length,\n        n,\n        sel;\n\n    for (n = 0; n < len; n++) {\n      sel = selectorArr[n];\n\n      if (!Util_1.Util.isValidSelector(sel)) {\n        Util_1.Util.warn('Selector \"' + sel + '\" is invalid. Allowed selectors examples are \"#foo\", \".bar\" or \"Group\".');\n        Util_1.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like \"Triangle\".');\n        Util_1.Util.warn('Konva is awesome, right?');\n      }\n\n      if (sel.charAt(0) === '#') {\n        if (this.id() === sel.slice(1)) {\n          return true;\n        }\n      } else if (sel.charAt(0) === '.') {\n        if (this.hasName(sel.slice(1))) {\n          return true;\n        }\n      } else if (this.className === sel || this.nodeType === sel) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Node.prototype.getLayer = function () {\n    var parent = this.getParent();\n    return parent ? parent.getLayer() : null;\n  };\n\n  Node.prototype.getStage = function () {\n    return this._getCache(STAGE, this._getStage);\n  };\n\n  Node.prototype._getStage = function () {\n    var parent = this.getParent();\n\n    if (parent) {\n      return parent.getStage();\n    } else {\n      return undefined;\n    }\n  };\n\n  Node.prototype.fire = function (eventType, evt, bubble) {\n    if (evt === void 0) {\n      evt = {};\n    }\n\n    evt.target = evt.target || this;\n\n    if (bubble) {\n      this._fireAndBubble(eventType, evt);\n    } else {\n      this._fire(eventType, evt);\n    }\n\n    return this;\n  };\n\n  Node.prototype.getAbsoluteTransform = function (top) {\n    if (top) {\n      return this._getAbsoluteTransform(top);\n    } else {\n      return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);\n    }\n  };\n\n  Node.prototype._getAbsoluteTransform = function (top) {\n    var at;\n\n    if (top) {\n      at = new Util_1.Transform();\n\n      this._eachAncestorReverse(function (node) {\n        var transformsEnabled = node.transformsEnabled();\n\n        if (transformsEnabled === 'all') {\n          at.multiply(node.getTransform());\n        } else if (transformsEnabled === 'position') {\n          at.translate(node.x() - node.offsetX(), node.y() - node.offsetY());\n        }\n      }, top);\n\n      return at;\n    } else {\n      at = this._cache.get(ABSOLUTE_TRANSFORM) || new Util_1.Transform();\n\n      if (this.parent) {\n        this.parent.getAbsoluteTransform().copyInto(at);\n      } else {\n        at.reset();\n      }\n\n      var transformsEnabled = this.transformsEnabled();\n\n      if (transformsEnabled === 'all') {\n        at.multiply(this.getTransform());\n      } else if (transformsEnabled === 'position') {\n        var x = this.attrs.x || 0;\n        var y = this.attrs.y || 0;\n        var offsetX = this.attrs.offsetX || 0;\n        var offsetY = this.attrs.offsetY || 0;\n        at.translate(x - offsetX, y - offsetY);\n      }\n\n      at.dirty = false;\n      return at;\n    }\n  };\n\n  Node.prototype.getAbsoluteScale = function (top) {\n    var parent = this;\n\n    while (parent) {\n      if (parent._isUnderCache) {\n        top = parent;\n      }\n\n      parent = parent.getParent();\n    }\n\n    var transform = this.getAbsoluteTransform(top);\n    var attrs = transform.decompose();\n    return {\n      x: attrs.scaleX,\n      y: attrs.scaleY\n    };\n  };\n\n  Node.prototype.getAbsoluteRotation = function () {\n    return this.getAbsoluteTransform().decompose().rotation;\n  };\n\n  Node.prototype.getTransform = function () {\n    return this._getCache(TRANSFORM, this._getTransform);\n  };\n\n  Node.prototype._getTransform = function () {\n    var _a, _b;\n\n    var m = this._cache.get(TRANSFORM) || new Util_1.Transform();\n    m.reset();\n    var x = this.x(),\n        y = this.y(),\n        rotation = Global_1.Konva.getAngle(this.rotation()),\n        scaleX = (_a = this.attrs.scaleX) !== null && _a !== void 0 ? _a : 1,\n        scaleY = (_b = this.attrs.scaleY) !== null && _b !== void 0 ? _b : 1,\n        skewX = this.attrs.skewX || 0,\n        skewY = this.attrs.skewY || 0,\n        offsetX = this.attrs.offsetX || 0,\n        offsetY = this.attrs.offsetY || 0;\n\n    if (x !== 0 || y !== 0) {\n      m.translate(x, y);\n    }\n\n    if (rotation !== 0) {\n      m.rotate(rotation);\n    }\n\n    if (skewX !== 0 || skewY !== 0) {\n      m.skew(skewX, skewY);\n    }\n\n    if (scaleX !== 1 || scaleY !== 1) {\n      m.scale(scaleX, scaleY);\n    }\n\n    if (offsetX !== 0 || offsetY !== 0) {\n      m.translate(-1 * offsetX, -1 * offsetY);\n    }\n\n    m.dirty = false;\n    return m;\n  };\n\n  Node.prototype.clone = function (obj) {\n    var attrs = Util_1.Util.cloneObject(this.attrs),\n        key,\n        allListeners,\n        len,\n        n,\n        listener;\n\n    for (key in obj) {\n      attrs[key] = obj[key];\n    }\n\n    var node = new this.constructor(attrs);\n\n    for (key in this.eventListeners) {\n      allListeners = this.eventListeners[key];\n      len = allListeners.length;\n\n      for (n = 0; n < len; n++) {\n        listener = allListeners[n];\n\n        if (listener.name.indexOf(KONVA) < 0) {\n          if (!node.eventListeners[key]) {\n            node.eventListeners[key] = [];\n          }\n\n          node.eventListeners[key].push(listener);\n        }\n      }\n    }\n\n    return node;\n  };\n\n  Node.prototype._toKonvaCanvas = function (config) {\n    config = config || {};\n    var box = this.getClientRect();\n    var stage = this.getStage(),\n        x = config.x !== undefined ? config.x : box.x,\n        y = config.y !== undefined ? config.y : box.y,\n        pixelRatio = config.pixelRatio || 1,\n        canvas = new Canvas_1.SceneCanvas({\n      width: config.width || box.width || (stage ? stage.width() : 0),\n      height: config.height || box.height || (stage ? stage.height() : 0),\n      pixelRatio: pixelRatio\n    }),\n        context = canvas.getContext();\n    context.save();\n\n    if (x || y) {\n      context.translate(-1 * x, -1 * y);\n    }\n\n    this.drawScene(canvas);\n    context.restore();\n    return canvas;\n  };\n\n  Node.prototype.toCanvas = function (config) {\n    return this._toKonvaCanvas(config)._canvas;\n  };\n\n  Node.prototype.toDataURL = function (config) {\n    config = config || {};\n    var mimeType = config.mimeType || null,\n        quality = config.quality || null;\n\n    var url = this._toKonvaCanvas(config).toDataURL(mimeType, quality);\n\n    if (config.callback) {\n      config.callback(url);\n    }\n\n    return url;\n  };\n\n  Node.prototype.toImage = function (config) {\n    if (!config || !config.callback) {\n      throw 'callback required for toImage method config argument';\n    }\n\n    var callback = config.callback;\n    delete config.callback;\n\n    Util_1.Util._urlToImage(this.toDataURL(config), function (img) {\n      callback(img);\n    });\n  };\n\n  Node.prototype.setSize = function (size) {\n    this.width(size.width);\n    this.height(size.height);\n    return this;\n  };\n\n  Node.prototype.getSize = function () {\n    return {\n      width: this.width(),\n      height: this.height()\n    };\n  };\n\n  Node.prototype.getClassName = function () {\n    return this.className || this.nodeType;\n  };\n\n  Node.prototype.getType = function () {\n    return this.nodeType;\n  };\n\n  Node.prototype.getDragDistance = function () {\n    if (this.attrs.dragDistance !== undefined) {\n      return this.attrs.dragDistance;\n    } else if (this.parent) {\n      return this.parent.getDragDistance();\n    } else {\n      return Global_1.Konva.dragDistance;\n    }\n  };\n\n  Node.prototype._off = function (type, name, callback) {\n    var evtListeners = this.eventListeners[type],\n        i,\n        evtName,\n        handler;\n\n    for (i = 0; i < evtListeners.length; i++) {\n      evtName = evtListeners[i].name;\n      handler = evtListeners[i].handler;\n\n      if ((evtName !== 'konva' || name === 'konva') && (!name || evtName === name) && (!callback || callback === handler)) {\n        evtListeners.splice(i, 1);\n\n        if (evtListeners.length === 0) {\n          delete this.eventListeners[type];\n          break;\n        }\n\n        i--;\n      }\n    }\n  };\n\n  Node.prototype._fireChangeEvent = function (attr, oldVal, newVal) {\n    this._fire(attr + CHANGE, {\n      oldVal: oldVal,\n      newVal: newVal\n    });\n  };\n\n  Node.prototype.setId = function (id) {\n    var oldId = this.id();\n\n    exports._removeId(oldId, this);\n\n    _addId(this, id);\n\n    this._setAttr('id', id);\n\n    return this;\n  };\n\n  Node.prototype.setName = function (name) {\n    var oldNames = (this.name() || '').split(/\\s/g);\n    var newNames = (name || '').split(/\\s/g);\n    var subname, i;\n\n    for (i = 0; i < oldNames.length; i++) {\n      subname = oldNames[i];\n\n      if (newNames.indexOf(subname) === -1 && subname) {\n        exports._removeName(subname, this._id);\n      }\n    }\n\n    for (i = 0; i < newNames.length; i++) {\n      subname = newNames[i];\n\n      if (oldNames.indexOf(subname) === -1 && subname) {\n        exports._addName(this, subname);\n      }\n    }\n\n    this._setAttr(NAME, name);\n\n    return this;\n  };\n\n  Node.prototype.addName = function (name) {\n    if (!this.hasName(name)) {\n      var oldName = this.name();\n      var newName = oldName ? oldName + ' ' + name : name;\n      this.setName(newName);\n    }\n\n    return this;\n  };\n\n  Node.prototype.hasName = function (name) {\n    if (!name) {\n      return false;\n    }\n\n    var fullName = this.name();\n\n    if (!fullName) {\n      return false;\n    }\n\n    var names = (fullName || '').split(/\\s/g);\n    return names.indexOf(name) !== -1;\n  };\n\n  Node.prototype.removeName = function (name) {\n    var names = (this.name() || '').split(/\\s/g);\n    var index = names.indexOf(name);\n\n    if (index !== -1) {\n      names.splice(index, 1);\n      this.setName(names.join(' '));\n    }\n\n    return this;\n  };\n\n  Node.prototype.setAttr = function (attr, val) {\n    var func = this[SET + Util_1.Util._capitalize(attr)];\n\n    if (Util_1.Util._isFunction(func)) {\n      func.call(this, val);\n    } else {\n      this._setAttr(attr, val);\n    }\n\n    return this;\n  };\n\n  Node.prototype._setAttr = function (key, val, skipFire) {\n    if (skipFire === void 0) {\n      skipFire = false;\n    }\n\n    var oldVal = this.attrs[key];\n\n    if (oldVal === val && !Util_1.Util.isObject(val)) {\n      return;\n    }\n\n    if (val === undefined || val === null) {\n      delete this.attrs[key];\n    } else {\n      this.attrs[key] = val;\n    }\n\n    if (this._shouldFireChangeEvents) {\n      this._fireChangeEvent(key, oldVal, val);\n    }\n  };\n\n  Node.prototype._setComponentAttr = function (key, component, val) {\n    var oldVal;\n\n    if (val !== undefined) {\n      oldVal = this.attrs[key];\n\n      if (!oldVal) {\n        this.attrs[key] = this.getAttr(key);\n      }\n\n      this.attrs[key][component] = val;\n\n      this._fireChangeEvent(key, oldVal, val);\n    }\n  };\n\n  Node.prototype._fireAndBubble = function (eventType, evt, compareShape) {\n    if (evt && this.nodeType === SHAPE) {\n      evt.target = this;\n    }\n\n    var shouldStop = (eventType === MOUSEENTER || eventType === MOUSELEAVE) && (compareShape && (this === compareShape || this.isAncestorOf && this.isAncestorOf(compareShape)) || this.nodeType === 'Stage' && !compareShape);\n\n    if (!shouldStop) {\n      this._fire(eventType, evt);\n\n      var stopBubble = (eventType === MOUSEENTER || eventType === MOUSELEAVE) && compareShape && compareShape.isAncestorOf && compareShape.isAncestorOf(this) && !compareShape.isAncestorOf(this.parent);\n\n      if ((evt && !evt.cancelBubble || !evt) && this.parent && this.parent.isListening() && !stopBubble) {\n        if (compareShape && compareShape.parent) {\n          this._fireAndBubble.call(this.parent, eventType, evt, compareShape);\n        } else {\n          this._fireAndBubble.call(this.parent, eventType, evt);\n        }\n      }\n    }\n  };\n\n  Node.prototype._getListeners = function (eventType) {\n    var totalEvents = [];\n    var obj;\n\n    while (true) {\n      obj = obj ? Object.getPrototypeOf(obj) : this;\n\n      if (!obj) {\n        break;\n      }\n\n      if (!obj.eventListeners) {\n        continue;\n      }\n\n      var events = obj.eventListeners[eventType];\n\n      if (!events) {\n        continue;\n      }\n\n      totalEvents = events.concat(totalEvents);\n      obj = Object.getPrototypeOf(obj);\n    }\n\n    return totalEvents;\n  };\n\n  Node.prototype._fire = function (eventType, evt) {\n    var events = this._getListeners(eventType),\n        i;\n\n    if (events.length) {\n      evt = evt || {};\n      evt.currentTarget = this;\n      evt.type = eventType;\n\n      for (i = 0; i < events.length; i++) {\n        events[i].handler.call(this, evt);\n      }\n    }\n  };\n\n  Node.prototype.draw = function () {\n    this.drawScene();\n    this.drawHit();\n    return this;\n  };\n\n  Node.prototype._createDragElement = function (evt) {\n    var pointerId = evt ? evt.pointerId : undefined;\n    var stage = this.getStage();\n    var ap = this.getAbsolutePosition();\n    var pos = stage._getPointerById(pointerId) || stage._changedPointerPositions[0] || ap;\n\n    DragAndDrop_1.DD._dragElements.set(this._id, {\n      node: this,\n      startPointerPos: pos,\n      offset: {\n        x: pos.x - ap.x,\n        y: pos.y - ap.y\n      },\n      dragStatus: 'ready',\n      pointerId: pointerId\n    });\n  };\n\n  Node.prototype.startDrag = function (evt, bubbleEvent) {\n    if (bubbleEvent === void 0) {\n      bubbleEvent = true;\n    }\n\n    if (!DragAndDrop_1.DD._dragElements.has(this._id)) {\n      this._createDragElement(evt);\n    }\n\n    var elem = DragAndDrop_1.DD._dragElements.get(this._id);\n\n    elem.dragStatus = 'dragging';\n    this.fire('dragstart', {\n      type: 'dragstart',\n      target: this,\n      evt: evt && evt.evt\n    }, bubbleEvent);\n  };\n\n  Node.prototype._setDragPosition = function (evt, elem) {\n    var pos = this.getStage()._getPointerById(elem.pointerId);\n\n    if (!pos) {\n      return;\n    }\n\n    var newNodePos = {\n      x: pos.x - elem.offset.x,\n      y: pos.y - elem.offset.y\n    };\n    var dbf = this.dragBoundFunc();\n\n    if (dbf !== undefined) {\n      var bounded = dbf.call(this, newNodePos, evt);\n\n      if (!bounded) {\n        Util_1.Util.warn('dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.');\n      } else {\n        newNodePos = bounded;\n      }\n    }\n\n    if (!this._lastPos || this._lastPos.x !== newNodePos.x || this._lastPos.y !== newNodePos.y) {\n      this.setAbsolutePosition(newNodePos);\n\n      if (this.getLayer()) {\n        this.getLayer().batchDraw();\n      } else if (this.getStage()) {\n        this.getStage().batchDraw();\n      }\n    }\n\n    this._lastPos = newNodePos;\n  };\n\n  Node.prototype.stopDrag = function (evt) {\n    var elem = DragAndDrop_1.DD._dragElements.get(this._id);\n\n    if (elem) {\n      elem.dragStatus = 'stopped';\n    }\n\n    DragAndDrop_1.DD._endDragBefore(evt);\n\n    DragAndDrop_1.DD._endDragAfter(evt);\n  };\n\n  Node.prototype.setDraggable = function (draggable) {\n    this._setAttr('draggable', draggable);\n\n    this._dragChange();\n  };\n\n  Node.prototype.isDragging = function () {\n    var elem = DragAndDrop_1.DD._dragElements.get(this._id);\n\n    return elem ? elem.dragStatus === 'dragging' : false;\n  };\n\n  Node.prototype._listenDrag = function () {\n    this._dragCleanup();\n\n    this.on('mousedown.konva touchstart.konva', function (evt) {\n      var _this = this;\n\n      var shouldCheckButton = evt.evt['button'] !== undefined;\n      var canDrag = !shouldCheckButton || Global_1.Konva.dragButtons.indexOf(evt.evt['button']) >= 0;\n\n      if (!canDrag) {\n        return;\n      }\n\n      if (this.isDragging()) {\n        return;\n      }\n\n      var hasDraggingChild = false;\n\n      DragAndDrop_1.DD._dragElements.forEach(function (elem) {\n        if (_this.isAncestorOf(elem.node)) {\n          hasDraggingChild = true;\n        }\n      });\n\n      if (!hasDraggingChild) {\n        this._createDragElement(evt);\n      }\n    });\n  };\n\n  Node.prototype._dragChange = function () {\n    if (this.attrs.draggable) {\n      this._listenDrag();\n    } else {\n      this._dragCleanup();\n\n      var stage = this.getStage();\n\n      if (!stage) {\n        return;\n      }\n\n      var dragElement = DragAndDrop_1.DD._dragElements.get(this._id);\n\n      var isDragging = dragElement && dragElement.dragStatus === 'dragging';\n      var isReady = dragElement && dragElement.dragStatus === 'ready';\n\n      if (isDragging) {\n        this.stopDrag();\n      } else if (isReady) {\n        DragAndDrop_1.DD._dragElements.delete(this._id);\n      }\n    }\n  };\n\n  Node.prototype._dragCleanup = function () {\n    this.off('mousedown.konva');\n    this.off('touchstart.konva');\n  };\n\n  Node.create = function (data, container) {\n    if (Util_1.Util._isString(data)) {\n      data = JSON.parse(data);\n    }\n\n    return this._createNode(data, container);\n  };\n\n  Node._createNode = function (obj, container) {\n    var className = Node.prototype.getClassName.call(obj),\n        children = obj.children,\n        no,\n        len,\n        n;\n\n    if (container) {\n      obj.attrs.container = container;\n    }\n\n    if (!Global_1._NODES_REGISTRY[className]) {\n      Util_1.Util.warn('Can not find a node with class name \"' + className + '\". Fallback to \"Shape\".');\n      className = 'Shape';\n    }\n\n    var Class = Global_1._NODES_REGISTRY[className];\n    no = new Class(obj.attrs);\n\n    if (children) {\n      len = children.length;\n\n      for (n = 0; n < len; n++) {\n        no.add(Node._createNode(children[n]));\n      }\n    }\n\n    return no;\n  };\n\n  return Node;\n}();\n\nexports.Node = Node;\nNode.prototype.nodeType = 'Node';\nNode.prototype._attrsAffectingSize = [];\nNode.prototype.eventListeners = {};\nNode.prototype.on.call(Node.prototype, TRANSFORM_CHANGE_STR, function () {\n  if (this._batchingTransformChange) {\n    this._needClearTransformCache = true;\n    return;\n  }\n\n  this._clearCache(TRANSFORM);\n\n  this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype, 'visibleChange.konva', function () {\n  this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype, 'listeningChange.konva', function () {\n  this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype, 'opacityChange.konva', function () {\n  this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nvar addGetterSetter = Factory_1.Factory.addGetterSetter;\naddGetterSetter(Node, 'zIndex');\naddGetterSetter(Node, 'absolutePosition');\naddGetterSetter(Node, 'position');\naddGetterSetter(Node, 'x', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'y', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'globalCompositeOperation', 'source-over', Validators_1.getStringValidator());\naddGetterSetter(Node, 'opacity', 1, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'name', '', Validators_1.getStringValidator());\naddGetterSetter(Node, 'id', '', Validators_1.getStringValidator());\naddGetterSetter(Node, 'rotation', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'scale', ['x', 'y']);\naddGetterSetter(Node, 'scaleX', 1, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'scaleY', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'skew', ['x', 'y']);\naddGetterSetter(Node, 'skewX', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'skewY', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'offset', ['x', 'y']);\naddGetterSetter(Node, 'offsetX', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'offsetY', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'dragDistance', null, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'width', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'height', 0, Validators_1.getNumberValidator());\naddGetterSetter(Node, 'listening', true, Validators_1.getBooleanValidator());\naddGetterSetter(Node, 'preventDefault', true, Validators_1.getBooleanValidator());\naddGetterSetter(Node, 'filters', null, function (val) {\n  this._filterUpToDate = false;\n  return val;\n});\naddGetterSetter(Node, 'visible', true, Validators_1.getBooleanValidator());\naddGetterSetter(Node, 'transformsEnabled', 'all', Validators_1.getStringValidator());\naddGetterSetter(Node, 'size');\naddGetterSetter(Node, 'dragBoundFunc');\naddGetterSetter(Node, 'draggable', false, Validators_1.getBooleanValidator());\nFactory_1.Factory.backCompat(Node, {\n  rotateDeg: 'rotate',\n  setRotationDeg: 'setRotation',\n  getRotationDeg: 'getRotation'\n});\nUtil_1.Collection.mapMethods(Node);","\"use strict\";\n\nrequire(\"core-js/modules/es.string.trim-end\");\n\nrequire(\"core-js/modules/es.string.trim-start\");\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_2 = require(\"../Global\");\n\nfunction stringToArray(string) {\n  return Array.from(string);\n}\n\nexports.stringToArray = stringToArray;\nvar AUTO = 'auto',\n    CENTER = 'center',\n    JUSTIFY = 'justify',\n    CHANGE_KONVA = 'Change.konva',\n    CONTEXT_2D = '2d',\n    DASH = '-',\n    LEFT = 'left',\n    TEXT = 'text',\n    TEXT_UPPER = 'Text',\n    TOP = 'top',\n    BOTTOM = 'bottom',\n    MIDDLE = 'middle',\n    NORMAL = 'normal',\n    PX_SPACE = 'px ',\n    SPACE = ' ',\n    RIGHT = 'right',\n    WORD = 'word',\n    CHAR = 'char',\n    NONE = 'none',\n    ELLIPSIS = '…',\n    ATTR_CHANGE_LIST = ['fontFamily', 'fontSize', 'fontStyle', 'fontVariant', 'padding', 'align', 'verticalAlign', 'lineHeight', 'text', 'width', 'height', 'wrap', 'ellipsis', 'letterSpacing'],\n    attrChangeListLen = ATTR_CHANGE_LIST.length;\n\nfunction normalizeFontFamily(fontFamily) {\n  return fontFamily.split(',').map(function (family) {\n    family = family.trim();\n    var hasSpace = family.indexOf(' ') >= 0;\n    var hasQuotes = family.indexOf('\"') >= 0 || family.indexOf(\"'\") >= 0;\n\n    if (hasSpace && !hasQuotes) {\n      family = \"\\\"\" + family + \"\\\"\";\n    }\n\n    return family;\n  }).join(', ');\n}\n\nvar dummyContext;\n\nfunction getDummyContext() {\n  if (dummyContext) {\n    return dummyContext;\n  }\n\n  dummyContext = Util_1.Util.createCanvasElement().getContext(CONTEXT_2D);\n  return dummyContext;\n}\n\nfunction _fillFunc(context) {\n  context.fillText(this._partialText, this._partialTextX, this._partialTextY);\n}\n\nfunction _strokeFunc(context) {\n  context.strokeText(this._partialText, this._partialTextX, this._partialTextY);\n}\n\nfunction checkDefaultFill(config) {\n  config = config || {};\n\n  if (!config.fillLinearGradientColorStops && !config.fillRadialGradientColorStops && !config.fillPatternImage) {\n    config.fill = config.fill || 'black';\n  }\n\n  return config;\n}\n\nvar Text = function (_super) {\n  __extends(Text, _super);\n\n  function Text(config) {\n    var _this = _super.call(this, checkDefaultFill(config)) || this;\n\n    _this._partialTextX = 0;\n    _this._partialTextY = 0;\n\n    for (var n = 0; n < attrChangeListLen; n++) {\n      _this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, _this._setTextData);\n    }\n\n    _this._setTextData();\n\n    return _this;\n  }\n\n  Text.prototype._sceneFunc = function (context) {\n    var padding = this.padding(),\n        fontSize = this.fontSize(),\n        lineHeightPx = this.lineHeight() * fontSize,\n        textArr = this.textArr,\n        textArrLen = textArr.length,\n        verticalAlign = this.verticalAlign(),\n        alignY = 0,\n        align = this.align(),\n        totalWidth = this.getWidth(),\n        letterSpacing = this.letterSpacing(),\n        fill = this.fill(),\n        textDecoration = this.textDecoration(),\n        shouldUnderline = textDecoration.indexOf('underline') !== -1,\n        shouldLineThrough = textDecoration.indexOf('line-through') !== -1,\n        n;\n    var translateY = 0;\n    var translateY = lineHeightPx / 2;\n    var lineTranslateX = 0;\n    var lineTranslateY = 0;\n    context.setAttr('font', this._getContextFont());\n    context.setAttr('textBaseline', MIDDLE);\n    context.setAttr('textAlign', LEFT);\n\n    if (verticalAlign === MIDDLE) {\n      alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\n    } else if (verticalAlign === BOTTOM) {\n      alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;\n    }\n\n    context.translate(padding, alignY + padding);\n\n    for (n = 0; n < textArrLen; n++) {\n      var lineTranslateX = 0;\n      var lineTranslateY = 0;\n      var obj = textArr[n],\n          text = obj.text,\n          width = obj.width,\n          lastLine = n !== textArrLen - 1,\n          spacesNumber,\n          oneWord,\n          lineWidth;\n      context.save();\n\n      if (align === RIGHT) {\n        lineTranslateX += totalWidth - width - padding * 2;\n      } else if (align === CENTER) {\n        lineTranslateX += (totalWidth - width - padding * 2) / 2;\n      }\n\n      if (shouldUnderline) {\n        context.save();\n        context.beginPath();\n        context.moveTo(lineTranslateX, translateY + lineTranslateY + Math.round(fontSize / 2));\n        spacesNumber = text.split(' ').length - 1;\n        oneWord = spacesNumber === 0;\n        lineWidth = align === JUSTIFY && lastLine && !oneWord ? totalWidth - padding * 2 : width;\n        context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + Math.round(fontSize / 2));\n        context.lineWidth = fontSize / 15;\n        context.strokeStyle = fill;\n        context.stroke();\n        context.restore();\n      }\n\n      if (shouldLineThrough) {\n        context.save();\n        context.beginPath();\n        context.moveTo(lineTranslateX, translateY + lineTranslateY);\n        spacesNumber = text.split(' ').length - 1;\n        oneWord = spacesNumber === 0;\n        lineWidth = align === JUSTIFY && lastLine && !oneWord ? totalWidth - padding * 2 : width;\n        context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY);\n        context.lineWidth = fontSize / 15;\n        context.strokeStyle = fill;\n        context.stroke();\n        context.restore();\n      }\n\n      if (letterSpacing !== 0 || align === JUSTIFY) {\n        spacesNumber = text.split(' ').length - 1;\n        var array = stringToArray(text);\n\n        for (var li = 0; li < array.length; li++) {\n          var letter = array[li];\n\n          if (letter === ' ' && n !== textArrLen - 1 && align === JUSTIFY) {\n            lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\n          }\n\n          this._partialTextX = lineTranslateX;\n          this._partialTextY = translateY + lineTranslateY;\n          this._partialText = letter;\n          context.fillStrokeShape(this);\n          lineTranslateX += this.measureSize(letter).width + letterSpacing;\n        }\n      } else {\n        this._partialTextX = lineTranslateX;\n        this._partialTextY = translateY + lineTranslateY;\n        this._partialText = text;\n        context.fillStrokeShape(this);\n      }\n\n      context.restore();\n\n      if (textArrLen > 1) {\n        translateY += lineHeightPx;\n      }\n    }\n  };\n\n  Text.prototype._hitFunc = function (context) {\n    var width = this.getWidth(),\n        height = this.getHeight();\n    context.beginPath();\n    context.rect(0, 0, width, height);\n    context.closePath();\n    context.fillStrokeShape(this);\n  };\n\n  Text.prototype.setText = function (text) {\n    var str = Util_1.Util._isString(text) ? text : text === null || text === undefined ? '' : text + '';\n\n    this._setAttr(TEXT, str);\n\n    return this;\n  };\n\n  Text.prototype.getWidth = function () {\n    var isAuto = this.attrs.width === AUTO || this.attrs.width === undefined;\n    return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;\n  };\n\n  Text.prototype.getHeight = function () {\n    var isAuto = this.attrs.height === AUTO || this.attrs.height === undefined;\n    return isAuto ? this.fontSize() * this.textArr.length * this.lineHeight() + this.padding() * 2 : this.attrs.height;\n  };\n\n  Text.prototype.getTextWidth = function () {\n    return this.textWidth;\n  };\n\n  Text.prototype.getTextHeight = function () {\n    Util_1.Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n    return this.textHeight;\n  };\n\n  Text.prototype.measureSize = function (text) {\n    var _context = getDummyContext(),\n        fontSize = this.fontSize(),\n        metrics;\n\n    _context.save();\n\n    _context.font = this._getContextFont();\n    metrics = _context.measureText(text);\n\n    _context.restore();\n\n    return {\n      width: metrics.width,\n      height: fontSize\n    };\n  };\n\n  Text.prototype._getContextFont = function () {\n    if (Global_1.Konva.UA.isIE) {\n      return this.fontStyle() + SPACE + this.fontSize() + PX_SPACE + this.fontFamily();\n    }\n\n    return this.fontStyle() + SPACE + this.fontVariant() + SPACE + (this.fontSize() + PX_SPACE) + normalizeFontFamily(this.fontFamily());\n  };\n\n  Text.prototype._addTextLine = function (line) {\n    if (this.align() === JUSTIFY) {\n      line = line.trim();\n    }\n\n    var width = this._getTextWidth(line);\n\n    return this.textArr.push({\n      text: line,\n      width: width\n    });\n  };\n\n  Text.prototype._getTextWidth = function (text) {\n    var letterSpacing = this.letterSpacing();\n    var length = text.length;\n    return getDummyContext().measureText(text).width + (length ? letterSpacing * (length - 1) : 0);\n  };\n\n  Text.prototype._setTextData = function () {\n    var lines = this.text().split('\\n'),\n        fontSize = +this.fontSize(),\n        textWidth = 0,\n        lineHeightPx = this.lineHeight() * fontSize,\n        width = this.attrs.width,\n        height = this.attrs.height,\n        fixedWidth = width !== AUTO && width !== undefined,\n        fixedHeight = height !== AUTO && height !== undefined,\n        padding = this.padding(),\n        maxWidth = width - padding * 2,\n        maxHeightPx = height - padding * 2,\n        currentHeightPx = 0,\n        wrap = this.wrap(),\n        shouldWrap = wrap !== NONE,\n        wrapAtWord = wrap !== CHAR && shouldWrap,\n        shouldAddEllipsis = this.ellipsis();\n    this.textArr = [];\n    getDummyContext().font = this._getContextFont();\n    var additionalWidth = shouldAddEllipsis ? this._getTextWidth(ELLIPSIS) : 0;\n\n    for (var i = 0, max = lines.length; i < max; ++i) {\n      var line = lines[i];\n\n      var lineWidth = this._getTextWidth(line);\n\n      if (fixedWidth && lineWidth > maxWidth) {\n        while (line.length > 0) {\n          var low = 0,\n              high = line.length,\n              match = '',\n              matchWidth = 0;\n\n          while (low < high) {\n            var mid = low + high >>> 1,\n                substr = line.slice(0, mid + 1),\n                substrWidth = this._getTextWidth(substr) + additionalWidth;\n\n            if (substrWidth <= maxWidth) {\n              low = mid + 1;\n              match = substr + (shouldAddEllipsis ? ELLIPSIS : '');\n              matchWidth = substrWidth;\n            } else {\n              high = mid;\n            }\n          }\n\n          if (match) {\n            if (wrapAtWord) {\n              var wrapIndex;\n              var nextChar = line[match.length];\n              var nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;\n\n              if (nextIsSpaceOrDash && matchWidth <= maxWidth) {\n                wrapIndex = match.length;\n              } else {\n                wrapIndex = Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) + 1;\n              }\n\n              if (wrapIndex > 0) {\n                low = wrapIndex;\n                match = match.slice(0, low);\n                matchWidth = this._getTextWidth(match);\n              }\n            }\n\n            match = match.trimRight();\n\n            this._addTextLine(match);\n\n            textWidth = Math.max(textWidth, matchWidth);\n            currentHeightPx += lineHeightPx;\n\n            if (!shouldWrap || fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n              var lastLine = this.textArr[this.textArr.length - 1];\n\n              if (lastLine) {\n                if (shouldAddEllipsis) {\n                  var haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;\n\n                  if (!haveSpace) {\n                    lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);\n                  }\n\n                  this.textArr.splice(this.textArr.length - 1, 1);\n\n                  this._addTextLine(lastLine.text + ELLIPSIS);\n                }\n              }\n\n              break;\n            }\n\n            line = line.slice(low);\n            line = line.trimLeft();\n\n            if (line.length > 0) {\n              lineWidth = this._getTextWidth(line);\n\n              if (lineWidth <= maxWidth) {\n                this._addTextLine(line);\n\n                currentHeightPx += lineHeightPx;\n                textWidth = Math.max(textWidth, lineWidth);\n                break;\n              }\n            }\n          } else {\n            break;\n          }\n        }\n      } else {\n        this._addTextLine(line);\n\n        currentHeightPx += lineHeightPx;\n        textWidth = Math.max(textWidth, lineWidth);\n      }\n\n      if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n        break;\n      }\n    }\n\n    this.textHeight = fontSize;\n    this.textWidth = textWidth;\n  };\n\n  Text.prototype.getStrokeScaleEnabled = function () {\n    return true;\n  };\n\n  return Text;\n}(Shape_1.Shape);\n\nexports.Text = Text;\nText.prototype._fillFunc = _fillFunc;\nText.prototype._strokeFunc = _strokeFunc;\nText.prototype.className = TEXT_UPPER;\nText.prototype._attrsAffectingSize = ['text', 'fontSize', 'padding', 'wrap', 'lineHeight'];\n\nGlobal_2._registerNode(Text);\n\nFactory_1.Factory.overWriteSetter(Text, 'width', Validators_1.getNumberOrAutoValidator());\nFactory_1.Factory.overWriteSetter(Text, 'height', Validators_1.getNumberOrAutoValidator());\nFactory_1.Factory.addGetterSetter(Text, 'fontFamily', 'Arial');\nFactory_1.Factory.addGetterSetter(Text, 'fontSize', 12, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Text, 'fontStyle', NORMAL);\nFactory_1.Factory.addGetterSetter(Text, 'fontVariant', NORMAL);\nFactory_1.Factory.addGetterSetter(Text, 'padding', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Text, 'align', LEFT);\nFactory_1.Factory.addGetterSetter(Text, 'verticalAlign', TOP);\nFactory_1.Factory.addGetterSetter(Text, 'lineHeight', 1, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Text, 'wrap', WORD);\nFactory_1.Factory.addGetterSetter(Text, 'ellipsis', false, Validators_1.getBooleanValidator());\nFactory_1.Factory.addGetterSetter(Text, 'letterSpacing', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Text, 'text', '', Validators_1.getStringValidator());\nFactory_1.Factory.addGetterSetter(Text, 'textDecoration', '');\nUtil_1.Collection.mapMethods(Text);","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * Based on ReactArt.js\n * Copyright (c) 2017-present Lavrenov Anton.\n * All rights reserved.\n *\n * MIT\n */\n'use strict';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar ReactKonvaCore = require('./ReactKonvaCore'); // import full konva to enable all nodes\n\n\nvar Konva = require('konva');\n\nmodule.exports = _extends({}, ReactKonvaCore);","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Rect = function (_super) {\n  __extends(Rect, _super);\n\n  function Rect() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Rect.prototype._sceneFunc = function (context) {\n    var cornerRadius = this.cornerRadius(),\n        width = this.width(),\n        height = this.height();\n    context.beginPath();\n\n    if (!cornerRadius) {\n      context.rect(0, 0, width, height);\n    } else {\n      var topLeft = 0;\n      var topRight = 0;\n      var bottomLeft = 0;\n      var bottomRight = 0;\n\n      if (typeof cornerRadius === 'number') {\n        topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n      } else {\n        topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n        topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n        bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n        bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n      }\n\n      context.moveTo(topLeft, 0);\n      context.lineTo(width - topRight, 0);\n      context.arc(width - topRight, topRight, topRight, Math.PI * 3 / 2, 0, false);\n      context.lineTo(width, height - bottomRight);\n      context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n      context.lineTo(bottomLeft, height);\n      context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n      context.lineTo(0, topLeft);\n      context.arc(topLeft, topLeft, topLeft, Math.PI, Math.PI * 3 / 2, false);\n    }\n\n    context.closePath();\n    context.fillStrokeShape(this);\n  };\n\n  return Rect;\n}(Shape_1.Shape);\n\nexports.Rect = Rect;\nRect.prototype.className = 'Rect';\n\nGlobal_1._registerNode(Rect);\n\nFactory_1.Factory.addGetterSetter(Rect, 'cornerRadius', 0, Validators_1.getNumberOrArrayOfNumbersValidator(4));\nUtil_1.Collection.mapMethods(Rect);","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nexports.__esModule = true;\nexports.toggleStrictMode = toggleStrictMode;\nexports.applyNodeProps = applyNodeProps;\nexports.updatePicture = updatePicture;\nvar propsToSkip = {\n  children: true,\n  ref: true,\n  key: true,\n  style: true,\n  forwardedRef: true,\n  unstable_applyCache: true,\n  unstable_applyDrawHitFromCache: true\n};\nvar zIndexWarningShowed = false;\nvar dragWarningShowed = false;\nvar EVENTS_NAMESPACE = exports.EVENTS_NAMESPACE = '.react-konva-event';\nvar useStrictMode = false;\n\nfunction toggleStrictMode(value) {\n  useStrictMode = value;\n}\n\nvar DRAGGABLE_WARNING = 'ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\\nConsider to add onDragMove or onDragEnd events.\\nFor more info see: https://github.com/konvajs/react-konva/issues/256\\n';\nvar Z_INDEX_WARNING = 'ReactKonva: You are using \"zIndex\" attribute for a Konva node.\\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\\nFor more info see: https://github.com/konvajs/react-konva/issues/194\\n';\nvar EMPTY_PROPS = {};\n\nfunction applyNodeProps(instance, props) {\n  var oldProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EMPTY_PROPS;\n\n  if (props === oldProps) {\n    console.error('same props');\n  } // don't use zIndex in react-konva\n\n\n  if (!zIndexWarningShowed && 'zIndex' in props) {\n    console.warn(Z_INDEX_WARNING);\n    zIndexWarningShowed = true;\n  } // check correct draggable usage\n\n\n  if (!dragWarningShowed && props.draggable) {\n    var hasPosition = props.x !== undefined || props.y !== undefined;\n    var hasEvents = props.onDragEnd || props.onDragMove;\n\n    if (hasPosition && !hasEvents) {\n      console.warn(DRAGGABLE_WARNING);\n      dragWarningShowed = true;\n    }\n  } // check old props\n  // we need to unset properties that are not in new props\n  // and remove all events\n\n\n  for (var key in oldProps) {\n    if (propsToSkip[key]) {\n      continue;\n    }\n\n    var isEvent = key.slice(0, 2) === 'on';\n    var propChanged = oldProps[key] !== props[key]; // if that is a changed event, we need to remvoe it\n\n    if (isEvent && propChanged) {\n      var eventName = key.substr(2).toLowerCase();\n\n      if (eventName.substr(0, 7) === 'content') {\n        eventName = 'content' + eventName.substr(7, 1).toUpperCase() + eventName.substr(8);\n      }\n\n      instance.off(eventName, oldProps[key]);\n    }\n\n    var toRemove = !props.hasOwnProperty(key);\n\n    if (toRemove) {\n      instance.setAttr(key, undefined);\n    }\n  }\n\n  var strictUpdate = useStrictMode || props._useStrictMode;\n  var updatedProps = {};\n  var hasUpdates = false;\n  var newEvents = {};\n\n  for (var key in props) {\n    if (propsToSkip[key]) {\n      continue;\n    }\n\n    var isEvent = key.slice(0, 2) === 'on';\n    var toAdd = oldProps[key] !== props[key];\n\n    if (isEvent && toAdd) {\n      var eventName = key.substr(2).toLowerCase();\n\n      if (eventName.substr(0, 7) === 'content') {\n        eventName = 'content' + eventName.substr(7, 1).toUpperCase() + eventName.substr(8);\n      } // check that event is not undefined\n\n\n      if (props[key]) {\n        newEvents[eventName] = props[key];\n      }\n    }\n\n    if (!isEvent && (props[key] !== oldProps[key] || strictUpdate && props[key] !== instance.getAttr(key))) {\n      hasUpdates = true;\n      updatedProps[key] = props[key];\n    }\n  }\n\n  if (hasUpdates) {\n    instance.setAttrs(updatedProps);\n    updatePicture(instance);\n  } // subscribe to events AFTER we set attrs\n  // we need it to fix https://github.com/konvajs/react-konva/issues/471\n  // settings attrs may add events. Like \"draggable: true\" will add \"mousedown\" listener\n\n\n  for (var eventName in newEvents) {\n    instance.on(eventName + EVENTS_NAMESPACE, newEvents[eventName]);\n  }\n}\n\nfunction updatePicture(node) {\n  var drawingNode = node.getLayer() || node.getStage();\n  drawingNode && drawingNode.batchDraw();\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nexports.Brighten = function (imageData) {\n  var brightness = this.brightness() * 255,\n      data = imageData.data,\n      len = data.length,\n      i;\n\n  for (i = 0; i < len; i += 4) {\n    data[i] += brightness;\n    data[i + 1] += brightness;\n    data[i + 2] += brightness;\n  }\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'brightness', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);","/* global window */\nimport ponyfill from './ponyfill.js';\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ActionTypes\", {\n  enumerable: true,\n  get: function get() {\n    return _actions.ActionTypes;\n  }\n});\nObject.defineProperty(exports, \"ActionCreators\", {\n  enumerable: true,\n  get: function get() {\n    return _actions.ActionCreators;\n  }\n});\nObject.defineProperty(exports, \"parseActions\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.parseActions;\n  }\n});\nObject.defineProperty(exports, \"isHistory\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.isHistory;\n  }\n});\nObject.defineProperty(exports, \"includeAction\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.includeAction;\n  }\n});\nObject.defineProperty(exports, \"excludeAction\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.excludeAction;\n  }\n});\nObject.defineProperty(exports, \"combineFilters\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.combineFilters;\n  }\n});\nObject.defineProperty(exports, \"groupByActionTypes\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.groupByActionTypes;\n  }\n});\nObject.defineProperty(exports, \"newHistory\", {\n  enumerable: true,\n  get: function get() {\n    return _helpers.newHistory;\n  }\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _reducer[\"default\"];\n  }\n});\n\nvar _actions = require(\"./actions\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _reducer = _interopRequireDefault(require(\"./reducer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.Sepia = function (imageData) {\n  var data = imageData.data,\n      nPixels = data.length,\n      i,\n      r,\n      g,\n      b;\n\n  for (i = 0; i < nPixels; i += 4) {\n    r = data[i + 0];\n    g = data[i + 1];\n    b = data[i + 2];\n    data[i + 0] = Math.min(255, r * 0.393 + g * 0.769 + b * 0.189);\n    data[i + 1] = Math.min(255, r * 0.349 + g * 0.686 + b * 0.168);\n    data[i + 2] = Math.min(255, r * 0.272 + g * 0.534 + b * 0.131);\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.Solarize = function (imageData) {\n  var data = imageData.data,\n      w = imageData.width,\n      h = imageData.height,\n      w4 = w * 4,\n      y = h;\n\n  do {\n    var offsetY = (y - 1) * w4;\n    var x = w;\n\n    do {\n      var offset = offsetY + (x - 1) * 4;\n      var r = data[offset];\n      var g = data[offset + 1];\n      var b = data[offset + 2];\n\n      if (r > 127) {\n        r = 255 - r;\n      }\n\n      if (g > 127) {\n        g = 255 - g;\n      }\n\n      if (b > 127) {\n        b = 255 - b;\n      }\n\n      data[offset] = r;\n      data[offset + 1] = g;\n      data[offset + 2] = b;\n    } while (--x);\n  } while (--y);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Global_1 = require(\"./Global\");\n\nvar Captures = new Map();\nvar SUPPORT_POINTER_EVENTS = Global_1.Konva._global['PointerEvent'] !== undefined;\n\nfunction getCapturedShape(pointerId) {\n  return Captures.get(pointerId);\n}\n\nexports.getCapturedShape = getCapturedShape;\n\nfunction createEvent(evt) {\n  return {\n    evt: evt,\n    pointerId: evt.pointerId\n  };\n}\n\nexports.createEvent = createEvent;\n\nfunction hasPointerCapture(pointerId, shape) {\n  return Captures.get(pointerId) === shape;\n}\n\nexports.hasPointerCapture = hasPointerCapture;\n\nfunction setPointerCapture(pointerId, shape) {\n  releaseCapture(pointerId);\n  var stage = shape.getStage();\n  if (!stage) return;\n  Captures.set(pointerId, shape);\n\n  if (SUPPORT_POINTER_EVENTS) {\n    shape._fire('gotpointercapture', createEvent(new PointerEvent('gotpointercapture')));\n  }\n}\n\nexports.setPointerCapture = setPointerCapture;\n\nfunction releaseCapture(pointerId, target) {\n  var shape = Captures.get(pointerId);\n  if (!shape) return;\n  var stage = shape.getStage();\n\n  if (stage && stage.content) {}\n\n  Captures.delete(pointerId);\n\n  if (SUPPORT_POINTER_EVENTS) {\n    shape._fire('lostpointercapture', createEvent(new PointerEvent('lostpointercapture')));\n  }\n}\n\nexports.releaseCapture = releaseCapture;","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_2 = require(\"../Global\");\n\nvar Arc = function (_super) {\n  __extends(Arc, _super);\n\n  function Arc() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Arc.prototype._sceneFunc = function (context) {\n    var angle = Global_1.Konva.getAngle(this.angle()),\n        clockwise = this.clockwise();\n    context.beginPath();\n    context.arc(0, 0, this.outerRadius(), 0, angle, clockwise);\n    context.arc(0, 0, this.innerRadius(), angle, 0, !clockwise);\n    context.closePath();\n    context.fillStrokeShape(this);\n  };\n\n  Arc.prototype.getWidth = function () {\n    return this.outerRadius() * 2;\n  };\n\n  Arc.prototype.getHeight = function () {\n    return this.outerRadius() * 2;\n  };\n\n  Arc.prototype.setWidth = function (width) {\n    this.outerRadius(width / 2);\n  };\n\n  Arc.prototype.setHeight = function (height) {\n    this.outerRadius(height / 2);\n  };\n\n  return Arc;\n}(Shape_1.Shape);\n\nexports.Arc = Arc;\nArc.prototype._centroid = true;\nArc.prototype.className = 'Arc';\nArc.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n\nGlobal_2._registerNode(Arc);\n\nFactory_1.Factory.addGetterSetter(Arc, 'innerRadius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Arc, 'outerRadius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Arc, 'angle', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Arc, 'clockwise', false, Validators_1.getBooleanValidator());\nUtil_1.Collection.mapMethods(Arc);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.Invert = function (imageData) {\n  var data = imageData.data,\n      len = data.length,\n      i;\n\n  for (i = 0; i < len; i += 4) {\n    data[i] = 255 - data[i];\n    data[i + 1] = 255 - data[i + 1];\n    data[i + 2] = 255 - data[i + 2];\n  }\n};","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Path = function (_super) {\n  __extends(Path, _super);\n\n  function Path(config) {\n    var _this = _super.call(this, config) || this;\n\n    _this.dataArray = [];\n    _this.pathLength = 0;\n    _this.dataArray = Path.parsePathData(_this.data());\n    _this.pathLength = 0;\n\n    for (var i = 0; i < _this.dataArray.length; ++i) {\n      _this.pathLength += _this.dataArray[i].pathLength;\n    }\n\n    _this.on('dataChange.konva', function () {\n      this.dataArray = Path.parsePathData(this.data());\n      this.pathLength = 0;\n\n      for (var i = 0; i < this.dataArray.length; ++i) {\n        this.pathLength += this.dataArray[i].pathLength;\n      }\n    });\n\n    return _this;\n  }\n\n  Path.prototype._sceneFunc = function (context) {\n    var ca = this.dataArray;\n    context.beginPath();\n    var isClosed = false;\n\n    for (var n = 0; n < ca.length; n++) {\n      var c = ca[n].command;\n      var p = ca[n].points;\n\n      switch (c) {\n        case 'L':\n          context.lineTo(p[0], p[1]);\n          break;\n\n        case 'M':\n          context.moveTo(p[0], p[1]);\n          break;\n\n        case 'C':\n          context.bezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5]);\n          break;\n\n        case 'Q':\n          context.quadraticCurveTo(p[0], p[1], p[2], p[3]);\n          break;\n\n        case 'A':\n          var cx = p[0],\n              cy = p[1],\n              rx = p[2],\n              ry = p[3],\n              theta = p[4],\n              dTheta = p[5],\n              psi = p[6],\n              fs = p[7];\n          var r = rx > ry ? rx : ry;\n          var scaleX = rx > ry ? 1 : rx / ry;\n          var scaleY = rx > ry ? ry / rx : 1;\n          context.translate(cx, cy);\n          context.rotate(psi);\n          context.scale(scaleX, scaleY);\n          context.arc(0, 0, r, theta, theta + dTheta, 1 - fs);\n          context.scale(1 / scaleX, 1 / scaleY);\n          context.rotate(-psi);\n          context.translate(-cx, -cy);\n          break;\n\n        case 'z':\n          isClosed = true;\n          context.closePath();\n          break;\n      }\n    }\n\n    if (!isClosed && !this.hasFill()) {\n      context.strokeShape(this);\n    } else {\n      context.fillStrokeShape(this);\n    }\n  };\n\n  Path.prototype.getSelfRect = function () {\n    var points = [];\n    this.dataArray.forEach(function (data) {\n      if (data.command === 'A') {\n        var start = data.points[4];\n        var dTheta = data.points[5];\n        var end = data.points[4] + dTheta;\n        var inc = Math.PI / 180.0;\n\n        if (Math.abs(start - end) < inc) {\n          inc = Math.abs(start - end);\n        }\n\n        if (dTheta < 0) {\n          for (var t = start - inc; t > end; t -= inc) {\n            var point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n            points.push(point.x, point.y);\n          }\n        } else {\n          for (var t = start + inc; t < end; t += inc) {\n            var point = Path.getPointOnEllipticalArc(data.points[0], data.points[1], data.points[2], data.points[3], t, 0);\n            points.push(point.x, point.y);\n          }\n        }\n      } else if (data.command === 'C') {\n        for (var t = 0.0; t <= 1; t += 0.01) {\n          var point = Path.getPointOnCubicBezier(t, data.start.x, data.start.y, data.points[0], data.points[1], data.points[2], data.points[3], data.points[4], data.points[5]);\n          points.push(point.x, point.y);\n        }\n      } else {\n        points = points.concat(data.points);\n      }\n    });\n    var minX = points[0];\n    var maxX = points[0];\n    var minY = points[1];\n    var maxY = points[1];\n    var x, y;\n\n    for (var i = 0; i < points.length / 2; i++) {\n      x = points[i * 2];\n      y = points[i * 2 + 1];\n\n      if (!isNaN(x)) {\n        minX = Math.min(minX, x);\n        maxX = Math.max(maxX, x);\n      }\n\n      if (!isNaN(y)) {\n        minY = Math.min(minY, y);\n        maxY = Math.max(maxY, y);\n      }\n    }\n\n    return {\n      x: Math.round(minX),\n      y: Math.round(minY),\n      width: Math.round(maxX - minX),\n      height: Math.round(maxY - minY)\n    };\n  };\n\n  Path.prototype.getLength = function () {\n    return this.pathLength;\n  };\n\n  Path.prototype.getPointAtLength = function (length) {\n    var point,\n        i = 0,\n        ii = this.dataArray.length;\n\n    if (!ii) {\n      return null;\n    }\n\n    while (i < ii && length > this.dataArray[i].pathLength) {\n      length -= this.dataArray[i].pathLength;\n      ++i;\n    }\n\n    if (i === ii) {\n      point = this.dataArray[i - 1].points.slice(-2);\n      return {\n        x: point[0],\n        y: point[1]\n      };\n    }\n\n    if (length < 0.01) {\n      point = this.dataArray[i].points.slice(0, 2);\n      return {\n        x: point[0],\n        y: point[1]\n      };\n    }\n\n    var cp = this.dataArray[i];\n    var p = cp.points;\n\n    switch (cp.command) {\n      case 'L':\n        return Path.getPointOnLine(length, cp.start.x, cp.start.y, p[0], p[1]);\n\n      case 'C':\n        return Path.getPointOnCubicBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3], p[4], p[5]);\n\n      case 'Q':\n        return Path.getPointOnQuadraticBezier(length / cp.pathLength, cp.start.x, cp.start.y, p[0], p[1], p[2], p[3]);\n\n      case 'A':\n        var cx = p[0],\n            cy = p[1],\n            rx = p[2],\n            ry = p[3],\n            theta = p[4],\n            dTheta = p[5],\n            psi = p[6];\n        theta += dTheta * length / cp.pathLength;\n        return Path.getPointOnEllipticalArc(cx, cy, rx, ry, theta, psi);\n    }\n\n    return null;\n  };\n\n  Path.getLineLength = function (x1, y1, x2, y2) {\n    return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n  };\n\n  Path.getPointOnLine = function (dist, P1x, P1y, P2x, P2y, fromX, fromY) {\n    if (fromX === undefined) {\n      fromX = P1x;\n    }\n\n    if (fromY === undefined) {\n      fromY = P1y;\n    }\n\n    var m = (P2y - P1y) / (P2x - P1x + 0.00000001);\n    var run = Math.sqrt(dist * dist / (1 + m * m));\n\n    if (P2x < P1x) {\n      run *= -1;\n    }\n\n    var rise = m * run;\n    var pt;\n\n    if (P2x === P1x) {\n      pt = {\n        x: fromX,\n        y: fromY + rise\n      };\n    } else if ((fromY - P1y) / (fromX - P1x + 0.00000001) === m) {\n      pt = {\n        x: fromX + run,\n        y: fromY + rise\n      };\n    } else {\n      var ix, iy;\n      var len = this.getLineLength(P1x, P1y, P2x, P2y);\n\n      if (len < 0.00000001) {\n        return undefined;\n      }\n\n      var u = (fromX - P1x) * (P2x - P1x) + (fromY - P1y) * (P2y - P1y);\n      u = u / (len * len);\n      ix = P1x + u * (P2x - P1x);\n      iy = P1y + u * (P2y - P1y);\n      var pRise = this.getLineLength(fromX, fromY, ix, iy);\n      var pRun = Math.sqrt(dist * dist - pRise * pRise);\n      run = Math.sqrt(pRun * pRun / (1 + m * m));\n\n      if (P2x < P1x) {\n        run *= -1;\n      }\n\n      rise = m * run;\n      pt = {\n        x: ix + run,\n        y: iy + rise\n      };\n    }\n\n    return pt;\n  };\n\n  Path.getPointOnCubicBezier = function (pct, P1x, P1y, P2x, P2y, P3x, P3y, P4x, P4y) {\n    function CB1(t) {\n      return t * t * t;\n    }\n\n    function CB2(t) {\n      return 3 * t * t * (1 - t);\n    }\n\n    function CB3(t) {\n      return 3 * t * (1 - t) * (1 - t);\n    }\n\n    function CB4(t) {\n      return (1 - t) * (1 - t) * (1 - t);\n    }\n\n    var x = P4x * CB1(pct) + P3x * CB2(pct) + P2x * CB3(pct) + P1x * CB4(pct);\n    var y = P4y * CB1(pct) + P3y * CB2(pct) + P2y * CB3(pct) + P1y * CB4(pct);\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  Path.getPointOnQuadraticBezier = function (pct, P1x, P1y, P2x, P2y, P3x, P3y) {\n    function QB1(t) {\n      return t * t;\n    }\n\n    function QB2(t) {\n      return 2 * t * (1 - t);\n    }\n\n    function QB3(t) {\n      return (1 - t) * (1 - t);\n    }\n\n    var x = P3x * QB1(pct) + P2x * QB2(pct) + P1x * QB3(pct);\n    var y = P3y * QB1(pct) + P2y * QB2(pct) + P1y * QB3(pct);\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  Path.getPointOnEllipticalArc = function (cx, cy, rx, ry, theta, psi) {\n    var cosPsi = Math.cos(psi),\n        sinPsi = Math.sin(psi);\n    var pt = {\n      x: rx * Math.cos(theta),\n      y: ry * Math.sin(theta)\n    };\n    return {\n      x: cx + (pt.x * cosPsi - pt.y * sinPsi),\n      y: cy + (pt.x * sinPsi + pt.y * cosPsi)\n    };\n  };\n\n  Path.parsePathData = function (data) {\n    if (!data) {\n      return [];\n    }\n\n    var cs = data;\n    var cc = ['m', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z', 'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'];\n    cs = cs.replace(new RegExp(' ', 'g'), ',');\n\n    for (var n = 0; n < cc.length; n++) {\n      cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n    }\n\n    var arr = cs.split('|');\n    var ca = [];\n    var coords = [];\n    var cpx = 0;\n    var cpy = 0;\n    var re = /([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:e[-+]?\\d+)?)/gi;\n    var match;\n\n    for (n = 1; n < arr.length; n++) {\n      var str = arr[n];\n      var c = str.charAt(0);\n      str = str.slice(1);\n      coords.length = 0;\n\n      while (match = re.exec(str)) {\n        coords.push(match[0]);\n      }\n\n      var p = [];\n\n      for (var j = 0, jlen = coords.length; j < jlen; j++) {\n        var parsed = parseFloat(coords[j]);\n\n        if (!isNaN(parsed)) {\n          p.push(parsed);\n        } else {\n          p.push(0);\n        }\n      }\n\n      while (p.length > 0) {\n        if (isNaN(p[0])) {\n          break;\n        }\n\n        var cmd = null;\n        var points = [];\n        var startX = cpx,\n            startY = cpy;\n        var prevCmd, ctlPtx, ctlPty;\n        var rx, ry, psi, fa, fs, x1, y1;\n\n        switch (c) {\n          case 'l':\n            cpx += p.shift();\n            cpy += p.shift();\n            cmd = 'L';\n            points.push(cpx, cpy);\n            break;\n\n          case 'L':\n            cpx = p.shift();\n            cpy = p.shift();\n            points.push(cpx, cpy);\n            break;\n\n          case 'm':\n            var dx = p.shift();\n            var dy = p.shift();\n            cpx += dx;\n            cpy += dy;\n            cmd = 'M';\n\n            if (ca.length > 2 && ca[ca.length - 1].command === 'z') {\n              for (var idx = ca.length - 2; idx >= 0; idx--) {\n                if (ca[idx].command === 'M') {\n                  cpx = ca[idx].points[0] + dx;\n                  cpy = ca[idx].points[1] + dy;\n                  break;\n                }\n              }\n            }\n\n            points.push(cpx, cpy);\n            c = 'l';\n            break;\n\n          case 'M':\n            cpx = p.shift();\n            cpy = p.shift();\n            cmd = 'M';\n            points.push(cpx, cpy);\n            c = 'L';\n            break;\n\n          case 'h':\n            cpx += p.shift();\n            cmd = 'L';\n            points.push(cpx, cpy);\n            break;\n\n          case 'H':\n            cpx = p.shift();\n            cmd = 'L';\n            points.push(cpx, cpy);\n            break;\n\n          case 'v':\n            cpy += p.shift();\n            cmd = 'L';\n            points.push(cpx, cpy);\n            break;\n\n          case 'V':\n            cpy = p.shift();\n            cmd = 'L';\n            points.push(cpx, cpy);\n            break;\n\n          case 'C':\n            points.push(p.shift(), p.shift(), p.shift(), p.shift());\n            cpx = p.shift();\n            cpy = p.shift();\n            points.push(cpx, cpy);\n            break;\n\n          case 'c':\n            points.push(cpx + p.shift(), cpy + p.shift(), cpx + p.shift(), cpy + p.shift());\n            cpx += p.shift();\n            cpy += p.shift();\n            cmd = 'C';\n            points.push(cpx, cpy);\n            break;\n\n          case 'S':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            prevCmd = ca[ca.length - 1];\n\n            if (prevCmd.command === 'C') {\n              ctlPtx = cpx + (cpx - prevCmd.points[2]);\n              ctlPty = cpy + (cpy - prevCmd.points[3]);\n            }\n\n            points.push(ctlPtx, ctlPty, p.shift(), p.shift());\n            cpx = p.shift();\n            cpy = p.shift();\n            cmd = 'C';\n            points.push(cpx, cpy);\n            break;\n\n          case 's':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            prevCmd = ca[ca.length - 1];\n\n            if (prevCmd.command === 'C') {\n              ctlPtx = cpx + (cpx - prevCmd.points[2]);\n              ctlPty = cpy + (cpy - prevCmd.points[3]);\n            }\n\n            points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());\n            cpx += p.shift();\n            cpy += p.shift();\n            cmd = 'C';\n            points.push(cpx, cpy);\n            break;\n\n          case 'Q':\n            points.push(p.shift(), p.shift());\n            cpx = p.shift();\n            cpy = p.shift();\n            points.push(cpx, cpy);\n            break;\n\n          case 'q':\n            points.push(cpx + p.shift(), cpy + p.shift());\n            cpx += p.shift();\n            cpy += p.shift();\n            cmd = 'Q';\n            points.push(cpx, cpy);\n            break;\n\n          case 'T':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            prevCmd = ca[ca.length - 1];\n\n            if (prevCmd.command === 'Q') {\n              ctlPtx = cpx + (cpx - prevCmd.points[0]);\n              ctlPty = cpy + (cpy - prevCmd.points[1]);\n            }\n\n            cpx = p.shift();\n            cpy = p.shift();\n            cmd = 'Q';\n            points.push(ctlPtx, ctlPty, cpx, cpy);\n            break;\n\n          case 't':\n            ctlPtx = cpx;\n            ctlPty = cpy;\n            prevCmd = ca[ca.length - 1];\n\n            if (prevCmd.command === 'Q') {\n              ctlPtx = cpx + (cpx - prevCmd.points[0]);\n              ctlPty = cpy + (cpy - prevCmd.points[1]);\n            }\n\n            cpx += p.shift();\n            cpy += p.shift();\n            cmd = 'Q';\n            points.push(ctlPtx, ctlPty, cpx, cpy);\n            break;\n\n          case 'A':\n            rx = p.shift();\n            ry = p.shift();\n            psi = p.shift();\n            fa = p.shift();\n            fs = p.shift();\n            x1 = cpx;\n            y1 = cpy;\n            cpx = p.shift();\n            cpy = p.shift();\n            cmd = 'A';\n            points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n            break;\n\n          case 'a':\n            rx = p.shift();\n            ry = p.shift();\n            psi = p.shift();\n            fa = p.shift();\n            fs = p.shift();\n            x1 = cpx;\n            y1 = cpy;\n            cpx += p.shift();\n            cpy += p.shift();\n            cmd = 'A';\n            points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);\n            break;\n        }\n\n        ca.push({\n          command: cmd || c,\n          points: points,\n          start: {\n            x: startX,\n            y: startY\n          },\n          pathLength: this.calcLength(startX, startY, cmd || c, points)\n        });\n      }\n\n      if (c === 'z' || c === 'Z') {\n        ca.push({\n          command: 'z',\n          points: [],\n          start: undefined,\n          pathLength: 0\n        });\n      }\n    }\n\n    return ca;\n  };\n\n  Path.calcLength = function (x, y, cmd, points) {\n    var len, p1, p2, t;\n    var path = Path;\n\n    switch (cmd) {\n      case 'L':\n        return path.getLineLength(x, y, points[0], points[1]);\n\n      case 'C':\n        len = 0.0;\n        p1 = path.getPointOnCubicBezier(0, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n\n        for (t = 0.01; t <= 1; t += 0.01) {\n          p2 = path.getPointOnCubicBezier(t, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);\n          len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n          p1 = p2;\n        }\n\n        return len;\n\n      case 'Q':\n        len = 0.0;\n        p1 = path.getPointOnQuadraticBezier(0, x, y, points[0], points[1], points[2], points[3]);\n\n        for (t = 0.01; t <= 1; t += 0.01) {\n          p2 = path.getPointOnQuadraticBezier(t, x, y, points[0], points[1], points[2], points[3]);\n          len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n          p1 = p2;\n        }\n\n        return len;\n\n      case 'A':\n        len = 0.0;\n        var start = points[4];\n        var dTheta = points[5];\n        var end = points[4] + dTheta;\n        var inc = Math.PI / 180.0;\n\n        if (Math.abs(start - end) < inc) {\n          inc = Math.abs(start - end);\n        }\n\n        p1 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], start, 0);\n\n        if (dTheta < 0) {\n          for (t = start - inc; t > end; t -= inc) {\n            p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n            len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n            p1 = p2;\n          }\n        } else {\n          for (t = start + inc; t < end; t += inc) {\n            p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);\n            len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n            p1 = p2;\n          }\n        }\n\n        p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], end, 0);\n        len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);\n        return len;\n    }\n\n    return 0;\n  };\n\n  Path.convertEndpointToCenterParameterization = function (x1, y1, x2, y2, fa, fs, rx, ry, psiDeg) {\n    var psi = psiDeg * (Math.PI / 180.0);\n    var xp = Math.cos(psi) * (x1 - x2) / 2.0 + Math.sin(psi) * (y1 - y2) / 2.0;\n    var yp = -1 * Math.sin(psi) * (x1 - x2) / 2.0 + Math.cos(psi) * (y1 - y2) / 2.0;\n    var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n\n    if (lambda > 1) {\n      rx *= Math.sqrt(lambda);\n      ry *= Math.sqrt(lambda);\n    }\n\n    var f = Math.sqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp)));\n\n    if (fa === fs) {\n      f *= -1;\n    }\n\n    if (isNaN(f)) {\n      f = 0;\n    }\n\n    var cxp = f * rx * yp / ry;\n    var cyp = f * -ry * xp / rx;\n    var cx = (x1 + x2) / 2.0 + Math.cos(psi) * cxp - Math.sin(psi) * cyp;\n    var cy = (y1 + y2) / 2.0 + Math.sin(psi) * cxp + Math.cos(psi) * cyp;\n\n    var vMag = function vMag(v) {\n      return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n    };\n\n    var vRatio = function vRatio(u, v) {\n      return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n    };\n\n    var vAngle = function vAngle(u, v) {\n      return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n    };\n\n    var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    var dTheta = vAngle(u, v);\n\n    if (vRatio(u, v) <= -1) {\n      dTheta = Math.PI;\n    }\n\n    if (vRatio(u, v) >= 1) {\n      dTheta = 0;\n    }\n\n    if (fs === 0 && dTheta > 0) {\n      dTheta = dTheta - 2 * Math.PI;\n    }\n\n    if (fs === 1 && dTheta < 0) {\n      dTheta = dTheta + 2 * Math.PI;\n    }\n\n    return [cx, cy, rx, ry, theta, dTheta, psi, fs];\n  };\n\n  return Path;\n}(Shape_1.Shape);\n\nexports.Path = Path;\nPath.prototype.className = 'Path';\nPath.prototype._attrsAffectingSize = ['data'];\n\nGlobal_1._registerNode(Path);\n\nFactory_1.Factory.addGetterSetter(Path, 'data');\nUtil_1.Collection.mapMethods(Path);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nexports.RGB = function (imageData) {\n  var data = imageData.data,\n      nPixels = data.length,\n      red = this.red(),\n      green = this.green(),\n      blue = this.blue(),\n      i,\n      brightness;\n\n  for (i = 0; i < nPixels; i += 4) {\n    brightness = (0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2]) / 255;\n    data[i] = brightness * red;\n    data[i + 1] = brightness * green;\n    data[i + 2] = brightness * blue;\n    data[i + 3] = data[i + 3];\n  }\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'red', 0, function (val) {\n  this._filterUpToDate = false;\n\n  if (val > 255) {\n    return 255;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return Math.round(val);\n  }\n});\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'green', 0, function (val) {\n  this._filterUpToDate = false;\n\n  if (val > 255) {\n    return 255;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return Math.round(val);\n  }\n});\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'blue', 0, Validators_1.RGBComponent, Factory_1.Factory.afterSetFilter);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'hue', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'saturation', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'luminance', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);\n\nexports.HSL = function (imageData) {\n  var data = imageData.data,\n      nPixels = data.length,\n      v = 1,\n      s = Math.pow(2, this.saturation()),\n      h = Math.abs(this.hue() + 360) % 360,\n      l = this.luminance() * 127,\n      i;\n  var vsu = v * s * Math.cos(h * Math.PI / 180),\n      vsw = v * s * Math.sin(h * Math.PI / 180);\n  var rr = 0.299 * v + 0.701 * vsu + 0.167 * vsw,\n      rg = 0.587 * v - 0.587 * vsu + 0.33 * vsw,\n      rb = 0.114 * v - 0.114 * vsu - 0.497 * vsw;\n  var gr = 0.299 * v - 0.299 * vsu - 0.328 * vsw,\n      gg = 0.587 * v + 0.413 * vsu + 0.035 * vsw,\n      gb = 0.114 * v - 0.114 * vsu + 0.293 * vsw;\n  var br = 0.299 * v - 0.3 * vsu + 1.25 * vsw,\n      bg = 0.587 * v - 0.586 * vsu - 1.05 * vsw,\n      bb = 0.114 * v + 0.886 * vsu - 0.2 * vsw;\n  var r, g, b, a;\n\n  for (i = 0; i < nPixels; i += 4) {\n    r = data[i + 0];\n    g = data[i + 1];\n    b = data[i + 2];\n    a = data[i + 3];\n    data[i + 0] = rr * r + rg * g + rb * b + l;\n    data[i + 1] = gr * r + gg * g + gb * b + l;\n    data[i + 2] = br * r + bg * g + bb * b + l;\n    data[i + 3] = a;\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nfunction pixelAt(idata, x, y) {\n  var idx = (y * idata.width + x) * 4;\n  var d = [];\n  d.push(idata.data[idx++], idata.data[idx++], idata.data[idx++], idata.data[idx++]);\n  return d;\n}\n\nfunction rgbDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2) + Math.pow(p1[2] - p2[2], 2));\n}\n\nfunction rgbMean(pTab) {\n  var m = [0, 0, 0];\n\n  for (var i = 0; i < pTab.length; i++) {\n    m[0] += pTab[i][0];\n    m[1] += pTab[i][1];\n    m[2] += pTab[i][2];\n  }\n\n  m[0] /= pTab.length;\n  m[1] /= pTab.length;\n  m[2] /= pTab.length;\n  return m;\n}\n\nfunction backgroundMask(idata, threshold) {\n  var rgbv_no = pixelAt(idata, 0, 0);\n  var rgbv_ne = pixelAt(idata, idata.width - 1, 0);\n  var rgbv_so = pixelAt(idata, 0, idata.height - 1);\n  var rgbv_se = pixelAt(idata, idata.width - 1, idata.height - 1);\n  var thres = threshold || 10;\n\n  if (rgbDistance(rgbv_no, rgbv_ne) < thres && rgbDistance(rgbv_ne, rgbv_se) < thres && rgbDistance(rgbv_se, rgbv_so) < thres && rgbDistance(rgbv_so, rgbv_no) < thres) {\n    var mean = rgbMean([rgbv_ne, rgbv_no, rgbv_se, rgbv_so]);\n    var mask = [];\n\n    for (var i = 0; i < idata.width * idata.height; i++) {\n      var d = rgbDistance(mean, [idata.data[i * 4], idata.data[i * 4 + 1], idata.data[i * 4 + 2]]);\n      mask[i] = d < thres ? 0 : 255;\n    }\n\n    return mask;\n  }\n}\n\nfunction applyMask(idata, mask) {\n  for (var i = 0; i < idata.width * idata.height; i++) {\n    idata.data[4 * i + 3] = mask[i];\n  }\n}\n\nfunction erodeMask(mask, sw, sh) {\n  var weights = [1, 1, 1, 1, 0, 1, 1, 1, 1];\n  var side = Math.round(Math.sqrt(weights.length));\n  var halfSide = Math.floor(side / 2);\n  var maskResult = [];\n\n  for (var y = 0; y < sh; y++) {\n    for (var x = 0; x < sw; x++) {\n      var so = y * sw + x;\n      var a = 0;\n\n      for (var cy = 0; cy < side; cy++) {\n        for (var cx = 0; cx < side; cx++) {\n          var scy = y + cy - halfSide;\n          var scx = x + cx - halfSide;\n\n          if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n            var srcOff = scy * sw + scx;\n            var wt = weights[cy * side + cx];\n            a += mask[srcOff] * wt;\n          }\n        }\n      }\n\n      maskResult[so] = a === 255 * 8 ? 255 : 0;\n    }\n  }\n\n  return maskResult;\n}\n\nfunction dilateMask(mask, sw, sh) {\n  var weights = [1, 1, 1, 1, 1, 1, 1, 1, 1];\n  var side = Math.round(Math.sqrt(weights.length));\n  var halfSide = Math.floor(side / 2);\n  var maskResult = [];\n\n  for (var y = 0; y < sh; y++) {\n    for (var x = 0; x < sw; x++) {\n      var so = y * sw + x;\n      var a = 0;\n\n      for (var cy = 0; cy < side; cy++) {\n        for (var cx = 0; cx < side; cx++) {\n          var scy = y + cy - halfSide;\n          var scx = x + cx - halfSide;\n\n          if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n            var srcOff = scy * sw + scx;\n            var wt = weights[cy * side + cx];\n            a += mask[srcOff] * wt;\n          }\n        }\n      }\n\n      maskResult[so] = a >= 255 * 4 ? 255 : 0;\n    }\n  }\n\n  return maskResult;\n}\n\nfunction smoothEdgeMask(mask, sw, sh) {\n  var weights = [1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9];\n  var side = Math.round(Math.sqrt(weights.length));\n  var halfSide = Math.floor(side / 2);\n  var maskResult = [];\n\n  for (var y = 0; y < sh; y++) {\n    for (var x = 0; x < sw; x++) {\n      var so = y * sw + x;\n      var a = 0;\n\n      for (var cy = 0; cy < side; cy++) {\n        for (var cx = 0; cx < side; cx++) {\n          var scy = y + cy - halfSide;\n          var scx = x + cx - halfSide;\n\n          if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n            var srcOff = scy * sw + scx;\n            var wt = weights[cy * side + cx];\n            a += mask[srcOff] * wt;\n          }\n        }\n      }\n\n      maskResult[so] = a;\n    }\n  }\n\n  return maskResult;\n}\n\nexports.Mask = function (imageData) {\n  var threshold = this.threshold(),\n      mask = backgroundMask(imageData, threshold);\n\n  if (mask) {\n    mask = erodeMask(mask, imageData.width, imageData.height);\n    mask = dilateMask(mask, imageData.width, imageData.height);\n    mask = smoothEdgeMask(mask, imageData.width, imageData.height);\n    applyMask(imageData, mask);\n  }\n\n  return imageData;\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'threshold', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_2 = require(\"../Global\");\n\nvar Wedge = function (_super) {\n  __extends(Wedge, _super);\n\n  function Wedge() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Wedge.prototype._sceneFunc = function (context) {\n    context.beginPath();\n    context.arc(0, 0, this.radius(), 0, Global_1.Konva.getAngle(this.angle()), this.clockwise());\n    context.lineTo(0, 0);\n    context.closePath();\n    context.fillStrokeShape(this);\n  };\n\n  Wedge.prototype.getWidth = function () {\n    return this.radius() * 2;\n  };\n\n  Wedge.prototype.getHeight = function () {\n    return this.radius() * 2;\n  };\n\n  Wedge.prototype.setWidth = function (width) {\n    this.radius(width / 2);\n  };\n\n  Wedge.prototype.setHeight = function (height) {\n    this.radius(height / 2);\n  };\n\n  return Wedge;\n}(Shape_1.Shape);\n\nexports.Wedge = Wedge;\nWedge.prototype.className = 'Wedge';\nWedge.prototype._centroid = true;\nWedge.prototype._attrsAffectingSize = ['radius'];\n\nGlobal_2._registerNode(Wedge);\n\nFactory_1.Factory.addGetterSetter(Wedge, 'radius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Wedge, 'angle', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Wedge, 'clockwise', false);\nFactory_1.Factory.backCompat(Wedge, {\n  angleDeg: 'angle',\n  getAngleDeg: 'getAngle',\n  setAngleDeg: 'setAngle'\n});\nUtil_1.Collection.mapMethods(Wedge);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Global_1 = require(\"./Global\");\n\nvar Collection = function () {\n  function Collection() {}\n\n  Collection.toCollection = function (arr) {\n    var collection = new Collection(),\n        len = arr.length,\n        n;\n\n    for (n = 0; n < len; n++) {\n      collection.push(arr[n]);\n    }\n\n    return collection;\n  };\n\n  Collection._mapMethod = function (methodName) {\n    Collection.prototype[methodName] = function () {\n      var len = this.length,\n          i;\n      var args = [].slice.call(arguments);\n\n      for (i = 0; i < len; i++) {\n        this[i][methodName].apply(this[i], args);\n      }\n\n      return this;\n    };\n  };\n\n  Collection.mapMethods = function (constructor) {\n    var prot = constructor.prototype;\n\n    for (var methodName in prot) {\n      Collection._mapMethod(methodName);\n    }\n  };\n\n  return Collection;\n}();\n\nexports.Collection = Collection;\nCollection.prototype = [];\n\nCollection.prototype.each = function (func) {\n  for (var n = 0; n < this.length; n++) {\n    func(this[n], n);\n  }\n};\n\nCollection.prototype.toArray = function () {\n  var arr = [],\n      len = this.length,\n      n;\n\n  for (n = 0; n < len; n++) {\n    arr.push(this[n]);\n  }\n\n  return arr;\n};\n\nvar Transform = function () {\n  function Transform(m) {\n    if (m === void 0) {\n      m = [1, 0, 0, 1, 0, 0];\n    }\n\n    this.dirty = false;\n    this.m = m && m.slice() || [1, 0, 0, 1, 0, 0];\n  }\n\n  Transform.prototype.reset = function () {\n    this.m[0] = 1;\n    this.m[1] = 0;\n    this.m[2] = 0;\n    this.m[3] = 1;\n    this.m[4] = 0;\n    this.m[5] = 0;\n  };\n\n  Transform.prototype.copy = function () {\n    return new Transform(this.m);\n  };\n\n  Transform.prototype.copyInto = function (tr) {\n    tr.m[0] = this.m[0];\n    tr.m[1] = this.m[1];\n    tr.m[2] = this.m[2];\n    tr.m[3] = this.m[3];\n    tr.m[4] = this.m[4];\n    tr.m[5] = this.m[5];\n  };\n\n  Transform.prototype.point = function (point) {\n    var m = this.m;\n    return {\n      x: m[0] * point.x + m[2] * point.y + m[4],\n      y: m[1] * point.x + m[3] * point.y + m[5]\n    };\n  };\n\n  Transform.prototype.translate = function (x, y) {\n    this.m[4] += this.m[0] * x + this.m[2] * y;\n    this.m[5] += this.m[1] * x + this.m[3] * y;\n    return this;\n  };\n\n  Transform.prototype.scale = function (sx, sy) {\n    this.m[0] *= sx;\n    this.m[1] *= sx;\n    this.m[2] *= sy;\n    this.m[3] *= sy;\n    return this;\n  };\n\n  Transform.prototype.rotate = function (rad) {\n    var c = Math.cos(rad);\n    var s = Math.sin(rad);\n    var m11 = this.m[0] * c + this.m[2] * s;\n    var m12 = this.m[1] * c + this.m[3] * s;\n    var m21 = this.m[0] * -s + this.m[2] * c;\n    var m22 = this.m[1] * -s + this.m[3] * c;\n    this.m[0] = m11;\n    this.m[1] = m12;\n    this.m[2] = m21;\n    this.m[3] = m22;\n    return this;\n  };\n\n  Transform.prototype.getTranslation = function () {\n    return {\n      x: this.m[4],\n      y: this.m[5]\n    };\n  };\n\n  Transform.prototype.skew = function (sx, sy) {\n    var m11 = this.m[0] + this.m[2] * sy;\n    var m12 = this.m[1] + this.m[3] * sy;\n    var m21 = this.m[2] + this.m[0] * sx;\n    var m22 = this.m[3] + this.m[1] * sx;\n    this.m[0] = m11;\n    this.m[1] = m12;\n    this.m[2] = m21;\n    this.m[3] = m22;\n    return this;\n  };\n\n  Transform.prototype.multiply = function (matrix) {\n    var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n    var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n    var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n    var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n    var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n    var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n    this.m[0] = m11;\n    this.m[1] = m12;\n    this.m[2] = m21;\n    this.m[3] = m22;\n    this.m[4] = dx;\n    this.m[5] = dy;\n    return this;\n  };\n\n  Transform.prototype.invert = function () {\n    var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n    var m0 = this.m[3] * d;\n    var m1 = -this.m[1] * d;\n    var m2 = -this.m[2] * d;\n    var m3 = this.m[0] * d;\n    var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n    var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n    this.m[0] = m0;\n    this.m[1] = m1;\n    this.m[2] = m2;\n    this.m[3] = m3;\n    this.m[4] = m4;\n    this.m[5] = m5;\n    return this;\n  };\n\n  Transform.prototype.getMatrix = function () {\n    return this.m;\n  };\n\n  Transform.prototype.setAbsolutePosition = function (x, y) {\n    var m0 = this.m[0],\n        m1 = this.m[1],\n        m2 = this.m[2],\n        m3 = this.m[3],\n        m4 = this.m[4],\n        m5 = this.m[5],\n        yt = (m0 * (y - m5) - m1 * (x - m4)) / (m0 * m3 - m1 * m2),\n        xt = (x - m4 - m2 * yt) / m0;\n    return this.translate(xt, yt);\n  };\n\n  Transform.prototype.decompose = function () {\n    var a = this.m[0];\n    var b = this.m[1];\n    var c = this.m[2];\n    var d = this.m[3];\n    var e = this.m[4];\n    var f = this.m[5];\n    var delta = a * d - b * c;\n    var result = {\n      x: e,\n      y: f,\n      rotation: 0,\n      scaleX: 0,\n      scaleY: 0,\n      skewX: 0,\n      skewY: 0\n    };\n\n    if (a != 0 || b != 0) {\n      var r = Math.sqrt(a * a + b * b);\n      result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n      result.scaleX = r;\n      result.scaleY = delta / r;\n      result.skewX = (a * c + b * d) / delta;\n      result.skewY = 0;\n    } else if (c != 0 || d != 0) {\n      var s = Math.sqrt(c * c + d * d);\n      result.rotation = Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n      result.scaleX = delta / s;\n      result.scaleY = s;\n      result.skewX = 0;\n      result.skewY = (a * c + b * d) / delta;\n    } else {}\n\n    result.rotation = exports.Util._getRotation(result.rotation);\n    return result;\n  };\n\n  return Transform;\n}();\n\nexports.Transform = Transform;\nvar OBJECT_ARRAY = '[object Array]',\n    OBJECT_NUMBER = '[object Number]',\n    OBJECT_STRING = '[object String]',\n    OBJECT_BOOLEAN = '[object Boolean]',\n    PI_OVER_DEG180 = Math.PI / 180,\n    DEG180_OVER_PI = 180 / Math.PI,\n    HASH = '#',\n    EMPTY_STRING = '',\n    ZERO = '0',\n    KONVA_WARNING = 'Konva warning: ',\n    KONVA_ERROR = 'Konva error: ',\n    RGB_PAREN = 'rgb(',\n    COLORS = {\n  aliceblue: [240, 248, 255],\n  antiquewhite: [250, 235, 215],\n  aqua: [0, 255, 255],\n  aquamarine: [127, 255, 212],\n  azure: [240, 255, 255],\n  beige: [245, 245, 220],\n  bisque: [255, 228, 196],\n  black: [0, 0, 0],\n  blanchedalmond: [255, 235, 205],\n  blue: [0, 0, 255],\n  blueviolet: [138, 43, 226],\n  brown: [165, 42, 42],\n  burlywood: [222, 184, 135],\n  cadetblue: [95, 158, 160],\n  chartreuse: [127, 255, 0],\n  chocolate: [210, 105, 30],\n  coral: [255, 127, 80],\n  cornflowerblue: [100, 149, 237],\n  cornsilk: [255, 248, 220],\n  crimson: [220, 20, 60],\n  cyan: [0, 255, 255],\n  darkblue: [0, 0, 139],\n  darkcyan: [0, 139, 139],\n  darkgoldenrod: [184, 132, 11],\n  darkgray: [169, 169, 169],\n  darkgreen: [0, 100, 0],\n  darkgrey: [169, 169, 169],\n  darkkhaki: [189, 183, 107],\n  darkmagenta: [139, 0, 139],\n  darkolivegreen: [85, 107, 47],\n  darkorange: [255, 140, 0],\n  darkorchid: [153, 50, 204],\n  darkred: [139, 0, 0],\n  darksalmon: [233, 150, 122],\n  darkseagreen: [143, 188, 143],\n  darkslateblue: [72, 61, 139],\n  darkslategray: [47, 79, 79],\n  darkslategrey: [47, 79, 79],\n  darkturquoise: [0, 206, 209],\n  darkviolet: [148, 0, 211],\n  deeppink: [255, 20, 147],\n  deepskyblue: [0, 191, 255],\n  dimgray: [105, 105, 105],\n  dimgrey: [105, 105, 105],\n  dodgerblue: [30, 144, 255],\n  firebrick: [178, 34, 34],\n  floralwhite: [255, 255, 240],\n  forestgreen: [34, 139, 34],\n  fuchsia: [255, 0, 255],\n  gainsboro: [220, 220, 220],\n  ghostwhite: [248, 248, 255],\n  gold: [255, 215, 0],\n  goldenrod: [218, 165, 32],\n  gray: [128, 128, 128],\n  green: [0, 128, 0],\n  greenyellow: [173, 255, 47],\n  grey: [128, 128, 128],\n  honeydew: [240, 255, 240],\n  hotpink: [255, 105, 180],\n  indianred: [205, 92, 92],\n  indigo: [75, 0, 130],\n  ivory: [255, 255, 240],\n  khaki: [240, 230, 140],\n  lavender: [230, 230, 250],\n  lavenderblush: [255, 240, 245],\n  lawngreen: [124, 252, 0],\n  lemonchiffon: [255, 250, 205],\n  lightblue: [173, 216, 230],\n  lightcoral: [240, 128, 128],\n  lightcyan: [224, 255, 255],\n  lightgoldenrodyellow: [250, 250, 210],\n  lightgray: [211, 211, 211],\n  lightgreen: [144, 238, 144],\n  lightgrey: [211, 211, 211],\n  lightpink: [255, 182, 193],\n  lightsalmon: [255, 160, 122],\n  lightseagreen: [32, 178, 170],\n  lightskyblue: [135, 206, 250],\n  lightslategray: [119, 136, 153],\n  lightslategrey: [119, 136, 153],\n  lightsteelblue: [176, 196, 222],\n  lightyellow: [255, 255, 224],\n  lime: [0, 255, 0],\n  limegreen: [50, 205, 50],\n  linen: [250, 240, 230],\n  magenta: [255, 0, 255],\n  maroon: [128, 0, 0],\n  mediumaquamarine: [102, 205, 170],\n  mediumblue: [0, 0, 205],\n  mediumorchid: [186, 85, 211],\n  mediumpurple: [147, 112, 219],\n  mediumseagreen: [60, 179, 113],\n  mediumslateblue: [123, 104, 238],\n  mediumspringgreen: [0, 250, 154],\n  mediumturquoise: [72, 209, 204],\n  mediumvioletred: [199, 21, 133],\n  midnightblue: [25, 25, 112],\n  mintcream: [245, 255, 250],\n  mistyrose: [255, 228, 225],\n  moccasin: [255, 228, 181],\n  navajowhite: [255, 222, 173],\n  navy: [0, 0, 128],\n  oldlace: [253, 245, 230],\n  olive: [128, 128, 0],\n  olivedrab: [107, 142, 35],\n  orange: [255, 165, 0],\n  orangered: [255, 69, 0],\n  orchid: [218, 112, 214],\n  palegoldenrod: [238, 232, 170],\n  palegreen: [152, 251, 152],\n  paleturquoise: [175, 238, 238],\n  palevioletred: [219, 112, 147],\n  papayawhip: [255, 239, 213],\n  peachpuff: [255, 218, 185],\n  peru: [205, 133, 63],\n  pink: [255, 192, 203],\n  plum: [221, 160, 203],\n  powderblue: [176, 224, 230],\n  purple: [128, 0, 128],\n  rebeccapurple: [102, 51, 153],\n  red: [255, 0, 0],\n  rosybrown: [188, 143, 143],\n  royalblue: [65, 105, 225],\n  saddlebrown: [139, 69, 19],\n  salmon: [250, 128, 114],\n  sandybrown: [244, 164, 96],\n  seagreen: [46, 139, 87],\n  seashell: [255, 245, 238],\n  sienna: [160, 82, 45],\n  silver: [192, 192, 192],\n  skyblue: [135, 206, 235],\n  slateblue: [106, 90, 205],\n  slategray: [119, 128, 144],\n  slategrey: [119, 128, 144],\n  snow: [255, 255, 250],\n  springgreen: [0, 255, 127],\n  steelblue: [70, 130, 180],\n  tan: [210, 180, 140],\n  teal: [0, 128, 128],\n  thistle: [216, 191, 216],\n  transparent: [255, 255, 255, 0],\n  tomato: [255, 99, 71],\n  turquoise: [64, 224, 208],\n  violet: [238, 130, 238],\n  wheat: [245, 222, 179],\n  white: [255, 255, 255],\n  whitesmoke: [245, 245, 245],\n  yellow: [255, 255, 0],\n  yellowgreen: [154, 205, 5]\n},\n    RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/,\n    animQueue = [];\nexports.Util = {\n  _isElement: function _isElement(obj) {\n    return !!(obj && obj.nodeType == 1);\n  },\n  _isFunction: function _isFunction(obj) {\n    return !!(obj && obj.constructor && obj.call && obj.apply);\n  },\n  _isPlainObject: function _isPlainObject(obj) {\n    return !!obj && obj.constructor === Object;\n  },\n  _isArray: function _isArray(obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n  },\n  _isNumber: function _isNumber(obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_NUMBER && !isNaN(obj) && isFinite(obj);\n  },\n  _isString: function _isString(obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_STRING;\n  },\n  _isBoolean: function _isBoolean(obj) {\n    return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n  },\n  isObject: function isObject(val) {\n    return val instanceof Object;\n  },\n  isValidSelector: function isValidSelector(selector) {\n    if (typeof selector !== 'string') {\n      return false;\n    }\n\n    var firstChar = selector[0];\n    return firstChar === '#' || firstChar === '.' || firstChar === firstChar.toUpperCase();\n  },\n  _sign: function _sign(number) {\n    if (number === 0) {\n      return 0;\n    }\n\n    if (number > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  },\n  requestAnimFrame: function requestAnimFrame(callback) {\n    animQueue.push(callback);\n\n    if (animQueue.length === 1) {\n      requestAnimationFrame(function () {\n        var queue = animQueue;\n        animQueue = [];\n        queue.forEach(function (cb) {\n          cb();\n        });\n      });\n    }\n  },\n  createCanvasElement: function createCanvasElement() {\n    var canvas = document.createElement('canvas');\n\n    try {\n      canvas.style = canvas.style || {};\n    } catch (e) {}\n\n    return canvas;\n  },\n  createImageElement: function createImageElement() {\n    return document.createElement('img');\n  },\n  _isInDocument: function _isInDocument(el) {\n    while (el = el.parentNode) {\n      if (el == document) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n  _simplifyArray: function _simplifyArray(arr) {\n    var retArr = [],\n        len = arr.length,\n        util = exports.Util,\n        n,\n        val;\n\n    for (n = 0; n < len; n++) {\n      val = arr[n];\n\n      if (util._isNumber(val)) {\n        val = Math.round(val * 1000) / 1000;\n      } else if (!util._isString(val)) {\n        val = val.toString();\n      }\n\n      retArr.push(val);\n    }\n\n    return retArr;\n  },\n  _urlToImage: function _urlToImage(url, callback) {\n    var imageObj = new Global_1.glob.Image();\n\n    imageObj.onload = function () {\n      callback(imageObj);\n    };\n\n    imageObj.src = url;\n  },\n  _rgbToHex: function _rgbToHex(r, g, b) {\n    return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n  },\n  _hexToRgb: function _hexToRgb(hex) {\n    hex = hex.replace(HASH, EMPTY_STRING);\n    var bigint = parseInt(hex, 16);\n    return {\n      r: bigint >> 16 & 255,\n      g: bigint >> 8 & 255,\n      b: bigint & 255\n    };\n  },\n  getRandomColor: function getRandomColor() {\n    var randColor = (Math.random() * 0xffffff << 0).toString(16);\n\n    while (randColor.length < 6) {\n      randColor = ZERO + randColor;\n    }\n\n    return HASH + randColor;\n  },\n  get: function get(val, def) {\n    if (val === undefined) {\n      return def;\n    } else {\n      return val;\n    }\n  },\n  getRGB: function getRGB(color) {\n    var rgb;\n\n    if (color in COLORS) {\n      rgb = COLORS[color];\n      return {\n        r: rgb[0],\n        g: rgb[1],\n        b: rgb[2]\n      };\n    } else if (color[0] === HASH) {\n      return this._hexToRgb(color.substring(1));\n    } else if (color.substr(0, 4) === RGB_PAREN) {\n      rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n      return {\n        r: parseInt(rgb[1], 10),\n        g: parseInt(rgb[2], 10),\n        b: parseInt(rgb[3], 10)\n      };\n    } else {\n      return {\n        r: 0,\n        g: 0,\n        b: 0\n      };\n    }\n  },\n  colorToRGBA: function colorToRGBA(str) {\n    str = str || 'black';\n    return exports.Util._namedColorToRBA(str) || exports.Util._hex3ColorToRGBA(str) || exports.Util._hex6ColorToRGBA(str) || exports.Util._rgbColorToRGBA(str) || exports.Util._rgbaColorToRGBA(str) || exports.Util._hslColorToRGBA(str);\n  },\n  _namedColorToRBA: function _namedColorToRBA(str) {\n    var c = COLORS[str.toLowerCase()];\n\n    if (!c) {\n      return null;\n    }\n\n    return {\n      r: c[0],\n      g: c[1],\n      b: c[2],\n      a: 1\n    };\n  },\n  _rgbColorToRGBA: function _rgbColorToRGBA(str) {\n    if (str.indexOf('rgb(') === 0) {\n      str = str.match(/rgb\\(([^)]+)\\)/)[1];\n      var parts = str.split(/ *, */).map(Number);\n      return {\n        r: parts[0],\n        g: parts[1],\n        b: parts[2],\n        a: 1\n      };\n    }\n  },\n  _rgbaColorToRGBA: function _rgbaColorToRGBA(str) {\n    if (str.indexOf('rgba(') === 0) {\n      str = str.match(/rgba\\(([^)]+)\\)/)[1];\n      var parts = str.split(/ *, */).map(Number);\n      return {\n        r: parts[0],\n        g: parts[1],\n        b: parts[2],\n        a: parts[3]\n      };\n    }\n  },\n  _hex6ColorToRGBA: function _hex6ColorToRGBA(str) {\n    if (str[0] === '#' && str.length === 7) {\n      return {\n        r: parseInt(str.slice(1, 3), 16),\n        g: parseInt(str.slice(3, 5), 16),\n        b: parseInt(str.slice(5, 7), 16),\n        a: 1\n      };\n    }\n  },\n  _hex3ColorToRGBA: function _hex3ColorToRGBA(str) {\n    if (str[0] === '#' && str.length === 4) {\n      return {\n        r: parseInt(str[1] + str[1], 16),\n        g: parseInt(str[2] + str[2], 16),\n        b: parseInt(str[3] + str[3], 16),\n        a: 1\n      };\n    }\n  },\n  _hslColorToRGBA: function _hslColorToRGBA(str) {\n    if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n      var _a = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str),\n          _ = _a[0],\n          hsl = _a.slice(1);\n\n      var h = Number(hsl[0]) / 360;\n      var s = Number(hsl[1]) / 100;\n      var l = Number(hsl[2]) / 100;\n      var t2 = void 0;\n      var t3 = void 0;\n      var val = void 0;\n\n      if (s === 0) {\n        val = l * 255;\n        return {\n          r: Math.round(val),\n          g: Math.round(val),\n          b: Math.round(val),\n          a: 1\n        };\n      }\n\n      if (l < 0.5) {\n        t2 = l * (1 + s);\n      } else {\n        t2 = l + s - l * s;\n      }\n\n      var t1 = 2 * l - t2;\n      var rgb = [0, 0, 0];\n\n      for (var i = 0; i < 3; i++) {\n        t3 = h + 1 / 3 * -(i - 1);\n\n        if (t3 < 0) {\n          t3++;\n        }\n\n        if (t3 > 1) {\n          t3--;\n        }\n\n        if (6 * t3 < 1) {\n          val = t1 + (t2 - t1) * 6 * t3;\n        } else if (2 * t3 < 1) {\n          val = t2;\n        } else if (3 * t3 < 2) {\n          val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n        } else {\n          val = t1;\n        }\n\n        rgb[i] = val * 255;\n      }\n\n      return {\n        r: Math.round(rgb[0]),\n        g: Math.round(rgb[1]),\n        b: Math.round(rgb[2]),\n        a: 1\n      };\n    }\n  },\n  haveIntersection: function haveIntersection(r1, r2) {\n    return !(r2.x > r1.x + r1.width || r2.x + r2.width < r1.x || r2.y > r1.y + r1.height || r2.y + r2.height < r1.y);\n  },\n  cloneObject: function cloneObject(obj) {\n    var retObj = {};\n\n    for (var key in obj) {\n      if (this._isPlainObject(obj[key])) {\n        retObj[key] = this.cloneObject(obj[key]);\n      } else if (this._isArray(obj[key])) {\n        retObj[key] = this.cloneArray(obj[key]);\n      } else {\n        retObj[key] = obj[key];\n      }\n    }\n\n    return retObj;\n  },\n  cloneArray: function cloneArray(arr) {\n    return arr.slice(0);\n  },\n  _degToRad: function _degToRad(deg) {\n    return deg * PI_OVER_DEG180;\n  },\n  _radToDeg: function _radToDeg(rad) {\n    return rad * DEG180_OVER_PI;\n  },\n  _getRotation: function _getRotation(radians) {\n    return Global_1.Konva.angleDeg ? exports.Util._radToDeg(radians) : radians;\n  },\n  _capitalize: function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  },\n  throw: function _throw(str) {\n    throw new Error(KONVA_ERROR + str);\n  },\n  error: function error(str) {\n    console.error(KONVA_ERROR + str);\n  },\n  warn: function warn(str) {\n    if (!Global_1.Konva.showWarnings) {\n      return;\n    }\n\n    console.warn(KONVA_WARNING + str);\n  },\n  extend: function extend(child, parent) {\n    function Ctor() {\n      this.constructor = child;\n    }\n\n    Ctor.prototype = parent.prototype;\n    var oldProto = child.prototype;\n    child.prototype = new Ctor();\n\n    for (var key in oldProto) {\n      if (oldProto.hasOwnProperty(key)) {\n        child.prototype[key] = oldProto[key];\n      }\n    }\n\n    child.__super__ = parent.prototype;\n    child.super = parent;\n  },\n  _getControlPoints: function _getControlPoints(x0, y0, x1, y1, x2, y2, t) {\n    var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)),\n        d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)),\n        fa = t * d01 / (d01 + d12),\n        fb = t * d12 / (d01 + d12),\n        p1x = x1 - fa * (x2 - x0),\n        p1y = y1 - fa * (y2 - y0),\n        p2x = x1 + fb * (x2 - x0),\n        p2y = y1 + fb * (y2 - y0);\n    return [p1x, p1y, p2x, p2y];\n  },\n  _expandPoints: function _expandPoints(p, tension) {\n    var len = p.length,\n        allPoints = [],\n        n,\n        cp;\n\n    for (n = 2; n < len - 2; n += 2) {\n      cp = exports.Util._getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n      allPoints.push(cp[0]);\n      allPoints.push(cp[1]);\n      allPoints.push(p[n]);\n      allPoints.push(p[n + 1]);\n      allPoints.push(cp[2]);\n      allPoints.push(cp[3]);\n    }\n\n    return allPoints;\n  },\n  each: function each(obj, func) {\n    for (var key in obj) {\n      func(key, obj[key]);\n    }\n  },\n  _inRange: function _inRange(val, left, right) {\n    return left <= val && val < right;\n  },\n  _getProjectionToSegment: function _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {\n    var x, y, dist;\n    var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n\n    if (pd2 == 0) {\n      x = x1;\n      y = y1;\n      dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n    } else {\n      var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n\n      if (u < 0) {\n        x = x1;\n        y = y1;\n        dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n      } else if (u > 1.0) {\n        x = x2;\n        y = y2;\n        dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n      } else {\n        x = x1 + u * (x2 - x1);\n        y = y1 + u * (y2 - y1);\n        dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n      }\n    }\n\n    return [x, y, dist];\n  },\n  _getProjectionToLine: function _getProjectionToLine(pt, line, isClosed) {\n    var pc = exports.Util.cloneObject(pt);\n    var dist = Number.MAX_VALUE;\n    line.forEach(function (p1, i) {\n      if (!isClosed && i === line.length - 1) {\n        return;\n      }\n\n      var p2 = line[(i + 1) % line.length];\n\n      var proj = exports.Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n\n      var px = proj[0],\n          py = proj[1],\n          pdist = proj[2];\n\n      if (pdist < dist) {\n        pc.x = px;\n        pc.y = py;\n        dist = pdist;\n      }\n    });\n    return pc;\n  },\n  _prepareArrayForTween: function _prepareArrayForTween(startArray, endArray, isClosed) {\n    var n,\n        start = [],\n        end = [];\n\n    if (startArray.length > endArray.length) {\n      var temp = endArray;\n      endArray = startArray;\n      startArray = temp;\n    }\n\n    for (n = 0; n < startArray.length; n += 2) {\n      start.push({\n        x: startArray[n],\n        y: startArray[n + 1]\n      });\n    }\n\n    for (n = 0; n < endArray.length; n += 2) {\n      end.push({\n        x: endArray[n],\n        y: endArray[n + 1]\n      });\n    }\n\n    var newStart = [];\n    end.forEach(function (point) {\n      var pr = exports.Util._getProjectionToLine(point, start, isClosed);\n\n      newStart.push(pr.x);\n      newStart.push(pr.y);\n    });\n    return newStart;\n  },\n  _prepareToStringify: function _prepareToStringify(obj) {\n    var desc;\n    obj.visitedByCircularReferenceRemoval = true;\n\n    for (var key in obj) {\n      if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n        continue;\n      }\n\n      desc = Object.getOwnPropertyDescriptor(obj, key);\n\n      if (obj[key].visitedByCircularReferenceRemoval || exports.Util._isElement(obj[key])) {\n        if (desc.configurable) {\n          delete obj[key];\n        } else {\n          return null;\n        }\n      } else if (exports.Util._prepareToStringify(obj[key]) === null) {\n        if (desc.configurable) {\n          delete obj[key];\n        } else {\n          return null;\n        }\n      }\n    }\n\n    delete obj.visitedByCircularReferenceRemoval;\n    return obj;\n  },\n  _assign: function _assign(target, source) {\n    for (var key in source) {\n      target[key] = source[key];\n    }\n\n    return target;\n  },\n  _getFirstPointerId: function _getFirstPointerId(evt) {\n    if (!evt.touches) {\n      return 999;\n    } else {\n      return evt.changedTouches[0].identifier;\n    }\n  }\n};","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Animation_1 = require(\"../Animation\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_1 = require(\"../Global\");\n\nvar Sprite = function (_super) {\n  __extends(Sprite, _super);\n\n  function Sprite(config) {\n    var _this = _super.call(this, config) || this;\n\n    _this._updated = true;\n    _this.anim = new Animation_1.Animation(function () {\n      var updated = _this._updated;\n      _this._updated = false;\n      return updated;\n    });\n\n    _this.on('animationChange.konva', function () {\n      this.frameIndex(0);\n    });\n\n    _this.on('frameIndexChange.konva', function () {\n      this._updated = true;\n    });\n\n    _this.on('frameRateChange.konva', function () {\n      if (!this.anim.isRunning()) {\n        return;\n      }\n\n      clearInterval(this.interval);\n\n      this._setInterval();\n    });\n\n    return _this;\n  }\n\n  Sprite.prototype._sceneFunc = function (context) {\n    var anim = this.animation(),\n        index = this.frameIndex(),\n        ix4 = index * 4,\n        set = this.animations()[anim],\n        offsets = this.frameOffsets(),\n        x = set[ix4 + 0],\n        y = set[ix4 + 1],\n        width = set[ix4 + 2],\n        height = set[ix4 + 3],\n        image = this.image();\n\n    if (this.hasFill() || this.hasStroke()) {\n      context.beginPath();\n      context.rect(0, 0, width, height);\n      context.closePath();\n      context.fillStrokeShape(this);\n    }\n\n    if (image) {\n      if (offsets) {\n        var offset = offsets[anim],\n            ix2 = index * 2;\n        context.drawImage(image, x, y, width, height, offset[ix2 + 0], offset[ix2 + 1], width, height);\n      } else {\n        context.drawImage(image, x, y, width, height, 0, 0, width, height);\n      }\n    }\n  };\n\n  Sprite.prototype._hitFunc = function (context) {\n    var anim = this.animation(),\n        index = this.frameIndex(),\n        ix4 = index * 4,\n        set = this.animations()[anim],\n        offsets = this.frameOffsets(),\n        width = set[ix4 + 2],\n        height = set[ix4 + 3];\n    context.beginPath();\n\n    if (offsets) {\n      var offset = offsets[anim];\n      var ix2 = index * 2;\n      context.rect(offset[ix2 + 0], offset[ix2 + 1], width, height);\n    } else {\n      context.rect(0, 0, width, height);\n    }\n\n    context.closePath();\n    context.fillShape(this);\n  };\n\n  Sprite.prototype._useBufferCanvas = function () {\n    return _super.prototype._useBufferCanvas.call(this, true);\n  };\n\n  Sprite.prototype._setInterval = function () {\n    var that = this;\n    this.interval = setInterval(function () {\n      that._updateIndex();\n    }, 1000 / this.frameRate());\n  };\n\n  Sprite.prototype.start = function () {\n    if (this.isRunning()) {\n      return;\n    }\n\n    var layer = this.getLayer();\n    this.anim.setLayers(layer);\n\n    this._setInterval();\n\n    this.anim.start();\n  };\n\n  Sprite.prototype.stop = function () {\n    this.anim.stop();\n    clearInterval(this.interval);\n  };\n\n  Sprite.prototype.isRunning = function () {\n    return this.anim.isRunning();\n  };\n\n  Sprite.prototype._updateIndex = function () {\n    var index = this.frameIndex(),\n        animation = this.animation(),\n        animations = this.animations(),\n        anim = animations[animation],\n        len = anim.length / 4;\n\n    if (index < len - 1) {\n      this.frameIndex(index + 1);\n    } else {\n      this.frameIndex(0);\n    }\n  };\n\n  return Sprite;\n}(Shape_1.Shape);\n\nexports.Sprite = Sprite;\nSprite.prototype.className = 'Sprite';\n\nGlobal_1._registerNode(Sprite);\n\nFactory_1.Factory.addGetterSetter(Sprite, 'animation');\nFactory_1.Factory.addGetterSetter(Sprite, 'animations');\nFactory_1.Factory.addGetterSetter(Sprite, 'frameOffsets');\nFactory_1.Factory.addGetterSetter(Sprite, 'image');\nFactory_1.Factory.addGetterSetter(Sprite, 'frameIndex', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Sprite, 'frameRate', 17, Validators_1.getNumberValidator());\nFactory_1.Factory.backCompat(Sprite, {\n  index: 'frameIndex',\n  getIndex: 'getFrameIndex',\n  setIndex: 'setFrameIndex'\n});\nUtil_1.Collection.mapMethods(Sprite);","/** @license React v0.19.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var f,g,h,k,l;\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var p=null,q=null,t=function(){if(null!==p)try{var a=exports.unstable_now();p(!0,a);p=null}catch(b){throw setTimeout(t,0),b;}},u=Date.now();exports.unstable_now=function(){return Date.now()-u};f=function(a){null!==p?setTimeout(f,0,a):(p=a,setTimeout(t,0))};g=function(a,b){q=setTimeout(a,b)};h=function(){clearTimeout(q)};k=function(){return!1};l=exports.unstable_forceFrameRate=function(){}}else{var w=window.performance,x=window.Date,\ny=window.setTimeout,z=window.clearTimeout;if(\"undefined\"!==typeof console){var A=window.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\");\"function\"!==typeof A&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\")}if(\"object\"===\ntypeof w&&\"function\"===typeof w.now)exports.unstable_now=function(){return w.now()};else{var B=x.now();exports.unstable_now=function(){return x.now()-B}}var C=!1,D=null,E=-1,F=5,G=0;k=function(){return exports.unstable_now()>=G};l=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):F=0<a?Math.floor(1E3/a):5};var H=new MessageChannel,I=H.port2;H.port1.onmessage=\nfunction(){if(null!==D){var a=exports.unstable_now();G=a+F;try{D(!0,a)?I.postMessage(null):(C=!1,D=null)}catch(b){throw I.postMessage(null),b;}}else C=!1};f=function(a){D=a;C||(C=!0,I.postMessage(null))};g=function(a,b){E=y(function(){a(exports.unstable_now())},b)};h=function(){z(E);E=-1}}function J(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<K(e,b))a[d]=b,a[c]=e,c=d;else break a}}function L(a){a=a[0];return void 0===a?null:a}\nfunction M(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>K(n,c))void 0!==r&&0>K(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>K(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function K(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var N=[],O=[],P=1,Q=null,R=3,S=!1,T=!1,U=!1;\nfunction V(a){for(var b=L(O);null!==b;){if(null===b.callback)M(O);else if(b.startTime<=a)M(O),b.sortIndex=b.expirationTime,J(N,b);else break;b=L(O)}}function W(a){U=!1;V(a);if(!T)if(null!==L(N))T=!0,f(X);else{var b=L(O);null!==b&&g(W,b.startTime-a)}}\nfunction X(a,b){T=!1;U&&(U=!1,h());S=!0;var c=R;try{V(b);for(Q=L(N);null!==Q&&(!(Q.expirationTime>b)||a&&!k());){var d=Q.callback;if(null!==d){Q.callback=null;R=Q.priorityLevel;var e=d(Q.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?Q.callback=e:Q===L(N)&&M(N);V(b)}else M(N);Q=L(N)}if(null!==Q)var m=!0;else{var n=L(O);null!==n&&g(W,n.startTime-b);m=!1}return m}finally{Q=null,R=c,S=!1}}\nfunction Y(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}var Z=l;exports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){T||S||(T=!0,f(X))};\nexports.unstable_getCurrentPriorityLevel=function(){return R};exports.unstable_getFirstCallbackNode=function(){return L(N)};exports.unstable_next=function(a){switch(R){case 1:case 2:case 3:var b=3;break;default:b=R}var c=R;R=b;try{return a()}finally{R=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=Z;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=R;R=a;try{return b()}finally{R=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();if(\"object\"===typeof c&&null!==c){var e=c.delay;e=\"number\"===typeof e&&0<e?d+e:d;c=\"number\"===typeof c.timeout?c.timeout:Y(a)}else c=Y(a),e=d;c=e+c;a={id:P++,callback:b,priorityLevel:a,startTime:e,expirationTime:c,sortIndex:-1};e>d?(a.sortIndex=e,J(O,a),null===L(N)&&a===L(O)&&(U?h():U=!0,g(W,e-d))):(a.sortIndex=c,J(N,a),T||S||(T=!0,f(X)));return a};\nexports.unstable_shouldYield=function(){var a=exports.unstable_now();V(a);var b=L(N);return b!==Q&&null!==Q&&null!==b&&null!==b.callback&&b.startTime<=a&&b.expirationTime<Q.expirationTime||k()};exports.unstable_wrapCallback=function(a){var b=R;return function(){var c=R;R=b;try{return a.apply(this,arguments)}finally{R=c}}};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nexports.RGBA = function (imageData) {\n  var data = imageData.data,\n      nPixels = data.length,\n      red = this.red(),\n      green = this.green(),\n      blue = this.blue(),\n      alpha = this.alpha(),\n      i,\n      ia;\n\n  for (i = 0; i < nPixels; i += 4) {\n    ia = 1 - alpha;\n    data[i] = red * alpha + data[i] * ia;\n    data[i + 1] = green * alpha + data[i + 1] * ia;\n    data[i + 2] = blue * alpha + data[i + 2] * ia;\n  }\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'red', 0, function (val) {\n  this._filterUpToDate = false;\n\n  if (val > 255) {\n    return 255;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return Math.round(val);\n  }\n});\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'green', 0, function (val) {\n  this._filterUpToDate = false;\n\n  if (val > 255) {\n    return 255;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return Math.round(val);\n  }\n});\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'blue', 0, Validators_1.RGBComponent, Factory_1.Factory.afterSetFilter);\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'alpha', 1, function (val) {\n  this._filterUpToDate = false;\n\n  if (val > 1) {\n    return 1;\n  } else if (val < 0) {\n    return 0;\n  } else {\n    return val;\n  }\n});","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nexports.Noise = function (imageData) {\n  var amount = this.noise() * 255,\n      data = imageData.data,\n      nPixels = data.length,\n      half = amount / 2,\n      i;\n\n  for (i = 0; i < nPixels; i += 4) {\n    data[i + 0] += half - 2 * half * Math.random();\n    data[i + 1] += half - 2 * half * Math.random();\n    data[i + 2] += half - 2 * half * Math.random();\n  }\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'noise', 0.2, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);","/** @license React v0.19.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var f,g,h,k,l;\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var p=null,q=null,t=function(){if(null!==p)try{var a=exports.unstable_now();p(!0,a);p=null}catch(b){throw setTimeout(t,0),b;}},u=Date.now();exports.unstable_now=function(){return Date.now()-u};f=function(a){null!==p?setTimeout(f,0,a):(p=a,setTimeout(t,0))};g=function(a,b){q=setTimeout(a,b)};h=function(){clearTimeout(q)};k=function(){return!1};l=exports.unstable_forceFrameRate=function(){}}else{var w=window.performance,x=window.Date,\ny=window.setTimeout,z=window.clearTimeout;if(\"undefined\"!==typeof console){var A=window.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\");\"function\"!==typeof A&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\")}if(\"object\"===\ntypeof w&&\"function\"===typeof w.now)exports.unstable_now=function(){return w.now()};else{var B=x.now();exports.unstable_now=function(){return x.now()-B}}var C=!1,D=null,E=-1,F=5,G=0;k=function(){return exports.unstable_now()>=G};l=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):F=0<a?Math.floor(1E3/a):5};var H=new MessageChannel,I=H.port2;H.port1.onmessage=\nfunction(){if(null!==D){var a=exports.unstable_now();G=a+F;try{D(!0,a)?I.postMessage(null):(C=!1,D=null)}catch(b){throw I.postMessage(null),b;}}else C=!1};f=function(a){D=a;C||(C=!0,I.postMessage(null))};g=function(a,b){E=y(function(){a(exports.unstable_now())},b)};h=function(){z(E);E=-1}}function J(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<K(e,b))a[d]=b,a[c]=e,c=d;else break a}}function L(a){a=a[0];return void 0===a?null:a}\nfunction M(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>K(n,c))void 0!==r&&0>K(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>K(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function K(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var N=[],O=[],P=1,Q=null,R=3,S=!1,T=!1,U=!1;\nfunction V(a){for(var b=L(O);null!==b;){if(null===b.callback)M(O);else if(b.startTime<=a)M(O),b.sortIndex=b.expirationTime,J(N,b);else break;b=L(O)}}function W(a){U=!1;V(a);if(!T)if(null!==L(N))T=!0,f(X);else{var b=L(O);null!==b&&g(W,b.startTime-a)}}\nfunction X(a,b){T=!1;U&&(U=!1,h());S=!0;var c=R;try{V(b);for(Q=L(N);null!==Q&&(!(Q.expirationTime>b)||a&&!k());){var d=Q.callback;if(null!==d){Q.callback=null;R=Q.priorityLevel;var e=d(Q.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?Q.callback=e:Q===L(N)&&M(N);V(b)}else M(N);Q=L(N)}if(null!==Q)var m=!0;else{var n=L(O);null!==n&&g(W,n.startTime-b);m=!1}return m}finally{Q=null,R=c,S=!1}}\nfunction Y(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}var Z=l;exports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){T||S||(T=!0,f(X))};\nexports.unstable_getCurrentPriorityLevel=function(){return R};exports.unstable_getFirstCallbackNode=function(){return L(N)};exports.unstable_next=function(a){switch(R){case 1:case 2:case 3:var b=3;break;default:b=R}var c=R;R=b;try{return a()}finally{R=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=Z;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=R;R=a;try{return b()}finally{R=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();if(\"object\"===typeof c&&null!==c){var e=c.delay;e=\"number\"===typeof e&&0<e?d+e:d;c=\"number\"===typeof c.timeout?c.timeout:Y(a)}else c=Y(a),e=d;c=e+c;a={id:P++,callback:b,priorityLevel:a,startTime:e,expirationTime:c,sortIndex:-1};e>d?(a.sortIndex=e,J(O,a),null===L(N)&&a===L(O)&&(U?h():U=!0,g(W,e-d))):(a.sortIndex=c,J(N,a),T||S||(T=!0,f(X)));return a};\nexports.unstable_shouldYield=function(){var a=exports.unstable_now();V(a);var b=L(N);return b!==Q&&null!==Q&&null!==b&&null!==b.callback&&b.startTime<=a&&b.expirationTime<Q.expirationTime||k()};exports.unstable_wrapCallback=function(a){var b=R;return function(){var c=R;R=b;try{return a.apply(this,arguments)}finally{R=c}}};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nfunction remap(fromValue, fromMin, fromMax, toMin, toMax) {\n  var fromRange = fromMax - fromMin,\n      toRange = toMax - toMin,\n      toValue;\n\n  if (fromRange === 0) {\n    return toMin + toRange / 2;\n  }\n\n  if (toRange === 0) {\n    return toMin;\n  }\n\n  toValue = (fromValue - fromMin) / fromRange;\n  toValue = toRange * toValue + toMin;\n  return toValue;\n}\n\nexports.Enhance = function (imageData) {\n  var data = imageData.data,\n      nSubPixels = data.length,\n      rMin = data[0],\n      rMax = rMin,\n      r,\n      gMin = data[1],\n      gMax = gMin,\n      g,\n      bMin = data[2],\n      bMax = bMin,\n      b,\n      i;\n  var enhanceAmount = this.enhance();\n\n  if (enhanceAmount === 0) {\n    return;\n  }\n\n  for (i = 0; i < nSubPixels; i += 4) {\n    r = data[i + 0];\n\n    if (r < rMin) {\n      rMin = r;\n    } else if (r > rMax) {\n      rMax = r;\n    }\n\n    g = data[i + 1];\n\n    if (g < gMin) {\n      gMin = g;\n    } else if (g > gMax) {\n      gMax = g;\n    }\n\n    b = data[i + 2];\n\n    if (b < bMin) {\n      bMin = b;\n    } else if (b > bMax) {\n      bMax = b;\n    }\n  }\n\n  if (rMax === rMin) {\n    rMax = 255;\n    rMin = 0;\n  }\n\n  if (gMax === gMin) {\n    gMax = 255;\n    gMin = 0;\n  }\n\n  if (bMax === bMin) {\n    bMax = 255;\n    bMin = 0;\n  }\n\n  var rMid, rGoalMax, rGoalMin, gMid, gGoalMax, gGoalMin, bMid, bGoalMax, bGoalMin;\n\n  if (enhanceAmount > 0) {\n    rGoalMax = rMax + enhanceAmount * (255 - rMax);\n    rGoalMin = rMin - enhanceAmount * (rMin - 0);\n    gGoalMax = gMax + enhanceAmount * (255 - gMax);\n    gGoalMin = gMin - enhanceAmount * (gMin - 0);\n    bGoalMax = bMax + enhanceAmount * (255 - bMax);\n    bGoalMin = bMin - enhanceAmount * (bMin - 0);\n  } else {\n    rMid = (rMax + rMin) * 0.5;\n    rGoalMax = rMax + enhanceAmount * (rMax - rMid);\n    rGoalMin = rMin + enhanceAmount * (rMin - rMid);\n    gMid = (gMax + gMin) * 0.5;\n    gGoalMax = gMax + enhanceAmount * (gMax - gMid);\n    gGoalMin = gMin + enhanceAmount * (gMin - gMid);\n    bMid = (bMax + bMin) * 0.5;\n    bGoalMax = bMax + enhanceAmount * (bMax - bMid);\n    bGoalMin = bMin + enhanceAmount * (bMin - bMid);\n  }\n\n  for (i = 0; i < nSubPixels; i += 4) {\n    data[i + 0] = remap(data[i + 0], rMin, rMax, rGoalMin, rGoalMax);\n    data[i + 1] = remap(data[i + 1], gMin, gMax, gGoalMin, gGoalMax);\n    data[i + 2] = remap(data[i + 2], bMin, bMax, bGoalMin, bGoalMax);\n  }\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'enhance', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nfunction BlurStack() {\n  this.r = 0;\n  this.g = 0;\n  this.b = 0;\n  this.a = 0;\n  this.next = null;\n}\n\nvar mul_table = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259];\nvar shg_table = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];\n\nfunction filterGaussBlurRGBA(imageData, radius) {\n  var pixels = imageData.data,\n      width = imageData.width,\n      height = imageData.height;\n  var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, r_out_sum, g_out_sum, b_out_sum, a_out_sum, r_in_sum, g_in_sum, b_in_sum, a_in_sum, pr, pg, pb, pa, rbs;\n  var div = radius + radius + 1,\n      widthMinus1 = width - 1,\n      heightMinus1 = height - 1,\n      radiusPlus1 = radius + 1,\n      sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2,\n      stackStart = new BlurStack(),\n      stackEnd = null,\n      stack = stackStart,\n      stackIn = null,\n      stackOut = null,\n      mul_sum = mul_table[radius],\n      shg_sum = shg_table[radius];\n\n  for (i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  yw = yi = 0;\n\n  for (y = 0; y < height; y++) {\n    r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;\n    r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n    g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n    b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n    a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n    r_sum += sumFactor * pr;\n    g_sum += sumFactor * pg;\n    b_sum += sumFactor * pb;\n    a_sum += sumFactor * pa;\n    stack = stackStart;\n\n    for (i = 0; i < radiusPlus1; i++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack.a = pa;\n      stack = stack.next;\n    }\n\n    for (i = 1; i < radiusPlus1; i++) {\n      p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\n      r_sum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i);\n      g_sum += (stack.g = pg = pixels[p + 1]) * rbs;\n      b_sum += (stack.b = pb = pixels[p + 2]) * rbs;\n      a_sum += (stack.a = pa = pixels[p + 3]) * rbs;\n      r_in_sum += pr;\n      g_in_sum += pg;\n      b_in_sum += pb;\n      a_in_sum += pa;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (x = 0; x < width; x++) {\n      pixels[yi + 3] = pa = a_sum * mul_sum >> shg_sum;\n\n      if (pa !== 0) {\n        pa = 255 / pa;\n        pixels[yi] = (r_sum * mul_sum >> shg_sum) * pa;\n        pixels[yi + 1] = (g_sum * mul_sum >> shg_sum) * pa;\n        pixels[yi + 2] = (b_sum * mul_sum >> shg_sum) * pa;\n      } else {\n        pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n      }\n\n      r_sum -= r_out_sum;\n      g_sum -= g_out_sum;\n      b_sum -= b_out_sum;\n      a_sum -= a_out_sum;\n      r_out_sum -= stackIn.r;\n      g_out_sum -= stackIn.g;\n      b_out_sum -= stackIn.b;\n      a_out_sum -= stackIn.a;\n      p = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;\n      r_in_sum += stackIn.r = pixels[p];\n      g_in_sum += stackIn.g = pixels[p + 1];\n      b_in_sum += stackIn.b = pixels[p + 2];\n      a_in_sum += stackIn.a = pixels[p + 3];\n      r_sum += r_in_sum;\n      g_sum += g_in_sum;\n      b_sum += b_in_sum;\n      a_sum += a_in_sum;\n      stackIn = stackIn.next;\n      r_out_sum += pr = stackOut.r;\n      g_out_sum += pg = stackOut.g;\n      b_out_sum += pb = stackOut.b;\n      a_out_sum += pa = stackOut.a;\n      r_in_sum -= pr;\n      g_in_sum -= pg;\n      b_in_sum -= pb;\n      a_in_sum -= pa;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (x = 0; x < width; x++) {\n    g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;\n    yi = x << 2;\n    r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n    g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n    b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n    a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);\n    r_sum += sumFactor * pr;\n    g_sum += sumFactor * pg;\n    b_sum += sumFactor * pb;\n    a_sum += sumFactor * pa;\n    stack = stackStart;\n\n    for (i = 0; i < radiusPlus1; i++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack.a = pa;\n      stack = stack.next;\n    }\n\n    yp = width;\n\n    for (i = 1; i <= radius; i++) {\n      yi = yp + x << 2;\n      r_sum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i);\n      g_sum += (stack.g = pg = pixels[yi + 1]) * rbs;\n      b_sum += (stack.b = pb = pixels[yi + 2]) * rbs;\n      a_sum += (stack.a = pa = pixels[yi + 3]) * rbs;\n      r_in_sum += pr;\n      g_in_sum += pg;\n      b_in_sum += pb;\n      a_in_sum += pa;\n      stack = stack.next;\n\n      if (i < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = x;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (y = 0; y < height; y++) {\n      p = yi << 2;\n      pixels[p + 3] = pa = a_sum * mul_sum >> shg_sum;\n\n      if (pa > 0) {\n        pa = 255 / pa;\n        pixels[p] = (r_sum * mul_sum >> shg_sum) * pa;\n        pixels[p + 1] = (g_sum * mul_sum >> shg_sum) * pa;\n        pixels[p + 2] = (b_sum * mul_sum >> shg_sum) * pa;\n      } else {\n        pixels[p] = pixels[p + 1] = pixels[p + 2] = 0;\n      }\n\n      r_sum -= r_out_sum;\n      g_sum -= g_out_sum;\n      b_sum -= b_out_sum;\n      a_sum -= a_out_sum;\n      r_out_sum -= stackIn.r;\n      g_out_sum -= stackIn.g;\n      b_out_sum -= stackIn.b;\n      a_out_sum -= stackIn.a;\n      p = x + ((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;\n      r_sum += r_in_sum += stackIn.r = pixels[p];\n      g_sum += g_in_sum += stackIn.g = pixels[p + 1];\n      b_sum += b_in_sum += stackIn.b = pixels[p + 2];\n      a_sum += a_in_sum += stackIn.a = pixels[p + 3];\n      stackIn = stackIn.next;\n      r_out_sum += pr = stackOut.r;\n      g_out_sum += pg = stackOut.g;\n      b_out_sum += pb = stackOut.b;\n      a_out_sum += pa = stackOut.a;\n      r_in_sum -= pr;\n      g_in_sum -= pg;\n      b_in_sum -= pb;\n      a_in_sum -= pa;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n}\n\nexports.Blur = function Blur(imageData) {\n  var radius = Math.round(this.blurRadius());\n\n  if (radius > 0) {\n    filterGaussBlurRGBA(imageData, radius);\n  }\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'blurRadius', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"../Util\");\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Shape_1 = require(\"../Shape\");\n\nvar Validators_1 = require(\"../Validators\");\n\nvar Global_1 = require(\"../Global\");\n\nvar PIx2 = Math.PI * 2;\n\nvar Ring = function (_super) {\n  __extends(Ring, _super);\n\n  function Ring() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Ring.prototype._sceneFunc = function (context) {\n    context.beginPath();\n    context.arc(0, 0, this.innerRadius(), 0, PIx2, false);\n    context.moveTo(this.outerRadius(), 0);\n    context.arc(0, 0, this.outerRadius(), PIx2, 0, true);\n    context.closePath();\n    context.fillStrokeShape(this);\n  };\n\n  Ring.prototype.getWidth = function () {\n    return this.outerRadius() * 2;\n  };\n\n  Ring.prototype.getHeight = function () {\n    return this.outerRadius() * 2;\n  };\n\n  Ring.prototype.setWidth = function (width) {\n    this.outerRadius(width / 2);\n  };\n\n  Ring.prototype.setHeight = function (height) {\n    this.outerRadius(height / 2);\n  };\n\n  return Ring;\n}(Shape_1.Shape);\n\nexports.Ring = Ring;\nRing.prototype.className = 'Ring';\nRing.prototype._centroid = true;\nRing.prototype._attrsAffectingSize = ['innerRadius', 'outerRadius'];\n\nGlobal_1._registerNode(Ring);\n\nFactory_1.Factory.addGetterSetter(Ring, 'innerRadius', 0, Validators_1.getNumberValidator());\nFactory_1.Factory.addGetterSetter(Ring, 'outerRadius', 0, Validators_1.getNumberValidator());\nUtil_1.Collection.mapMethods(Ring);","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Factory_1 = require(\"../Factory\");\n\nvar Node_1 = require(\"../Node\");\n\nvar Validators_1 = require(\"../Validators\");\n\nexports.Contrast = function (imageData) {\n  var adjust = Math.pow((this.contrast() + 100) / 100, 2);\n  var data = imageData.data,\n      nPixels = data.length,\n      red = 150,\n      green = 150,\n      blue = 150,\n      i;\n\n  for (i = 0; i < nPixels; i += 4) {\n    red = data[i];\n    green = data[i + 1];\n    blue = data[i + 2];\n    red /= 255;\n    red -= 0.5;\n    red *= adjust;\n    red += 0.5;\n    red *= 255;\n    green /= 255;\n    green -= 0.5;\n    green *= adjust;\n    green += 0.5;\n    green *= 255;\n    blue /= 255;\n    blue -= 0.5;\n    blue *= adjust;\n    blue += 0.5;\n    blue *= 255;\n    red = red < 0 ? 0 : red > 255 ? 255 : red;\n    green = green < 0 ? 0 : green > 255 ? 255 : green;\n    blue = blue < 0 ? 0 : blue > 255 ? 255 : blue;\n    data[i] = red;\n    data[i + 1] = green;\n    data[i + 2] = blue;\n  }\n};\n\nFactory_1.Factory.addGetterSetter(Node_1.Node, 'contrast', 0, Validators_1.getNumberValidator(), Factory_1.Factory.afterSetFilter);","import React from 'react';\nexport var ReactReduxContext = /*#__PURE__*/React.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  ReactReduxContext.displayName = 'ReactRedux';\n}\n\nexport default ReactReduxContext;","// Default to a dummy \"batch\" implementation that just runs the callback\nfunction defaultNoopBatch(callback) {\n  callback();\n}\n\nvar batch = defaultNoopBatch; // Allow injecting another batching function later\n\nexport var setBatch = function setBatch(newBatch) {\n  return batch = newBatch;\n}; // Supply a getter just to skip dealing with ESM bindings\n\nexport var getBatch = function getBatch() {\n  return batch;\n};","import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nvar nullListeners = {\n  notify: function notify() {}\n};\n\nfunction createListenerCollection() {\n  var batch = getBatch();\n  var first = null;\n  var last = null;\n  return {\n    clear: function clear() {\n      first = null;\n      last = null;\n    },\n    notify: function notify() {\n      batch(function () {\n        var listener = first;\n\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n    get: function get() {\n      var listeners = [];\n      var listener = first;\n\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n\n      return listeners;\n    },\n    subscribe: function subscribe(callback) {\n      var isSubscribed = true;\n      var listener = last = {\n        callback: callback,\n        next: null,\n        prev: last\n      };\n\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n  };\n}\n\nvar Subscription = /*#__PURE__*/function () {\n  function Subscription(store, parentSub) {\n    this.store = store;\n    this.parentSub = parentSub;\n    this.unsubscribe = null;\n    this.listeners = nullListeners;\n    this.handleChangeWrapper = this.handleChangeWrapper.bind(this);\n  }\n\n  var _proto = Subscription.prototype;\n\n  _proto.addNestedSub = function addNestedSub(listener) {\n    this.trySubscribe();\n    return this.listeners.subscribe(listener);\n  };\n\n  _proto.notifyNestedSubs = function notifyNestedSubs() {\n    this.listeners.notify();\n  };\n\n  _proto.handleChangeWrapper = function handleChangeWrapper() {\n    if (this.onStateChange) {\n      this.onStateChange();\n    }\n  };\n\n  _proto.isSubscribed = function isSubscribed() {\n    return Boolean(this.unsubscribe);\n  };\n\n  _proto.trySubscribe = function trySubscribe() {\n    if (!this.unsubscribe) {\n      this.unsubscribe = this.parentSub ? this.parentSub.addNestedSub(this.handleChangeWrapper) : this.store.subscribe(this.handleChangeWrapper);\n      this.listeners = createListenerCollection();\n    }\n  };\n\n  _proto.tryUnsubscribe = function tryUnsubscribe() {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n      this.unsubscribe = null;\n      this.listeners.clear();\n      this.listeners = nullListeners;\n    }\n  };\n\n  return Subscription;\n}();\n\nexport { Subscription as default };","import React, { useMemo, useEffect } from 'react';\nimport { ReactReduxContext } from './Context';\nimport Subscription from '../utils/Subscription';\n\nfunction Provider(_ref) {\n  var store = _ref.store,\n      context = _ref.context,\n      children = _ref.children;\n  var contextValue = useMemo(function () {\n    var subscription = new Subscription(store);\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    return {\n      store: store,\n      subscription: subscription\n    };\n  }, [store]);\n  var previousState = useMemo(function () {\n    return store.getState();\n  }, [store]);\n  useEffect(function () {\n    var subscription = contextValue.subscription;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return function () {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = null;\n    };\n  }, [contextValue, previousState]);\n  var Context = context || ReactReduxContext;\n  return React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nif (process.env.NODE_ENV !== 'production') {}\n\nexport default Provider;","import { useEffect, useLayoutEffect } from 'react'; // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;","import $$observable from 'symbol-observable';\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\n\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\n\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\n\n\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };","import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\n/**\r\n * A hook to access the value of the `ReactReduxContext`. This is a low-level\r\n * hook that you should usually not need to call directly.\r\n *\r\n * @returns {any} the value of the `ReactReduxContext`\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useReduxContext } from 'react-redux'\r\n *\r\n * export const CounterComponent = ({ value }) => {\r\n *   const { store } = useReduxContext()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\n\nexport function useReduxContext() {\n  var contextValue = useContext(ReactReduxContext);\n\n  if (process.env.NODE_ENV !== 'production' && !contextValue) {\n    throw new Error('could not find react-redux context value; please ensure the component is wrapped in a <Provider>');\n  }\n\n  return contextValue;\n}","import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\nimport { useReduxContext as useDefaultReduxContext } from './useReduxContext';\n/**\r\n * Hook factory, which creates a `useStore` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useStore` hook bound to the specified context.\r\n */\n\nexport function createStoreHook(context) {\n  if (context === void 0) {\n    context = ReactReduxContext;\n  }\n\n  var useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : function () {\n    return useContext(context);\n  };\n  return function useStore() {\n    var _useReduxContext = useReduxContext(),\n        store = _useReduxContext.store;\n\n    return store;\n  };\n}\n/**\r\n * A hook to access the redux store.\r\n *\r\n * @returns {any} the redux store\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useStore } from 'react-redux'\r\n *\r\n * export const ExampleComponent = () => {\r\n *   const store = useStore()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\n\nexport var useStore = /*#__PURE__*/createStoreHook();","import { ReactReduxContext } from '../components/Context';\nimport { useStore as useDefaultStore, createStoreHook } from './useStore';\n/**\r\n * Hook factory, which creates a `useDispatch` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useDispatch` hook bound to the specified context.\r\n */\n\nexport function createDispatchHook(context) {\n  if (context === void 0) {\n    context = ReactReduxContext;\n  }\n\n  var useStore = context === ReactReduxContext ? useDefaultStore : createStoreHook(context);\n  return function useDispatch() {\n    var store = useStore();\n    return store.dispatch;\n  };\n}\n/**\r\n * A hook to access the redux `dispatch` function.\r\n *\r\n * @returns {any|function} redux store's `dispatch` function\r\n *\r\n * @example\r\n *\r\n * import React, { useCallback } from 'react'\r\n * import { useDispatch } from 'react-redux'\r\n *\r\n * export const CounterComponent = ({ value }) => {\r\n *   const dispatch = useDispatch()\r\n *   const increaseCounter = useCallback(() => dispatch({ type: 'increase-counter' }), [])\r\n *   return (\r\n *     <div>\r\n *       <span>{value}</span>\r\n *       <button onClick={increaseCounter}>Increase counter</button>\r\n *     </div>\r\n *   )\r\n * }\r\n */\n\nexport var useDispatch = /*#__PURE__*/createDispatchHook();","import { useReducer, useRef, useMemo, useContext, useDebugValue } from 'react';\nimport { useReduxContext as useDefaultReduxContext } from './useReduxContext';\nimport Subscription from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\nimport { ReactReduxContext } from '../components/Context';\n\nvar refEquality = function refEquality(a, b) {\n  return a === b;\n};\n\nfunction useSelectorWithStoreAndSubscription(selector, equalityFn, store, contextSub) {\n  var _useReducer = useReducer(function (s) {\n    return s + 1;\n  }, 0),\n      forceRender = _useReducer[1];\n\n  var subscription = useMemo(function () {\n    return new Subscription(store, contextSub);\n  }, [store, contextSub]);\n  var latestSubscriptionCallbackError = useRef();\n  var latestSelector = useRef();\n  var latestStoreState = useRef();\n  var latestSelectedState = useRef();\n  var storeState = store.getState();\n  var selectedState;\n\n  try {\n    if (selector !== latestSelector.current || storeState !== latestStoreState.current || latestSubscriptionCallbackError.current) {\n      selectedState = selector(storeState);\n    } else {\n      selectedState = latestSelectedState.current;\n    }\n  } catch (err) {\n    if (latestSubscriptionCallbackError.current) {\n      err.message += \"\\nThe error may be correlated with this previous error:\\n\" + latestSubscriptionCallbackError.current.stack + \"\\n\\n\";\n    }\n\n    throw err;\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    latestSelector.current = selector;\n    latestStoreState.current = storeState;\n    latestSelectedState.current = selectedState;\n    latestSubscriptionCallbackError.current = undefined;\n  });\n  useIsomorphicLayoutEffect(function () {\n    function checkForUpdates() {\n      try {\n        var newSelectedState = latestSelector.current(store.getState());\n\n        if (equalityFn(newSelectedState, latestSelectedState.current)) {\n          return;\n        }\n\n        latestSelectedState.current = newSelectedState;\n      } catch (err) {\n        // we ignore all errors here, since when the component\n        // is re-rendered, the selectors are called again, and\n        // will throw again, if neither props nor store state\n        // changed\n        latestSubscriptionCallbackError.current = err;\n      }\n\n      forceRender();\n    }\n\n    subscription.onStateChange = checkForUpdates;\n    subscription.trySubscribe();\n    checkForUpdates();\n    return function () {\n      return subscription.tryUnsubscribe();\n    };\n  }, [store, subscription]);\n  return selectedState;\n}\n/**\r\n * Hook factory, which creates a `useSelector` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useSelector` hook bound to the specified context.\r\n */\n\n\nexport function createSelectorHook(context) {\n  if (context === void 0) {\n    context = ReactReduxContext;\n  }\n\n  var useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : function () {\n    return useContext(context);\n  };\n  return function useSelector(selector, equalityFn) {\n    if (equalityFn === void 0) {\n      equalityFn = refEquality;\n    }\n\n    if (process.env.NODE_ENV !== 'production' && !selector) {\n      throw new Error(\"You must pass a selector to useSelector\");\n    }\n\n    var _useReduxContext = useReduxContext(),\n        store = _useReduxContext.store,\n        contextSub = _useReduxContext.subscription;\n\n    var selectedState = useSelectorWithStoreAndSubscription(selector, equalityFn, store, contextSub);\n    useDebugValue(selectedState);\n    return selectedState;\n  };\n}\n/**\r\n * A hook to access the redux store's state. This hook takes a selector function\r\n * as an argument. The selector is called with the store state.\r\n *\r\n * This hook takes an optional equality comparison function as the second parameter\r\n * that allows you to customize the way the selected state is compared to determine\r\n * whether the component needs to be re-rendered.\r\n *\r\n * @param {Function} selector the selector function\r\n * @param {Function=} equalityFn the function that will be used to determine equality\r\n *\r\n * @returns {any} the selected state\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useSelector } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const counter = useSelector(state => state.counter)\r\n *   return <div>{counter}</div>\r\n * }\r\n */\n\nexport var useSelector = /*#__PURE__*/createSelectorHook();","import Provider from './components/Provider';\nimport connectAdvanced from './components/connectAdvanced';\nimport { ReactReduxContext } from './components/Context';\nimport connect from './connect/connect';\nimport { useDispatch, createDispatchHook } from './hooks/useDispatch';\nimport { useSelector, createSelectorHook } from './hooks/useSelector';\nimport { useStore, createStoreHook } from './hooks/useStore';\nimport { setBatch } from './utils/batch';\nimport { unstable_batchedUpdates as batch } from './utils/reactBatchedUpdates';\nimport shallowEqual from './utils/shallowEqual';\nsetBatch(batch);\nexport { Provider, connectAdvanced, ReactReduxContext, connect, batch, useDispatch, createDispatchHook, useSelector, createSelectorHook, useStore, createStoreHook, shallowEqual };","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { createStore, combineReducers } from 'redux'\nimport throtle from 'lodash/throttle'\nimport { loadState, saveState } from './localStorage'\nimport undoable from 'redux-undo'\n\nconst elements = (state: any = [], action: any) => {\n    switch (action.type) {\n        case 'addElement':\n            return [...state, action.element]\n        case 'addElements':\n            return [...state, ...action.elements]\n        case 'deleteElement':\n            return state!.filter(\n                (item: { id: string }) => item.id !== action.id\n            )\n        case 'changeCoordinate':\n            return state.map((item: { id: string }) => {\n                if (item.id === action.id) {\n                    return {\n                        ...item,\n                        points: action.points,\n                    }\n                }\n                return item\n            })\n        case 'deleteState':\n            return []\n        default:\n            return state\n    }\n}\n\nconst reduxApp = combineReducers({\n    elements: undoable(elements),\n})\n\nconst persistedState = loadState()\nexport const store = createStore(reduxApp, persistedState)\nstore.subscribe(\n    throtle(() => {\n        saveState({ elements: store.getState().elements })\n    }, 1000)\n)\nexport const storeSSR = () => createStore(reduxApp, persistedState)\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nexport const loadState = () => {\n    try {\n        const serializedState = window && window.localStorage.getItem('state')\n        if (serializedState === null) {\n            return []\n        }\n        return JSON.parse(serializedState)\n    } catch (err) {\n        return []\n    }\n}\n\nexport const saveState = (state: any) => {\n    try {\n        const serializedState = JSON.stringify(state)\n        window && window.localStorage.setItem('state', serializedState)\n    } catch (err) {\n        // eslint-disable-next-line no-console\n        console.log(err)\n    }\n}\n","import { colors, backgroundColors } from 'styles/colors'\n\nexport const light = {\n    color: `${backgroundColors.formPromo}`,\n    bgColor: `${colors.dark}`,\n    bgColorHover: '#555',\n    overlayColor: '#333333a8',\n}\n","import _slicedToArray from \"/Users/volodymyrbuts/Documents/Work/cl-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/volodymyrbuts/Documents/Work/cl-website/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\n\n/* Created by Gilad Lev-Ari[giladl82@gmail.com] */\nimport \"core-js/modules/web.dom-collections.iterator\";\nimport { useState, useRef, useEffect } from \"react\";\n\nfunction _defineProperty(a, b, c) {\n  return b in a ? Object.defineProperty(a, b, {\n    value: c,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : a[b] = c, a;\n}\n\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n\n  return c;\n}\n\nfunction _objectSpread2(a) {\n  for (var b, c = 1; c < arguments.length; c++) {\n    b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(b, !0).forEach(function (c) {\n      _defineProperty(a, c, b[c]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(b).forEach(function (c) {\n      Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n    });\n  }\n\n  return a;\n}\n\nvar Pointer = function Pointer(a) {\n  _classCallCheck(this, Pointer);\n\n  this.x = a.clientX, this.y = a.clientY;\n};\n\nvar debounce = function debounce(a, b) {\n  var c;\n  return function () {\n    for (var d = arguments.length, e = Array(d), f = 0; f < d; f++) {\n      e[f] = arguments[f];\n    }\n\n    var g = this;\n    clearTimeout(c), c = setTimeout(function () {\n      return a.apply(g, e);\n    }, b);\n  };\n},\n    getDistance = function getDistance(a, b) {\n  var c = Math.pow;\n  var d = c(a.x - b.x, 2),\n      e = c(a.y - b.y, 2);\n  return Math.sqrt(d + e);\n},\n    getAngleDeg = function getAngleDeg(a, b) {\n  return 180 * Math.atan2(a.y - b.y, a.x - b.x) / Math.PI;\n};\n\nfunction useGestures(a, b) {\n  var c = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : {\n    minDelta: 30\n  };\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      d = _useState2[0],\n      e = _useState2[1],\n      _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      f = _useState4[0],\n      g = _useState4[1],\n      h = useRef(null);\n\n  useEffect(function () {\n    var i = a.current,\n        j = function j(a, b, c) {\n      var d = h.current;\n\n      if (2 === b.length) {\n        var _e = new Pointer(b[0]),\n            _f = new Pointer(b[1]),\n            _g = getDistance(_e, _f);\n\n        return {\n          preventDefault: a.preventDefault,\n          stopPropagation: a.stopPropagation,\n          pointers: [_e, _f],\n          delta: c ? _g - c.distance : 0,\n          scale: d ? _g / d.distance : 1,\n          distance: _g,\n          angleDeg: getAngleDeg(_e, _f)\n        };\n      } else {\n        var _e2 = new Pointer(b[0]);\n\n        return _objectSpread2({\n          preventDefault: a.preventDefault,\n          stopPropagation: a.stopPropagation\n        }, _e2, {\n          deltaX: c ? _e2.x - c.x : 0,\n          deltaY: c ? _e2.y - c.y : 0,\n          delta: c ? getDistance(_e2, c) : 0,\n          distance: d ? getDistance(_e2, d) : 0,\n          angleDeg: c ? getAngleDeg(_e2, c) : 0\n        });\n      }\n    },\n        k = function k(a, c) {\n      a && b[a] && \"function\" == typeof b[a] && b[a](c);\n    },\n        l = function l(a) {\n      var b = j(a, a.touches, null);\n      e(b), h.current = b, 2 === a.touches.length ? k(\"onPinchStart\", b) : k(\"onPanStart\", b);\n    },\n        m = function m(a) {\n      var b = Math.abs;\n      var f = j(a, a.touches, d);\n      if (e(f), 2 === a.touches.length) k(\"onPinchChanged\", f);else {\n        k(\"onPanMove\", f);\n\n        var _a, _e3;\n\n        b(f.deltaX) >= c.minDelta && b(f.deltaY) < c.minDelta ? 0 > f.deltaX ? (_a = \"onSwipeLeft\", _e3 = \"swipeLeft\") : (_a = \"onSwipeRight\", _e3 = \"swipeRight\") : b(f.deltaX) < c.minDelta && b(f.deltaY) >= c.minDelta ? 0 > f.deltaY ? (_a = \"onSwipeUp\", _e3 = \"swipeUp\") : (_a = \"onSwipeDown\", _e3 = \"swipeDown\") : _e3 = \"\", _a && debounce(function (a, b, c) {\n          k(a, b), g(c);\n        }, 100)(_a, d, _e3);\n      }\n    },\n        n = function n(a) {\n      var b = j(a, a.changedTouches, null);\n      d && d.pointers && (2 === d.pointers.length ? k(\"onPinchEnd\", b) : k(\"onPanEnd\", b)), f && k(\"on\".concat(f.charAt(0).toUpperCase() + f.slice(1), \"End\"), b);\n    };\n\n    return i.addEventListener(\"touchstart\", l), i.addEventListener(\"touchmove\", m), i.addEventListener(\"touchend\", n), function () {\n      i.removeEventListener(\"touchstart\", l), i.removeEventListener(\"touchmove\", m), i.removeEventListener(\"touchend\", n);\n    };\n  });\n}\n\nexport default useGestures;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nexport class Portal extends React.Component {\n    defaultNode: any\n    props: any\n    componentDidMount() {\n        this.renderPortal()\n    }\n\n    componentDidUpdate(props: any) {\n        this.renderPortal(props)\n    }\n\n    componentWillUnmount() {\n        ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node)\n        if (this.defaultNode) {\n            window && window.document.body.removeChild(this.defaultNode)\n        }\n        this.defaultNode = null\n    }\n\n    renderPortal(props?: any) {\n        if (props && !this.props.node) {\n            return\n        }\n\n        let children: any = this.props.children\n        if (typeof children!.type === 'function') {\n            children = React.cloneElement(children)\n        }\n\n        ReactDOM.render(children, this.props.node)\n    }\n\n    render() {\n        return null\n    }\n}\n","export const accentDark = {\n    color: '#E24C1A',\n    bgColor: '#fff',\n    bgColorHover: '#823827',\n    overlayColor: '#333333a8',\n}\n","import React from 'react'\nimport { Line, Ellipse, Text, Circle, Rect } from 'react-konva'\n\nimport { tools } from 'cad/Workplace'\nimport { ApertureTypePoints, HeaterTypePoints, OptionalString } from './types'\nimport { accentDark } from './themes/accentDark'\nimport { useTranslation } from 'react-i18next'\n\ntype WallProps = {\n    isInProgres?: boolean\n    element: {\n        points: number[]\n        id?: string\n    }\n    setCursor?: (arg: {\n        element: OptionalString\n        style: OptionalString\n    }) => void\n    selected?: OptionalString\n    setSelected?: (arg: OptionalString) => void\n    currentTool?: string\n    cursorStyle?: string\n    cursorElement?: string\n    lockedContur?: boolean\n}\n\nexport const Wall = ({\n    element,\n    isInProgres = false,\n    setCursor = () => {},\n    selected,\n    setSelected = () => {},\n    currentTool,\n    cursorStyle,\n    lockedContur = false,\n    cursorElement,\n}: WallProps) => {\n    const setOpacity = () => {\n        if (cursorStyle === 'pointer' && cursorElement === element.id) {\n            return 0.2\n        }\n        if (cursorStyle !== 'pointer') {\n            return 0\n        }\n        return 0.05\n    }\n    const currentStroke = () => {\n        if (isInProgres && !lockedContur) {\n            return `${accentDark.color}`\n        }\n        if (isInProgres && lockedContur) {\n            return 'green'\n        }\n        if (selected && selected === element.id) {\n            return 'blue'\n        }\n\n        return '#231F20'\n    }\n    return (\n        <>\n            <Line\n                onMouseOver={() => {\n                    if (\n                        currentTool === tools.heater ||\n                        currentTool === tools.vent ||\n                        currentTool === tools.tube ||\n                        currentTool === tools.aperture ||\n                        currentTool === tools.apertureDoor ||\n                        currentTool === tools.balconyDoor\n                    )\n                        setCursor({\n                            element: element.id,\n                            style: 'pointer',\n                        })\n                }}\n                onMouseOut={() =>\n                    setCursor({\n                        element: undefined,\n                        style: 'default',\n                    })\n                }\n                onTouchStart={() => {\n                    if (\n                        currentTool === tools.heater ||\n                        currentTool === tools.vent ||\n                        currentTool === tools.tube ||\n                        currentTool === tools.aperture ||\n                        currentTool === tools.apertureDoor ||\n                        currentTool === tools.balconyDoor\n                    ) {\n                        setSelected(element.id)\n                    }\n                }}\n                onClick={() => {\n                    if (\n                        currentTool === tools.heater ||\n                        currentTool === tools.vent ||\n                        currentTool === tools.tube ||\n                        currentTool === tools.aperture ||\n                        currentTool === tools.apertureDoor ||\n                        currentTool === tools.balconyDoor\n                    ) {\n                        setSelected(element.id)\n                    }\n                }}\n                opacity={setOpacity()}\n                x={0}\n                y={0}\n                points={element.points}\n                strokeWidth={250}\n                stroke={currentStroke()}\n            />\n\n            <Line\n                onMouseOver={() => {\n                    if (\n                        currentTool === tools.heater ||\n                        currentTool === tools.vent ||\n                        currentTool === tools.tube ||\n                        currentTool === tools.aperture ||\n                        currentTool === tools.apertureDoor ||\n                        currentTool === tools.balconyDoor\n                    )\n                        setCursor({\n                            element: element.id,\n                            style: 'pointer',\n                        })\n                }}\n                onMouseOut={() =>\n                    setCursor({\n                        element: undefined,\n                        style: 'default',\n                    })\n                }\n                onTouchStart={() => {\n                    if (\n                        currentTool === tools.heater ||\n                        currentTool === tools.vent ||\n                        currentTool === tools.tube ||\n                        currentTool === tools.aperture ||\n                        currentTool === tools.apertureDoor ||\n                        currentTool === tools.balconyDoor\n                    ) {\n                        setSelected(element.id)\n                    }\n                }}\n                onClick={() => {\n                    if (\n                        currentTool === tools.heater ||\n                        currentTool === tools.vent ||\n                        currentTool === tools.tube ||\n                        currentTool === tools.aperture ||\n                        currentTool === tools.apertureDoor ||\n                        currentTool === tools.balconyDoor\n                    ) {\n                        setSelected(element.id)\n                    }\n                }}\n                x={0}\n                y={0}\n                points={element.points}\n                strokeWidth={20}\n                stroke={currentStroke()}\n                lineCap={'round'}\n                lineJoin={'round'}\n            />\n        </>\n    )\n}\n\ntype MainDoorProps = {\n    isInProgres?: boolean\n    element: {\n        points: number[]\n        id?: string\n    }\n}\n\nexport const MainDoor = ({ element, isInProgres = false }: MainDoorProps) => {\n    const { t } = useTranslation()\n    return (\n        <>\n            <Line\n                x={0}\n                y={0}\n                points={[\n                    element.points[0],\n                    element.points[1],\n                    element.points[0] + element.points[3],\n                    element.points[1],\n                ]}\n                strokeWidth={50}\n                stroke={'orange'}\n                lineCap={'round'}\n                lineJoin={'round'}\n                dash={isInProgres ? [100, 100] : [0, 0]}\n            />\n\n            <Wall\n                element={{\n                    points: [\n                        element.points[0],\n                        element.points[1],\n                        element.points[0],\n                        element.points[1] + element.points[2],\n                    ],\n                }}\n            />\n\n            <Wall\n                element={{\n                    points: [\n                        element.points[0] + element.points[3],\n                        element.points[1],\n                        element.points[0] + element.points[3],\n                        element.points[1] + element.points[2],\n                    ],\n                }}\n            />\n\n            {element.points[4] !== 0 && (\n                <>\n                    <Ellipse\n                        x={element.points[0] + element.points[3] / 2}\n                        y={element.points[1] + element.points[2] / 2 - 350}\n                        radiusX={200}\n                        radiusY={100}\n                        strokeWidth={4}\n                        stroke={'black'}\n                    />\n                    <Text\n                        x={element.points[0] + element.points[3] / 2 - 90}\n                        y={element.points[1] + element.points[2] / 2 - 280}\n                        scaleY={-1}\n                        text={t('Height')}\n                        fontSize={60}\n                        fill={'green'}\n                    />\n                    <Text\n                        x={element.points[0] + element.points[3] / 2 - 80}\n                        y={element.points[1] + element.points[2] / 2 - 350}\n                        scaleY={-1}\n                        text={`${element.points[4]}`}\n                        fontSize={80}\n                        fill={'green'}\n                    />\n                </>\n            )}\n        </>\n    )\n}\n\ntype ApertureProps = {\n    isInProgres?: boolean\n    element: {\n        points: ApertureTypePoints\n        id?: string\n    }\n    isApertureWindow?: boolean\n}\n\nexport const Aperture = ({\n    element,\n    isInProgres = false,\n    isApertureWindow = false,\n}: ApertureProps) => {\n    return (\n        <>\n            <Wall\n                element={{\n                    points: [\n                        element.points[0][0],\n                        element.points[0][1],\n                        element.points[1][0],\n                        element.points[1][1],\n                    ],\n                }}\n            />\n\n            <Line\n                x={0}\n                y={0}\n                points={[\n                    element.points[1][0],\n                    element.points[1][1],\n                    element.points[2][0],\n                    element.points[2][1],\n                ]}\n                strokeWidth={50}\n                stroke={isApertureWindow ? 'blue' : 'green'}\n                lineCap={'round'}\n                lineJoin={'round'}\n                dash={isInProgres ? [50, 50] : [0, 0]}\n            />\n\n            <Wall\n                element={{\n                    points: [\n                        element.points[2][0],\n                        element.points[2][1],\n                        element.points[3][0],\n                        element.points[3][1],\n                    ],\n                }}\n            />\n\n            <Ellipse\n                x={element.points[6][0]}\n                y={element.points[6][1]}\n                radiusX={250}\n                radiusY={150}\n                strokeWidth={4}\n                stroke={'#231F20'}\n            />\n\n            <Text\n                x={element.points[7][0]}\n                y={element.points[7][1]}\n                text={\n                    `${element.points[9][1]}` ? `${element.points[9][1]}` : '0'\n                }\n                scaleY={-1}\n                fontSize={120}\n                fill={'green'}\n            />\n\n            <Text\n                x={element.points[8][0]}\n                y={element.points[8][1]}\n                text={\n                    `${element.points[9][0]}` ? `${element.points[9][0]}` : '0'\n                }\n                scaleY={-1}\n                fontSize={120}\n                fill={'green'}\n            />\n        </>\n    )\n}\n\ntype BatteryProps = {\n    isInProgres?: boolean\n    element: {\n        points: HeaterTypePoints\n    }\n}\n\nexport const Battery = ({ element, isInProgres = false }: BatteryProps) => {\n    return (\n        <>\n            <Line\n                x={0}\n                y={0}\n                points={[\n                    element.points[0][0],\n                    element.points[0][1],\n                    element.points[1][0],\n                    element.points[1][1],\n                ]}\n                strokeWidth={20}\n                stroke={'#811F00'}\n                lineCap={'round'}\n                lineJoin={'round'}\n                dash={isInProgres ? [50, 50] : [0, 0]}\n            />\n\n            <Line\n                x={0}\n                y={0}\n                points={[\n                    element.points[1][0],\n                    element.points[1][1],\n                    element.points[2][0],\n                    element.points[2][1],\n                ]}\n                strokeWidth={20}\n                stroke={'#811F00'}\n                lineCap={'round'}\n                lineJoin={'round'}\n                dash={isInProgres ? [50, 50] : [0, 0]}\n            />\n\n            <Line\n                x={0}\n                y={0}\n                points={[\n                    element.points[2][0],\n                    element.points[2][1],\n                    element.points[3][0],\n                    element.points[3][1],\n                ]}\n                strokeWidth={20}\n                stroke={'#811F00'}\n                lineCap={'round'}\n                lineJoin={'round'}\n                dash={isInProgres ? [50, 50] : [0, 0]}\n            />\n\n            <Line\n                x={0}\n                y={0}\n                points={[\n                    element.points[3][0],\n                    element.points[3][1],\n                    element.points[0][0],\n                    element.points[0][1],\n                ]}\n                strokeWidth={20}\n                stroke={'#811F00'}\n                lineCap={'round'}\n                lineJoin={'round'}\n                dash={isInProgres ? [50, 50] : [0, 0]}\n            />\n        </>\n    )\n}\n\ntype VentProps = {\n    isInProgres?: boolean\n    element: {\n        points: number[]\n    }\n}\n\nexport const Vent = ({ element, isInProgres = false }: VentProps) => {\n    return (\n        <>\n            <Line\n                x={0}\n                y={0}\n                points={[\n                    element.points[0],\n                    element.points[1],\n                    element.points[0] + 150,\n                    element.points[1],\n                ]}\n                strokeWidth={20}\n                stroke={'blue'}\n                lineCap={'round'}\n                lineJoin={'round'}\n                dash={isInProgres ? [20, 20] : [0, 0]}\n            />\n\n            <Line\n                x={0}\n                y={0}\n                points={[\n                    element.points[0] + 150,\n                    element.points[1],\n                    element.points[0] + 150,\n                    element.points[1] + 150,\n                ]}\n                strokeWidth={20}\n                stroke={'blue'}\n                lineCap={'round'}\n                lineJoin={'round'}\n                dash={isInProgres ? [20, 20] : [0, 0]}\n            />\n\n            <Line\n                x={0}\n                y={0}\n                points={[\n                    element.points[0] + 150,\n                    element.points[1] + 150,\n                    element.points[0],\n                    element.points[1] + 150,\n                ]}\n                strokeWidth={20}\n                stroke={'blue'}\n                lineCap={'round'}\n                lineJoin={'round'}\n                dash={isInProgres ? [20, 20] : [0, 0]}\n            />\n\n            <Line\n                x={0}\n                y={0}\n                points={[\n                    element.points[0],\n                    element.points[1] + 150,\n                    element.points[0],\n                    element.points[1],\n                ]}\n                strokeWidth={20}\n                stroke={'blue'}\n                lineCap={'round'}\n                lineJoin={'round'}\n                dash={isInProgres ? [20, 20] : [0, 0]}\n            />\n\n            <Text\n                x={element.points[2]}\n                y={element.points[3]}\n                text={`${element.points[4]}` ? `${element.points[4]}` : '0'}\n                scaleY={-1}\n                fontSize={120}\n                fill={'green'}\n            />\n        </>\n    )\n}\n\ntype TubeProps = {\n    isInProgres?: boolean\n    element: {\n        points: number[]\n    }\n}\n\nexport const Tube = ({ element, isInProgres = false }: TubeProps) => {\n    return (\n        <Circle\n            x={element.points[0]}\n            y={element.points[1]}\n            radius={element.points[2] / 2}\n            stroke={'red'}\n            strokeWidth={10}\n            dash={isInProgres ? [20, 20] : [0, 0]}\n        />\n    )\n}\n\ntype BalconyDoorProps = {\n    isInProgres?: boolean\n    element: {\n        points: [number, number][]\n        balconyType?: string\n    }\n}\n\nexport const BalconyDoor = ({\n    element,\n    isInProgres = false,\n}: BalconyDoorProps) => {\n    return (\n        <>\n            <Wall\n                element={{\n                    points: [\n                        element.points[0][0],\n                        element.points[0][1],\n                        element.points[1][0],\n                        element.points[1][1],\n                    ],\n                }}\n            />\n            {element.balconyType === 'center' ? (\n                <>\n                    <Line // window\n                        x={0}\n                        y={0}\n                        points={[\n                            element.points[18][0],\n                            element.points[18][1],\n                            element.points[2][0],\n                            element.points[2][1],\n                        ]}\n                        strokeWidth={50}\n                        stroke={'blue'}\n                        lineCap={'round'}\n                        lineJoin={'round'}\n                        dash={isInProgres ? [50, 50] : [0, 0]}\n                    />\n                    <Line // door\n                        x={0}\n                        y={0}\n                        points={[\n                            element.points[18][0],\n                            element.points[18][1],\n                            element.points[11][0],\n                            element.points[11][1],\n                        ]}\n                        strokeWidth={50}\n                        stroke={'green'}\n                        lineCap={'round'}\n                        lineJoin={'round'}\n                        dash={isInProgres ? [50, 50] : [0, 0]}\n                    />\n                    <Line // window\n                        x={0}\n                        y={0}\n                        points={[\n                            element.points[1][0],\n                            element.points[1][1],\n                            element.points[11][0],\n                            element.points[11][1],\n                        ]}\n                        strokeWidth={50}\n                        stroke={'blue'}\n                        lineCap={'round'}\n                        lineJoin={'round'}\n                        dash={isInProgres ? [50, 50] : [0, 0]}\n                    />\n                </>\n            ) : (\n                <>\n                    <Line // door\n                        x={0}\n                        y={0}\n                        points={[\n                            element.points[11][0],\n                            element.points[11][1],\n                            element.points[2][0],\n                            element.points[2][1],\n                        ]}\n                        strokeWidth={50}\n                        stroke={\n                            element.balconyType === 'left' ? 'blue' : 'green'\n                        }\n                        lineCap={'round'}\n                        lineJoin={'round'}\n                        dash={isInProgres ? [50, 50] : [0, 0]}\n                    />\n                    <Line // window\n                        x={0}\n                        y={0}\n                        points={[\n                            element.points[1][0],\n                            element.points[1][1],\n                            element.points[11][0],\n                            element.points[11][1],\n                        ]}\n                        strokeWidth={50}\n                        stroke={\n                            element.balconyType === 'left' ? 'green' : 'blue'\n                        }\n                        lineCap={'round'}\n                        lineJoin={'round'}\n                        dash={isInProgres ? [50, 50] : [0, 0]}\n                    />\n                </>\n            )}\n            <Wall\n                element={{\n                    points: [\n                        element.points[2][0],\n                        element.points[2][1],\n                        element.points[3][0],\n                        element.points[3][1],\n                    ],\n                }}\n            />\n            <Rect\n                x={element.points[6][0]}\n                y={element.points[6][1]}\n                width={700}\n                height={420}\n                strokeWidth={4}\n                stroke={'#231F20'}\n            />\n            <Text\n                x={element.points[7][0]}\n                y={element.points[7][1]}\n                text={\n                    `${element.points[9][1]}`\n                        ? 'T: ' + `${element.points[9][1]}`\n                        : '0'\n                }\n                scaleY={-1}\n                fontSize={120}\n                fill={'green'}\n            />\n            <Text\n                x={element.points[8][0]}\n                y={element.points[8][1]}\n                text={\n                    `${element.points[9][0]}`\n                        ? 'WB: ' + `${element.points[9][0]}`\n                        : '0'\n                }\n                scaleY={-1}\n                fontSize={120}\n                fill={'green'}\n            />\n            <Text\n                x={element.points[17][0]}\n                y={element.points[17][1]}\n                text={\n                    `${element.points[16][0]}`\n                        ? 'DB: ' + `${element.points[16][0]}`\n                        : '0'\n                }\n                scaleY={-1}\n                fontSize={120}\n                fill={'green'}\n            />\n            {element.balconyType === 'center' && (\n                <>\n                    <Wall\n                        element={{\n                            points: [\n                                element.points[18][0],\n                                element.points[18][1],\n                                element.points[19][0],\n                                element.points[19][1],\n                            ],\n                        }}\n                    />\n                </>\n            )}\n            <Wall\n                element={{\n                    points: [\n                        element.points[10][0],\n                        element.points[10][1],\n                        element.points[11][0],\n                        element.points[11][1],\n                    ],\n                }}\n            />\n            <Wall\n                element={{\n                    points: [\n                        element.points[12][0],\n                        element.points[12][1],\n                        element.points[14][0],\n                        element.points[14][1],\n                    ],\n                }}\n            />\n            <Wall\n                element={{\n                    points: [\n                        element.points[13][0],\n                        element.points[13][1],\n                        element.points[15][0],\n                        element.points[15][1],\n                    ],\n                }}\n            />\n        </>\n    )\n}\n","// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const getElements = (state: { elements: { present: any } }) =>\n    state.elements.present\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const statePastElements = (state: { elements: { past: any } }) =>\n    state.elements.past[state.elements.past.length - 1]\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const stateFutureElements = (state: { elements: { future: any } }) =>\n    state.elements.future[0]\n","import React, { RefObject } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport styled from 'styled-components'\nimport { light } from './themes/light'\n\nconst Input = styled.input`\n    font-size: 20px;\n    height: 26px;\n    max-width: 100px;\n    width: 100%;\n    box-sizing: border-box;\n    padding: 2px;\n    border: none;\n    border-radius: 0;\n    border-bottom: solid 1px ${light.bgColor};\n    @media (max-width: 767px) {\n        font-size: 16px;\n        height: 20px;\n    }\n`\nconst Label = styled.span`\n    font-size: 10px;\n    padding-left: 5px;\n`\nconst Wrapper = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    padding: 5px;\n`\nconst Unit = styled.span`\n    position: absolute;\n    bottom: 7px;\n    right: 5px;\n`\ntype Props = {\n    onChange: (event: { target: { value: string } }) => void\n    value: number\n    min?: number\n    max?: number\n    forwardRef?: RefObject<HTMLInputElement> | null\n    pattern?: string\n    type?: string\n    placeholder?: string\n    setInputValue: (arg: number) => void\n}\n\nexport const NumberInput = ({\n    value,\n    min = 0,\n    max = 99999,\n    onChange,\n    forwardRef = null,\n    pattern = '[0-9]*',\n    type = 'text',\n    placeholder = '0',\n    setInputValue,\n}: Props) => {\n    const { t } = useTranslation()\n    const handleChange = (event: { target: { value: string } }) => {\n        if (isNaN(Number(event.target.value))) {\n            setInputValue(100)\n            return\n        }\n        if (Number(event.target.value) < 0) {\n            setInputValue(100)\n            return\n        }\n        if ((min !== undefined || min === 0) && value < min) {\n            setInputValue(min)\n            return\n        }\n        if ((max !== undefined || max === 0) && value > max) {\n            setInputValue(max)\n            return\n        }\n\n        onChange(event)\n    }\n\n    return (\n        <Wrapper>\n            <Label> {placeholder} </Label>\n            <Unit>{t('unit')}</Unit>\n            <Input\n                value={value}\n                inputMode=\"decimal\"\n                ref={forwardRef}\n                onChange={handleChange}\n                type={type}\n                pattern={pattern}\n            />\n        </Wrapper>\n    )\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport { Layer } from 'react-konva'\nimport styled, { ThemeProvider } from 'styled-components'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { v4 as uuid } from 'uuid'\nimport { useTranslation } from 'react-i18next'\nimport isTouchDevice from 'is-touch-device'\nimport { tools } from 'cad/Workplace'\nimport { light } from 'cad/themes/light'\nimport Right from 'assets/icons/iconsCad/right.svg'\nimport Down from 'assets/icons/iconsCad/down.svg'\nimport Left from 'assets/icons/iconsCad/left.svg'\nimport Up from 'assets/icons/iconsCad/up.svg'\nimport { Portal } from 'cad/Portal'\nimport { Wall } from 'cad/ElementsType'\nimport { getElements } from 'cad/storage/selectors'\nimport EnterSvg from 'assets/icons/iconsCad/enter.svg'\nimport { NumberInput } from 'cad/NumberInput'\nimport { WallType, ElementType, WallPoints } from 'cad/types'\nimport { displayWidth } from 'styles/width'\n\nconst LineEditorContainer = styled.form`\n    display: flex;\n    align-items: center;\n    background-color: white;\n    padding: 5px;\n    border-radius: 9px;\n    border: 1px solid ${light.bgColor};\n    box-sizing: border-box;\n    @media (max-width: 767px) {\n        flex-direction: column;\n        max-width: 320px;\n        box-sizing: border-box;\n    }\n`\nexport const InputSubmit = styled.button`\n    cursor: pointer;\n    border: none;\n    padding: 0;\n    margin: 0 8px 0 10px;\n    display: flex;\n    background-color: white;\n    :hover {\n        svg {\n            fill: #000000a9;\n        }\n    }\n`\nexport const Wrapper = styled.div`\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    align-items: center;\n`\nexport const Title = styled.p`\n    font-family: Open Sans;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: 24px;\n    letter-spacing: 0px;\n    text-align: center;\n    text-transform: uppercase;\n    margin-bottom: 5px;\n`\nconst InputWraper = styled.div`\n    display: flex;\n    height: 100%;\n    align-items: center;\n    align-self: center;\n    margin: 5px 0;\n    @media (min-width: ${displayWidth.tablet}) {\n        margin: 0;\n    }\n`\nconst ButtonDirection = styled.div<{ active: boolean }>`\n    display: flex;\n    align-items: center;\n    svg {\n        width: 34px;\n        height: 34px;\n        margin: 0 15px;\n        color: ${(props) => (props.active ? 'white' : light.bgColor)};\n        fill: ${(props) => (props.active ? light.bgColor : 'white')};\n    }\n    :hover {\n        svg {\n            color: white;\n            fill: #000000a9;\n        }\n    }\n`\nexport const Line = styled.div`\n    height: 121%;\n    min-height: 50px;\n    width: 1px;\n    border-left: solid 1px ${light.bgColor};\n\n    @media (max-width: 1023px) {\n        display: none;\n    }\n`\nconst LockButton = styled.div`\n    margin-top: 3px;\n    height: 44px;\n    color: white;\n    background-color: ${light.bgColor};\n    padding: 14px;\n    font-style: normal;\n    font-weight: bold;\n    font-size: 12px;\n    text-transform: uppercase;\n    box-sizing: border-box;\n    border-radius: 20px;\n    @media (min-width: ${displayWidth.tablet}) {\n        font-size: 16px;\n    }\n`\nconst direction = {\n    right: 'right',\n    left: 'left',\n    down: 'down',\n    up: 'up',\n}\nconst Desktop = styled.div`\n    display: none;\n    @media (min-width: ${displayWidth.tablet}) {\n        display: flex;\n        align-items: center;\n    }\n`\nconst Mobile = styled.div`\n    display: flex;\n    align-items: center;\n    @media (min-width: ${displayWidth.tablet}) {\n        display: none;\n    }\n`\n\ntype Props = {\n    toolEditorContainerNode?: React.ReactNode\n    setElementDirection: (arg: string) => void\n    elementDirection: string\n    setCenteringState: (arg: number[]) => void\n    dragableState: { x: number; y: number; isDragging?: boolean }\n    startPoint: [number, number]\n    scale: number\n    setCurrentTool: (arg: string) => void\n}\nexport const WallTool = ({\n    toolEditorContainerNode,\n    setElementDirection,\n    elementDirection,\n    dragableState,\n    setCenteringState,\n    startPoint,\n    scale,\n    setCurrentTool,\n}: Props) => {\n    const dispatch = useDispatch()\n    const { t } = useTranslation()\n    const inputEl = useRef<HTMLInputElement>(null)\n    const [sizeInputValue, setSizeInputValue] = useState(1000)\n    useEffect(() => {\n        const helpWithWallLength = () => {\n            if (\n                lastDoorElement &&\n                lastDoorElement.objectType === tools.apertureDoor &&\n                lastWall[0] === lastWall[2] &&\n                lastWall[0] === lastDoorElement.points[2][0] &&\n                lastWall[2] === lastDoorElement.points[2][0] &&\n                Math.abs(lastWall[3] - lastDoorElement.points[2][1]) -\n                    sizeInputValue <\n                    20\n            ) {\n                setSizeInputValue(\n                    Math.abs(lastWall[1] - lastDoorElement.points[2][1])\n                )\n            }\n            if (\n                lastDoorElement &&\n                lastDoorElement.objectType === tools.mainDoor &&\n                lastWall[0] === lastWall[2] &&\n                lastWall[0] === lastDoorElement.points[0] &&\n                lastWall[2] === lastDoorElement.points[0] &&\n                Math.abs(\n                    lastWall[3] -\n                        (lastDoorElement.points[2] + lastDoorElement.points[1])\n                ) -\n                    sizeInputValue <\n                    20\n            ) {\n                setSizeInputValue(\n                    Math.abs(\n                        lastWall[1] -\n                            (lastDoorElement.points[2] +\n                                lastDoorElement.points[1])\n                    )\n                )\n            }\n            if (\n                lastDoorElement &&\n                lastDoorElement.objectType === tools.apertureDoor &&\n                lastWall[1] === lastWall[3] &&\n                lastWall[1] === lastDoorElement.points[2][1] &&\n                lastWall[3] === lastDoorElement.points[2][1] &&\n                Math.abs(lastWall[2] - lastDoorElement.points[2][0]) -\n                    sizeInputValue <\n                    20\n            ) {\n                setSizeInputValue(\n                    Math.abs(lastWall[0] - lastDoorElement.points[2][0])\n                )\n            }\n            if (\n                lastDoorElement &&\n                lastDoorElement.objectType === tools.mainDoor &&\n                lastWall[1] === lastWall[3] &&\n                lastWall[1] ===\n                    lastDoorElement.points[2] + lastDoorElement.points[1] &&\n                lastWall[3] ===\n                    lastDoorElement.points[2] + lastDoorElement.points[1] &&\n                Math.abs(lastWall[2] - lastDoorElement.points[0]) -\n                    sizeInputValue <\n                    20\n            ) {\n                setSizeInputValue(\n                    Math.abs(lastWall[0] - lastDoorElement.points[0])\n                )\n            }\n            if (\n                lastDoorElement &&\n                lastDoorElement.objectType === tools.balconyDoor &&\n                lastWall[0] === lastWall[2] &&\n                lastWall[0] === lastDoorElement.points[15][0] &&\n                lastWall[2] === lastDoorElement.points[15][0] &&\n                Math.abs(lastWall[3] - lastDoorElement.points[15][1]) -\n                    sizeInputValue <\n                    20\n            ) {\n                setSizeInputValue(\n                    Math.abs(lastWall[1] - lastDoorElement.points[15][1])\n                )\n            }\n            if (\n                lastDoorElement &&\n                lastDoorElement.objectType === tools.balconyDoor &&\n                lastWall[1] === lastWall[3] &&\n                lastWall[1] === lastDoorElement.points[15][1] &&\n                lastWall[3] === lastDoorElement.points[15][1] &&\n                Math.abs(lastWall[2] - lastDoorElement.points[15][0]) -\n                    sizeInputValue <\n                    20\n            ) {\n                setSizeInputValue(\n                    Math.abs(lastWall[0] - lastDoorElement.points[15][0])\n                )\n            }\n        }\n        helpWithWallLength()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [sizeInputValue])\n\n    const handleChangeSizeInput = (event: { target: { value: string } }) => {\n        if (isNaN(Number(event.target.value))) {\n            return\n        }\n        setSizeInputValue(Number(event.target.value))\n    }\n    const stateElements = useSelector(getElements)\n\n    if (!stateElements.length) {\n        return null\n    }\n\n    const elementsToDetermineContinuePointFrom = stateElements.filter(\n        (element: ElementType) =>\n            (element.objectType === tools.wall && !element.isApertureWall) ||\n            element.objectType === tools.mainDoor ||\n            element.objectType === tools.apertureDoor ||\n            element.objectType === tools.balconyDoor\n    )\n    const lastElementInState =\n        elementsToDetermineContinuePointFrom[\n            elementsToDetermineContinuePointFrom.length - 1\n        ]\n    const getPointsToStartWallFrom = (): [number, number] => {\n        if (lastElementInState.objectType === tools.mainDoor) {\n            return [\n                lastElementInState.points[0] + lastElementInState.points[3],\n                lastElementInState.points[1] + lastElementInState.points[2],\n            ]\n        }\n\n        if (lastElementInState.objectType === tools.wall) {\n            return [lastElementInState.points[2], lastElementInState.points[3]]\n        }\n        if (lastElementInState.objectType === tools.apertureDoor) {\n            return startPoint\n        }\n        if (lastElementInState.objectType === tools.balconyDoor) {\n            return startPoint\n        }\n        return [0, 0]\n    }\n    const elementToStartWallFrom: [number, number] = getPointsToStartWallFrom()\n    const renderCurrentDirection = (): WallPoints => {\n        switch (elementDirection) {\n            case direction.right: {\n                return [\n                    elementToStartWallFrom[0],\n                    elementToStartWallFrom[1],\n                    elementToStartWallFrom[0] + sizeInputValue,\n                    elementToStartWallFrom[1],\n                ]\n            }\n            case direction.left: {\n                return [\n                    elementToStartWallFrom[0],\n                    elementToStartWallFrom[1],\n                    elementToStartWallFrom[0] - sizeInputValue,\n                    elementToStartWallFrom[1],\n                ]\n            }\n            case direction.down: {\n                return [\n                    elementToStartWallFrom[0],\n                    elementToStartWallFrom[1],\n                    elementToStartWallFrom[0],\n                    elementToStartWallFrom[1] - sizeInputValue,\n                ]\n            }\n            case direction.up: {\n                return [\n                    elementToStartWallFrom[0],\n                    elementToStartWallFrom[1],\n                    elementToStartWallFrom[0],\n                    elementToStartWallFrom[1] + sizeInputValue,\n                ]\n            }\n\n            default: {\n                return [\n                    elementToStartWallFrom[0],\n                    elementToStartWallFrom[1],\n                    elementToStartWallFrom[0] + sizeInputValue,\n                    elementToStartWallFrom[1],\n                ]\n            }\n        }\n    }\n    const doorElements =\n        stateElements.length &&\n        stateElements.filter(\n            (element: ElementType) =>\n                element.objectType === tools.mainDoor ||\n                element.objectType === tools.apertureDoor ||\n                element.objectType === tools.balconyDoor\n        )\n    const lastDoorElement = doorElements[doorElements.length - 1]\n    const lastWall = renderCurrentDirection()\n\n    const lockedContur =\n        (lastDoorElement &&\n            lastDoorElement.objectType === tools.apertureDoor &&\n            lastWall[0] === lastWall[2] &&\n            lastWall[0] === lastDoorElement.points[2][0] &&\n            lastWall[2] === lastDoorElement.points[2][0] &&\n            lastWall[3] === lastDoorElement.points[2][1]) ||\n        (lastDoorElement &&\n            lastDoorElement.objectType === tools.apertureDoor &&\n            lastWall[1] === lastWall[3] &&\n            lastWall[1] === lastDoorElement.points[2][1] &&\n            lastWall[3] === lastDoorElement.points[2][1] &&\n            lastWall[2] === lastDoorElement.points[2][0]) ||\n        (lastDoorElement &&\n            lastDoorElement.objectType === tools.balconyDoor &&\n            lastWall[0] === lastWall[2] &&\n            lastWall[0] === lastDoorElement.points[15][0] &&\n            lastWall[2] === lastDoorElement.points[15][0] &&\n            lastWall[3] === lastDoorElement.points[15][1]) ||\n        (lastDoorElement &&\n            lastDoorElement.objectType === tools.balconyDoor &&\n            lastWall[1] === lastWall[3] &&\n            lastWall[1] === lastDoorElement.points[15][1] &&\n            lastWall[3] === lastDoorElement.points[15][1] &&\n            lastWall[2] === lastDoorElement.points[15][0]) ||\n        (lastDoorElement &&\n            lastDoorElement.objectType === tools.mainDoor &&\n            lastWall[0] === lastWall[2] &&\n            lastWall[0] === lastDoorElement.points[0] &&\n            lastWall[2] === lastDoorElement.points[0] &&\n            lastWall[3] ===\n                lastDoorElement.points[2] + lastDoorElement.points[1]) ||\n        (lastDoorElement &&\n            lastDoorElement.objectType === tools.mainDoor &&\n            lastWall[1] === lastWall[3] &&\n            lastWall[1] ===\n                lastDoorElement.points[2] + lastDoorElement.points[1] &&\n            lastWall[3] ===\n                lastDoorElement.points[2] + lastDoorElement.points[1] &&\n            lastWall[2] === lastDoorElement.points[0])\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault()\n        dispatch({\n            type: 'addElement',\n            element: {\n                id: uuid(),\n                objectType: tools.wall,\n                points: renderCurrentDirection(),\n            } as WallType,\n        })\n\n        setCenteringState([\n            lastWall[2] + dragableState!.x * 10 * (0.1 / scale!),\n            lastWall[3] - dragableState!.y * 10 * (0.1 / scale!),\n        ])\n        {\n            lockedContur && setCurrentTool(tools.move)\n        }\n    }\n    const selectInputText = () => {\n        if (isTouchDevice()) {\n            return\n        }\n        inputEl.current!.select()\n    }\n    return (\n        <>\n            <Layer>\n                <Wall\n                    isInProgres\n                    lockedContur={lockedContur}\n                    element={{\n                        points: renderCurrentDirection(),\n                    }}\n                />\n            </Layer>\n\n            <Portal node={toolEditorContainerNode}>\n                <ThemeProvider theme={light}>\n                    <Wrapper>\n                        <Title>{t('Wall')}</Title>\n                        <LineEditorContainer onSubmit={handleSubmit}>\n                            <Desktop>\n                                <NumberInput\n                                    setInputValue={setSizeInputValue}\n                                    forwardRef={inputEl}\n                                    value={sizeInputValue}\n                                    onChange={handleChangeSizeInput}\n                                    placeholder={t('Length')}\n                                />\n                            </Desktop>\n\n                            <InputWraper>\n                                <ButtonDirection\n                                    active={elementDirection === direction.left}\n                                    onClick={() => {\n                                        setElementDirection(direction.left)\n                                        selectInputText()\n                                    }}\n                                >\n                                    <Left />\n                                </ButtonDirection>\n\n                                <ButtonDirection\n                                    active={\n                                        elementDirection === direction.right\n                                    }\n                                    onClick={() => {\n                                        setElementDirection(direction.right)\n                                        selectInputText()\n                                    }}\n                                >\n                                    <Right />\n                                </ButtonDirection>\n\n                                <ButtonDirection\n                                    active={elementDirection === direction.up}\n                                    onClick={() => {\n                                        setElementDirection(direction.up)\n                                        selectInputText()\n                                    }}\n                                >\n                                    <Up />\n                                </ButtonDirection>\n\n                                <ButtonDirection\n                                    active={elementDirection === direction.down}\n                                    onClick={() => {\n                                        setElementDirection(direction.down)\n                                        selectInputText()\n                                    }}\n                                >\n                                    <Down />\n                                </ButtonDirection>\n                            </InputWraper>\n                            <InputWraper>\n                                <Mobile>\n                                    <NumberInput\n                                        setInputValue={setSizeInputValue}\n                                        forwardRef={inputEl}\n                                        value={sizeInputValue}\n                                        onChange={handleChangeSizeInput}\n                                        placeholder={t('Length')}\n                                    />\n                                </Mobile>\n                                <Line />\n                                <InputSubmit type=\"submit\">\n                                    {lockedContur ? (\n                                        <LockButton>\n                                            {t('LockContur')}\n                                        </LockButton>\n                                    ) : (\n                                        <EnterSvg />\n                                    )}\n                                </InputSubmit>\n                            </InputWraper>\n                        </LineEditorContainer>\n                    </Wrapper>\n                </ThemeProvider>\n            </Portal>\n        </>\n    )\n}\n","import React, { useState } from 'react'\nimport { Layer, Ellipse, Text, Line } from 'react-konva'\nimport styled, { ThemeProvider } from 'styled-components'\n\nimport { Portal } from 'cad/Portal'\nimport { useDispatch } from 'react-redux'\nimport { Wall } from 'cad/ElementsType'\nimport { tools } from 'cad/Workplace'\nimport { v4 as uuid } from 'uuid'\nimport { useTranslation } from 'react-i18next'\nimport { light } from 'cad/themes/light'\nimport EnterSvg from 'assets/icons/iconsCad/enter.svg'\nimport { NumberInput } from 'cad/NumberInput'\nimport { Title, Wrapper } from './WallTool'\n\nconst MainDoorEditorContainer = styled.form`\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    align-items: flex-start;\n    background-color: white;\n    border: solid 1px ${light.bgColor};\n    padding: 5px;\n    & p {\n        margin: 0 5px;\n        font-size: 20px;\n        align-self: center;\n    }\n    @media (max-width: 767px) {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        grid-template-rows: auto;\n        max-width: 320px;\n        box-sizing: border-box;\n        justify-items: center;\n        row-gap: 5px;\n    }\n`\nconst InputSubmit = styled.button`\n    cursor: pointer;\n    border: none;\n    padding: 0;\n    margin: 5px 8px 0 10px;\n    background-color: white;\n`\nconst LineS = styled.div`\n    height: 120%;\n    min-height: 50px;\n    width: 1px;\n    border-left: solid 1px ${light.bgColor};\n    transform: translatey(-10%);\n    @media (max-width: 767px) {\n        display: none;\n    }\n`\ntype Props = {\n    toolEditorContainerNode?: React.ReactNode\n    setCurrentTool: (arg: string) => void\n    startPoint: [number, number]\n}\nexport const MainDoorTool = ({\n    toolEditorContainerNode,\n    setCurrentTool,\n    startPoint,\n}: Props) => {\n    const dispatch = useDispatch()\n    const { t } = useTranslation()\n    const [MainDoorWidthInputValue, setMainDoorWidthInputValue] = useState<\n        number\n    >(900)\n    const handleChangeMainDoorWidthInput = (event: {\n        target: { value: string }\n    }) => {\n        if (isNaN(Number(event.target.value))) {\n            return\n        }\n        setMainDoorWidthInputValue(Number(event.target.value))\n    }\n\n    const [MainDoorDepthInputValue, setMainDoorDepthInputValue] = useState(400)\n    const handleChangeMainDoorDepthInput = (event: {\n        target: { value: string }\n    }) => {\n        if (isNaN(Number(event.target.value))) {\n            return\n        }\n        setMainDoorDepthInputValue(Number(event.target.value))\n    }\n\n    const [MainDoorHeigthInputValue, setMainDoorHeigthInputValue] = useState(\n        2000\n    )\n    const handleChangeMainDoorHeigthInput = (event: {\n        target: { value: string }\n    }) => {\n        if (isNaN(Number(event.target.value))) {\n            return\n        }\n        setMainDoorHeigthInputValue(Number(event.target.value))\n    }\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault()\n        dispatch({\n            type: 'addElement',\n            element: {\n                id: uuid(),\n                objectType: 'mainDoor',\n                points: [\n                    startPoint[0],\n                    startPoint[1],\n                    MainDoorDepthInputValue,\n                    MainDoorWidthInputValue,\n                    MainDoorHeigthInputValue,\n                ],\n            },\n        })\n        setCurrentTool(tools.wall)\n    }\n    return (\n        <>\n            <Layer>\n                <Line\n                    x={0}\n                    y={0}\n                    points={[\n                        startPoint[0],\n                        startPoint[1],\n                        startPoint[0] + MainDoorWidthInputValue,\n                        startPoint[1],\n                    ]}\n                    strokeWidth={50}\n                    stroke={'red'}\n                    lineCap={'round'}\n                    lineJoin={'round'}\n                    dash={[100, 100]}\n                />\n\n                <Wall\n                    isInProgres\n                    element={{\n                        points: [\n                            startPoint[0],\n                            startPoint[1],\n                            startPoint[0],\n                            startPoint[1] + MainDoorDepthInputValue,\n                        ],\n                    }}\n                />\n\n                <Wall\n                    isInProgres\n                    element={{\n                        points: [\n                            startPoint[0] + MainDoorWidthInputValue,\n                            startPoint[1],\n                            startPoint[0] + MainDoorWidthInputValue,\n                            startPoint[1] + MainDoorDepthInputValue,\n                        ],\n                    }}\n                />\n\n                {MainDoorHeigthInputValue !== 0 && (\n                    <>\n                        <Ellipse\n                            x={startPoint[0] + MainDoorWidthInputValue / 2}\n                            y={\n                                startPoint[1] +\n                                MainDoorDepthInputValue / 2 -\n                                350\n                            }\n                            radiusX={200}\n                            radiusY={100}\n                            strokeWidth={4}\n                            stroke={'black'}\n                        />\n                        <Text\n                            x={startPoint[0] + MainDoorWidthInputValue / 2 - 90}\n                            y={\n                                startPoint[1] +\n                                MainDoorDepthInputValue / 2 -\n                                280\n                            }\n                            scaleY={-1}\n                            text={t('Height')}\n                            fontSize={60}\n                            fill={'green'}\n                        />\n                        <Text\n                            x={startPoint[0] + MainDoorWidthInputValue / 2 - 80}\n                            y={\n                                startPoint[1] +\n                                MainDoorDepthInputValue / 2 -\n                                350\n                            }\n                            scaleY={-1}\n                            text={String(MainDoorHeigthInputValue)}\n                            fontSize={80}\n                            fill={'green'}\n                        />\n                    </>\n                )}\n            </Layer>\n\n            <Portal node={toolEditorContainerNode}>\n                <ThemeProvider theme={light}>\n                    <Wrapper>\n                        <Title>{t('MainDoor')}</Title>\n                        <MainDoorEditorContainer onSubmit={handleSubmit}>\n                            <NumberInput\n                                placeholder={t('Width')}\n                                setInputValue={setMainDoorWidthInputValue}\n                                value={MainDoorWidthInputValue}\n                                onChange={handleChangeMainDoorWidthInput}\n                            />\n                            <NumberInput\n                                placeholder={t('Depth')}\n                                setInputValue={setMainDoorDepthInputValue}\n                                value={MainDoorDepthInputValue}\n                                onChange={handleChangeMainDoorDepthInput}\n                            />\n                            <NumberInput\n                                placeholder={t('Height')}\n                                setInputValue={setMainDoorHeigthInputValue}\n                                value={MainDoorHeigthInputValue}\n                                onChange={handleChangeMainDoorHeigthInput}\n                            />\n                            <LineS />\n                            <InputSubmit type=\"submit\">\n                                <EnterSvg />\n                            </InputSubmit>\n                        </MainDoorEditorContainer>\n                    </Wrapper>\n                </ThemeProvider>\n            </Portal>\n        </>\n    )\n}\n","export const getSelectedWallLength = (wall: { points: number[] }) => {\n    if (wall !== undefined) {\n        if (wall.points[0] !== wall.points[2]) {\n            return Math.abs(wall.points[0] - wall.points[2])\n        }\n        return Math.abs(wall.points[1] - wall.points[3])\n    }\n    return 1\n}\nexport const calculateDefaultIndent = (\n    selected: string | undefined,\n    selectedLine: { points: number[] } | undefined,\n    balcony?: boolean\n) => {\n    if (selectedLine !== undefined) {\n        if (\n            selected &&\n            selectedLine.points[0] !== selectedLine.points[2] &&\n            Math.abs(selectedLine.points[0] - selectedLine.points[2]) >\n                (balcony ? 1500 : 900)\n        ) {\n            return (\n                (Math.abs(selectedLine.points[0] - selectedLine.points[2]) -\n                    (balcony ? 1500 : 900)) /\n                2\n            )\n        }\n\n        if (\n            selected &&\n            selectedLine.points[0] === selectedLine.points[2] &&\n            Math.abs(selectedLine.points[1] - selectedLine.points[3]) >\n                (balcony ? 1500 : 900)\n        ) {\n            return (\n                (Math.abs(selectedLine.points[1] - selectedLine.points[3]) -\n                    (balcony ? 1500 : 900)) /\n                2\n            )\n        }\n\n        return 100\n    }\n    return 1\n}\n","import React, { useState, useEffect } from 'react'\nimport { Layer } from 'react-konva'\nimport styled, { ThemeProvider } from 'styled-components'\nimport { useTranslation } from 'react-i18next'\n\nimport { Portal } from 'cad/Portal'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Aperture, Wall } from 'cad/ElementsType'\nimport { tools } from 'cad/Workplace'\nimport { v4 as uuid } from 'uuid'\n\nimport { light } from 'cad/themes/light'\nimport { getElements } from 'cad/storage/selectors'\nimport {\n    getSelectedWallLength,\n    calculateDefaultIndent,\n} from 'cad/reusableFunctions'\nimport EnterSvg from 'assets/icons/iconsCad/enter.svg'\nimport { NumberInput } from 'cad/NumberInput'\nimport { ApertureTypePoints, OptionalString, WallType } from 'cad/types'\nimport { InputSubmit, Title, Wrapper } from './WallTool'\n\nconst ApertureEditorContainer = styled.form`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: white;\n    border: solid 1px ${light.bgColor};\n    padding: 5px;\n    & p {\n        max-width: 200px;\n        margin: 0;\n        font-size: 16px;\n        align-self: center;\n        text-align: center;\n        @media (max-width: 819px) {\n            font-size: 14px;\n            max-width: 90px;\n            text-align: center;\n        }\n    }\n    @media (max-width: 767px) {\n        display: grid;\n        grid-template-columns: 1fr 1fr 1fr;\n        grid-template-rows: auto;\n        max-width: 320px;\n        align-items: flex-end;\n        justify-items: center;\n        box-sizing: border-box;\n    }\n`\n\nconst InputWraper = styled.div`\n    margin: 0 5px;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    align-items: center;\n`\n\nconst Line = styled.div`\n    height: 120%;\n    width: 1px;\n    border-left: solid 1px ${light.bgColor};\n    @media (max-width: 767px) {\n        display: none;\n    }\n`\n\ntype Props = {\n    toolEditorContainerNode: React.ReactNode\n    setCurrentTool: (arg: string) => void\n    selected: OptionalString\n    setSelected: (arg: OptionalString) => void\n    isApertureWindow?: boolean\n    setStartPoint?: undefined | ((arg: [number, number]) => void)\n    setWallDirection?:\n        | undefined\n        | ((currentAperturePoints: ApertureTypePoints) => void)\n}\nexport const ApertureTool = ({\n    toolEditorContainerNode,\n    selected,\n    setCurrentTool,\n    setSelected,\n    setStartPoint = () => {},\n    setWallDirection = () => {},\n    isApertureWindow = false,\n}: Props) => {\n    const dispatch = useDispatch()\n    const { t } = useTranslation()\n    const stateElements = useSelector(getElements)\n\n    const selectedLine: WallType = stateElements.find(\n        (element: { id: string }) => element.id === selected\n    )\n    const selectedWallLength = selected\n        ? getSelectedWallLength(selectedLine!)\n        : 0\n    const [leftIndent, setLeftIndent] = useState(0)\n    const [rightIndent, setRightIndent] = useState(0)\n\n    useEffect(() => {\n        const defaultIndent = calculateDefaultIndent(selected, selectedLine)\n\n        setLeftIndent(defaultIndent)\n        setRightIndent(defaultIndent)\n    }, [selected, selectedLine])\n\n    const handleLeftIndentChange = (event: { target: { value: string } }) => {\n        if (\n            Number(selectedWallLength) - rightIndent >=\n            Number(event.target.value)\n        )\n            setLeftIndent(Number(event.target.value))\n    }\n    const handleRightIndentChange = (event: { target: { value: string } }) => {\n        if (\n            Number(selectedWallLength) - leftIndent >=\n            Number(event.target.value)\n        )\n            setRightIndent(Number(event.target.value))\n    }\n\n    const [apertureDepth, setApertureDepth] = useState(200)\n    const handleApertureDepthChange = (event: { target: { value: string } }) =>\n        setApertureDepth(Number(event.target.value))\n\n    const [apertureNicheDepth, setApertureNicheDepth] = useState(100)\n    const handleApertureNicheDepthChange = (event: {\n        target: { value: string }\n    }) => setApertureNicheDepth(Number(event.target.value))\n\n    const [apertureHeigthTop, setApertureHeigthTop] = useState(2000)\n    const handleApertureHeigthTopChange = (event: {\n        target: { value: string }\n    }) => {\n        setApertureHeigthTop(Number(event.target.value))\n    }\n    const [apertureHeigthBottom, setApertureHeigthBottom] = useState(\n        isApertureWindow ? 1000 : 0\n    )\n    const handleApertureHeigthBottomChange = (event: {\n        target: { value: string }\n    }) => {\n        setApertureHeigthBottom(Number(event.target.value))\n    }\n\n    if (!stateElements.length) {\n        return null\n    }\n\n    const getCurrentAperturePoints: (arg: WallType) => ApertureTypePoints = (\n        line: WallType\n    ) => {\n        if (\n            line.points[0] !== line.points[2] &&\n            line.points[0] < line.points[2]\n        ) {\n            return [\n                [line.points[0] + leftIndent, line.points[1]],\n                [line.points[0] + leftIndent, line.points[1] - apertureDepth],\n                [line.points[2] - rightIndent, line.points[3] - apertureDepth],\n                [line.points[2] - rightIndent, line.points[3]],\n                [\n                    line.points[0] + leftIndent,\n                    line.points[1] - apertureNicheDepth,\n                ],\n                [\n                    line.points[2] - rightIndent,\n                    line.points[3] - apertureNicheDepth,\n                ],\n                [\n                    line.points[0] +\n                        leftIndent +\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2,\n                    line.points[1] - apertureDepth - 190,\n                ],\n                [\n                    line.points[0] +\n                        leftIndent +\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 -\n                        120,\n                    line.points[1] - apertureDepth - 80,\n                ],\n                [\n                    line.points[0] +\n                        leftIndent +\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 -\n                        120,\n                    line.points[1] - apertureDepth - 200,\n                ],\n                [apertureHeigthBottom, apertureHeigthTop],\n            ]\n        }\n\n        if (\n            line.points[0] !== line.points[2] &&\n            line.points[0] > line.points[2]\n        ) {\n            return [\n                [line.points[0] - rightIndent, line.points[1]],\n                [line.points[0] - rightIndent, line.points[1] + apertureDepth],\n                [line.points[2] + leftIndent, line.points[3] + apertureDepth],\n                [line.points[2] + leftIndent, line.points[3]],\n                [\n                    line.points[0] - rightIndent,\n                    line.points[1] + apertureNicheDepth,\n                ],\n                [\n                    line.points[2] + leftIndent,\n                    line.points[3] + apertureNicheDepth,\n                ],\n                [\n                    line.points[2] +\n                        leftIndent +\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2,\n                    line.points[3] + apertureDepth + 190,\n                ],\n                [\n                    line.points[2] +\n                        leftIndent +\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 -\n                        120,\n                    line.points[3] + apertureDepth + 180,\n                ],\n                [\n                    line.points[2] +\n                        leftIndent +\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 -\n                        120,\n                    line.points[3] + apertureDepth + 290,\n                ],\n                [apertureHeigthTop, apertureHeigthBottom],\n            ]\n        }\n\n        if (\n            line.points[0] === line.points[2] &&\n            line.points[1] < line.points[3]\n        ) {\n            return [\n                [line.points[0], line.points[1] + rightIndent],\n                [line.points[0] + apertureDepth, line.points[1] + rightIndent],\n                [line.points[2] + apertureDepth, line.points[3] - leftIndent],\n\n                [line.points[2], line.points[3] - leftIndent],\n                [\n                    line.points[0] + apertureNicheDepth,\n                    line.points[1] + rightIndent,\n                ],\n                [\n                    line.points[2] + apertureNicheDepth,\n\n                    line.points[3] - leftIndent,\n                ],\n                [\n                    line.points[0] + apertureDepth + 280,\n                    line.points[1] +\n                        rightIndent +\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2,\n                ],\n                [\n                    line.points[0] + apertureDepth + 150,\n                    line.points[1] +\n                        rightIndent +\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 +\n                        100,\n                ],\n                [\n                    line.points[0] + apertureDepth + 150,\n                    line.points[1] +\n                        rightIndent +\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 -\n                        10,\n                ],\n                [apertureHeigthBottom, apertureHeigthTop],\n            ]\n        }\n        return [\n            [line.points[0], line.points[1] - rightIndent],\n            [line.points[0] - apertureDepth, line.points[1] - rightIndent],\n            [line.points[2] - apertureDepth, line.points[3] + leftIndent],\n            [line.points[2], line.points[3] + leftIndent],\n            [line.points[0] - apertureNicheDepth, line.points[1] - rightIndent],\n            [line.points[2] - apertureNicheDepth, line.points[3] + leftIndent],\n            [\n                line.points[2] - apertureDepth - 280,\n                line.points[3] +\n                    leftIndent +\n                    (Number(selectedWallLength) - rightIndent - leftIndent) / 2,\n            ],\n            [\n                line.points[2] - apertureDepth - 400,\n                line.points[3] +\n                    leftIndent +\n                    (Number(selectedWallLength) - rightIndent - leftIndent) /\n                        2 +\n                    100,\n            ],\n            [\n                line.points[2] - apertureDepth - 400,\n                line.points[3] +\n                    leftIndent +\n                    (Number(selectedWallLength) - rightIndent - leftIndent) /\n                        2 -\n                    10,\n            ],\n            [apertureHeigthBottom, apertureHeigthTop],\n        ]\n    }\n\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault()\n        isApertureWindow\n            ? dispatch({\n                  type: 'addElements',\n                  elements: [\n                      {\n                          id: uuid(),\n                          objectType: 'wall',\n                          isApertureWall: true,\n                          points: [\n                              getCurrentAperturePoints(selectedLine)[4][0],\n                              getCurrentAperturePoints(selectedLine)[4][1],\n                              getCurrentAperturePoints(selectedLine)[5][0],\n                              getCurrentAperturePoints(selectedLine)[5][1],\n                          ],\n                      },\n                      {\n                          id: uuid(),\n                          objectType: 'aperture',\n                          points: getCurrentAperturePoints(selectedLine),\n                      },\n                  ],\n              })\n            : dispatch({\n                  type: 'addElement',\n                  element: {\n                      id: uuid(),\n                      objectType: 'apertureDoor',\n                      points: getCurrentAperturePoints(selectedLine),\n                  },\n              })\n\n        !isApertureWindow &&\n            setStartPoint(getCurrentAperturePoints(selectedLine)[1])\n\n        !isApertureWindow &&\n            setWallDirection(getCurrentAperturePoints(selectedLine))\n        isApertureWindow\n            ? setCurrentTool(tools.move)\n            : setCurrentTool(tools.wall)\n\n        setSelected(undefined)\n    }\n    return (\n        <>\n            {selected && isApertureWindow && (\n                <Layer>\n                    <Aperture\n                        isApertureWindow\n                        isInProgres\n                        element={{\n                            points: getCurrentAperturePoints(selectedLine),\n                        }}\n                    />\n\n                    <Wall\n                        isInProgres\n                        element={{\n                            points: [\n                                getCurrentAperturePoints(selectedLine)[4][0],\n                                getCurrentAperturePoints(selectedLine)[4][1],\n                                getCurrentAperturePoints(selectedLine)[5][0],\n                                getCurrentAperturePoints(selectedLine)[5][1],\n                            ],\n                        }}\n                    />\n                </Layer>\n            )}\n            {selected && !isApertureWindow && (\n                <Layer>\n                    <Aperture\n                        isInProgres\n                        element={{\n                            points: getCurrentAperturePoints(selectedLine),\n                        }}\n                    />\n                </Layer>\n            )}\n\n            <Portal node={toolEditorContainerNode}>\n                <ThemeProvider theme={light}>\n                    {selected && (\n                        <Wrapper>\n                            <Title>\n                                {isApertureWindow ? t('Window') : t('Door')}\n                            </Title>\n                            <ApertureEditorContainer onSubmit={handleSubmit}>\n                                <InputWraper>\n                                    <NumberInput\n                                        placeholder={t('LeftIndent')}\n                                        setInputValue={setLeftIndent}\n                                        max={\n                                            Number(selectedWallLength) -\n                                            rightIndent\n                                        }\n                                        value={leftIndent}\n                                        onChange={handleLeftIndentChange}\n                                    />\n                                </InputWraper>\n\n                                <InputWraper>\n                                    <NumberInput\n                                        placeholder={t('RightIndent')}\n                                        setInputValue={setRightIndent}\n                                        max={\n                                            Number(selectedWallLength) -\n                                            leftIndent\n                                        }\n                                        value={rightIndent}\n                                        onChange={handleRightIndentChange}\n                                    />\n                                </InputWraper>\n                                {isApertureWindow && (\n                                    <InputWraper>\n                                        <NumberInput\n                                            placeholder={t('NicheDepth')}\n                                            setInputValue={\n                                                setApertureNicheDepth\n                                            }\n                                            max={apertureDepth}\n                                            value={apertureNicheDepth}\n                                            onChange={\n                                                handleApertureNicheDepthChange\n                                            }\n                                        />\n                                    </InputWraper>\n                                )}\n\n                                <InputWraper>\n                                    <NumberInput\n                                        placeholder={t('DepthApertupe')}\n                                        setInputValue={setApertureDepth}\n                                        value={apertureDepth}\n                                        onChange={handleApertureDepthChange}\n                                    />\n                                </InputWraper>\n\n                                <InputWraper>\n                                    <NumberInput\n                                        placeholder={t('HeigthBottom')}\n                                        setInputValue={setApertureHeigthBottom}\n                                        value={apertureHeigthBottom}\n                                        onChange={\n                                            handleApertureHeigthBottomChange\n                                        }\n                                    />\n                                </InputWraper>\n\n                                <InputWraper>\n                                    <NumberInput\n                                        placeholder={t('HeigthTop')}\n                                        setInputValue={setApertureHeigthTop}\n                                        value={apertureHeigthTop}\n                                        onChange={handleApertureHeigthTopChange}\n                                    />\n                                </InputWraper>\n                                {isApertureWindow && (\n                                    <>\n                                        <div />\n                                        <div />\n                                    </>\n                                )}\n                                <Line />\n                                <InputSubmit type=\"submit\">\n                                    <EnterSvg />\n                                </InputSubmit>\n                            </ApertureEditorContainer>\n                        </Wrapper>\n                    )}\n                </ThemeProvider>\n            </Portal>\n        </>\n    )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Layer } from 'react-konva'\nimport styled, { ThemeProvider } from 'styled-components'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { v4 as uuid } from 'uuid'\n\nimport { light } from 'cad/themes/light'\nimport { useTranslation } from 'react-i18next'\nimport { Portal } from 'cad/Portal'\nimport { Battery } from 'cad/ElementsType'\nimport { tools } from 'cad/Workplace'\nimport {\n    getSelectedWallLength,\n    calculateDefaultIndent,\n} from 'cad/reusableFunctions'\nimport { getElements } from 'cad/storage/selectors'\nimport EnterSvg from 'assets/icons/iconsCad/enter.svg'\nimport { NumberInput } from 'cad/NumberInput'\nimport { HeaterTypePoints, OptionalString } from 'cad/types'\nimport { InputSubmit, Line, Title, Wrapper } from './WallTool'\n\nconst LineEditorContainer = styled.form`\n    display: flex;\n    align-items: center;\n    background-color: white;\n    border: solid 1px ${light.bgColor};\n    padding: 5px;\n    & p {\n        font-size: 18px;\n        align-self: center;\n        margin: 0;\n        @media (max-width: 767px) {\n            font-size: 14px;\n            text-align: center;\n        }\n    }\n    @media (max-width: 767px) {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        grid-template-rows: auto;\n        max-width: 320px;\n        box-sizing: border-box;\n        justify-items: start;\n    }\n`\nconst InputWraper = styled.div`\n    margin: 0 10px;\n`\n\ntype Props = {\n    toolEditorContainerNode?: React.ReactNode\n    selected: OptionalString\n    setSelected: (arg: OptionalString) => void\n    setCurrentTool: (arg: string) => void\n}\nexport const BatteryTool = ({\n    toolEditorContainerNode,\n    selected,\n    setCurrentTool,\n    setSelected,\n}: Props) => {\n    const dispatch = useDispatch()\n    const { t } = useTranslation()\n    const stateElements = useSelector(getElements)\n\n    const selectedLine: { points: number[] } = stateElements.find(\n        (element: { id: string }) => element.id === selected\n    )\n    const selectedWallLength = selected && getSelectedWallLength(selectedLine)\n    const [leftIndent, setLeftIndent] = useState<number>(0)\n    const [rightIndent, setRightIndent] = useState<number>(0)\n    const [depth, setDepth] = useState<number>(150)\n\n    useEffect(() => {\n        const defaultIndent = calculateDefaultIndent(selected, selectedLine)\n\n        setLeftIndent(defaultIndent)\n        setRightIndent(defaultIndent)\n    }, [selected, selectedLine])\n\n    const handleLeftIndentChange = (event: { target: { value: string } }) => {\n        if (\n            Number(selectedWallLength) - Number(rightIndent) >=\n            Number(event.target.value)\n        )\n            setLeftIndent(Number(event.target.value))\n    }\n    const handleRightIndentChange = (event: { target: { value: string } }) => {\n        if (\n            Number(selectedWallLength) - Number(leftIndent) >=\n            Number(event.target.value)\n        )\n            setRightIndent(Number(event.target.value))\n    }\n    const handleDepthChange = (event: { target: { value: string } }) =>\n        setDepth(Number(event.target.value))\n    if (!stateElements.length) {\n        return null\n    }\n\n    const getCurrentBatteryPoints: () => HeaterTypePoints = () => {\n        if (\n            selectedLine.points[0] !== selectedLine.points[2] &&\n            selectedLine.points[0] < selectedLine.points[2]\n        ) {\n            return [\n                [\n                    selectedLine.points[0] + leftIndent,\n                    selectedLine.points[1] + 20,\n                ],\n                [\n                    selectedLine.points[0] + leftIndent,\n                    selectedLine.points[1] + depth,\n                ],\n                [\n                    selectedLine.points[2] - rightIndent,\n                    selectedLine.points[3] + depth,\n                ],\n                [\n                    selectedLine.points[2] - rightIndent,\n                    selectedLine.points[3] + 20,\n                ],\n            ]\n        } else if (\n            selectedLine.points[0] !== selectedLine.points[2] &&\n            selectedLine.points[0] > selectedLine.points[2]\n        ) {\n            return [\n                [\n                    selectedLine.points[0] - rightIndent,\n                    selectedLine.points[1] - 20,\n                ],\n                [\n                    selectedLine.points[0] - rightIndent,\n                    selectedLine.points[1] - depth,\n                ],\n                [\n                    selectedLine.points[2] + leftIndent,\n                    selectedLine.points[3] - depth,\n                ],\n                [\n                    selectedLine.points[2] + leftIndent,\n                    selectedLine.points[3] - 20,\n                ],\n            ]\n        } else if (\n            selectedLine.points[0] === selectedLine.points[2] &&\n            selectedLine.points[1] < selectedLine.points[3]\n        ) {\n            return [\n                [\n                    selectedLine.points[0] - 20,\n                    selectedLine.points[1] + leftIndent,\n                ],\n                [\n                    selectedLine.points[0] - depth,\n                    selectedLine.points[1] + leftIndent,\n                ],\n                [\n                    selectedLine.points[2] - depth,\n\n                    selectedLine.points[3] - rightIndent,\n                ],\n                [\n                    selectedLine.points[2] - 20,\n                    selectedLine.points[3] - rightIndent,\n                ],\n            ]\n        } else {\n            return [\n                [\n                    selectedLine.points[0] + 20,\n                    selectedLine.points[1] - rightIndent,\n                ],\n                [\n                    selectedLine.points[0] + depth,\n                    selectedLine.points[1] - rightIndent,\n                ],\n                [\n                    selectedLine.points[2] + depth,\n                    selectedLine.points[3] + leftIndent,\n                ],\n                [\n                    selectedLine.points[2] + 20,\n                    selectedLine.points[3] + leftIndent,\n                ],\n            ]\n        }\n    }\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault()\n        dispatch({\n            type: 'addElement',\n            element: {\n                id: uuid(),\n                objectType: 'heater',\n                points: getCurrentBatteryPoints(),\n            },\n        })\n        setCurrentTool(tools.move)\n        setSelected(undefined)\n    }\n    return (\n        <>\n            {selected && (\n                <Layer>\n                    <Battery\n                        isInProgres\n                        element={{\n                            points: getCurrentBatteryPoints(),\n                        }}\n                    />\n                </Layer>\n            )}\n\n            <Portal node={toolEditorContainerNode}>\n                <ThemeProvider theme={light}>\n                    {selected && (\n                        <Wrapper>\n                            <Title>{t('Heater')}</Title>\n                            <LineEditorContainer onSubmit={handleSubmit}>\n                                <InputWraper>\n                                    <NumberInput\n                                        placeholder={t('LeftIndent')}\n                                        setInputValue={setLeftIndent}\n                                        max={\n                                            Number(selectedWallLength) -\n                                            rightIndent\n                                        }\n                                        value={leftIndent}\n                                        onChange={handleLeftIndentChange}\n                                    />\n                                </InputWraper>\n\n                                <InputWraper>\n                                    <NumberInput\n                                        placeholder={t('RightIndent')}\n                                        setInputValue={setRightIndent}\n                                        max={\n                                            Number(selectedWallLength) -\n                                            leftIndent\n                                        }\n                                        value={rightIndent}\n                                        onChange={handleRightIndentChange}\n                                    />\n                                </InputWraper>\n\n                                <InputWraper>\n                                    <NumberInput\n                                        placeholder={t('Depth')}\n                                        setInputValue={setDepth}\n                                        value={depth}\n                                        onChange={handleDepthChange}\n                                    />\n                                </InputWraper>\n\n                                <Line />\n                                <InputSubmit type=\"submit\">\n                                    <EnterSvg />\n                                </InputSubmit>\n                            </LineEditorContainer>\n                        </Wrapper>\n                    )}\n                </ThemeProvider>\n            </Portal>\n        </>\n    )\n}\n","import React, { useState } from 'react'\nimport { Layer } from 'react-konva'\nimport styled, { ThemeProvider } from 'styled-components'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { v4 as uuid } from 'uuid'\nimport { useTranslation } from 'react-i18next'\n\nimport { light } from 'cad/themes/light'\nimport { Portal } from 'cad/Portal'\nimport { Vent } from 'cad/ElementsType'\nimport { tools } from 'cad/Workplace'\nimport ChangeIcon from 'assets/icons/iconsCad/change.svg'\nimport { getSelectedWallLength } from 'cad/reusableFunctions'\nimport { getElements } from 'cad/storage/selectors'\nimport EnterSvg from 'assets/icons/iconsCad/enter.svg'\nimport { NumberInput } from 'cad/NumberInput'\nimport { OptionalString } from 'cad/types'\nimport { InputSubmit, Line, Title, Wrapper } from './WallTool'\n\nconst LineEditorContainer = styled.form`\n    display: flex;\n    align-items: center;\n    background-color: white;\n    border: solid 1px ${light.bgColor};\n    padding: 5px;\n    & p {\n        margin: 0 5px;\n        font-size: 18px;\n        align-self: center;\n        text-align: center;\n    }\n    @media (max-width: 767px) {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        grid-template-rows: auto;\n        max-width: 320px;\n        box-sizing: border-box;\n        justify-items: center;\n    }\n`\n\ntype Props = {\n    toolEditorContainerNode: React.ReactNode\n    selected: OptionalString\n    switchDirection: boolean\n    setSelected: (arg: OptionalString) => void\n    setCurrentTool: (arg: string) => void\n    setSwitchDirection: (arg: boolean) => void\n}\nexport const VentTool = ({\n    toolEditorContainerNode,\n    selected,\n    setCurrentTool,\n    setSelected,\n    switchDirection,\n    setSwitchDirection,\n}: Props) => {\n    const dispatch = useDispatch()\n    const { t } = useTranslation()\n    const stateElements = useSelector(getElements)\n    const selectedLine = stateElements.find(\n        (element: { id: string }) => element.id === selected\n    )\n    const [indent, setIndent] = useState(200)\n    const [height, setHeight] = useState(2000)\n\n    const selectedWallLength = selected && getSelectedWallLength(selectedLine)\n    const handleIndentChange = (event: { target: { value: string } }) => {\n        if (Number(selectedWallLength) - 150 >= Number(event.target.value))\n            setIndent(Number(event.target.value))\n    }\n    const handleHeightChange = (event: { target: { value: string } }) =>\n        setHeight(Number(event.target.value))\n\n    if (!stateElements.length) {\n        return null\n    }\n\n    const getCurrentVentPoints = () => {\n        if (\n            selectedLine.points[0] !== selectedLine.points[2] &&\n            selectedLine.points[0] < selectedLine.points[2] &&\n            switchDirection === false\n        ) {\n            return [\n                selectedLine.points[0] + indent,\n                selectedLine.points[1] - 150,\n                selectedLine.points[0] + indent - 50,\n                selectedLine.points[1] - 200,\n                height,\n            ]\n        }\n\n        if (\n            selectedLine.points[0] !== selectedLine.points[2] &&\n            selectedLine.points[0] < selectedLine.points[2] &&\n            switchDirection === true\n        ) {\n            return [\n                selectedLine.points[2] - indent - 150,\n                selectedLine.points[3] - 150,\n                selectedLine.points[2] - indent - 200,\n                selectedLine.points[3] - 200,\n                height,\n            ]\n        }\n\n        if (\n            selectedLine.points[0] !== selectedLine.points[2] &&\n            selectedLine.points[0] > selectedLine.points[2] &&\n            switchDirection === false\n        ) {\n            return [\n                selectedLine.points[0] - indent - 150,\n                selectedLine.points[1],\n                selectedLine.points[0] - indent - 200,\n                selectedLine.points[1] + 300,\n                height,\n            ]\n        }\n        if (\n            selectedLine.points[0] !== selectedLine.points[2] &&\n            selectedLine.points[0] > selectedLine.points[2] &&\n            switchDirection === true\n        ) {\n            return [\n                selectedLine.points[2] + indent,\n                selectedLine.points[3],\n                selectedLine.points[2] + indent - 50,\n                selectedLine.points[3] + 300,\n                height,\n            ]\n        }\n\n        if (\n            selectedLine.points[0] === selectedLine.points[2] &&\n            selectedLine.points[1] < selectedLine.points[3] &&\n            switchDirection === false\n        ) {\n            return [\n                selectedLine.points[0],\n                selectedLine.points[1] + indent,\n                selectedLine.points[0] + 200,\n                selectedLine.points[1] + indent + 120,\n                height,\n            ]\n        }\n        if (\n            selectedLine.points[0] === selectedLine.points[2] &&\n            selectedLine.points[1] < selectedLine.points[3] &&\n            switchDirection === true\n        ) {\n            return [\n                selectedLine.points[2],\n                selectedLine.points[3] - indent - 150,\n                selectedLine.points[2] + 200,\n                selectedLine.points[3] - indent - 30,\n                height,\n            ]\n        }\n        if (\n            selectedLine.points[0] === selectedLine.points[2] &&\n            selectedLine.points[1] > selectedLine.points[3] &&\n            switchDirection === false\n        ) {\n            return [\n                selectedLine.points[0] - 150,\n                selectedLine.points[1] - indent - 150,\n                selectedLine.points[0] - 450,\n                selectedLine.points[1] - indent - 30,\n                height,\n            ]\n        }\n\n        return [\n            selectedLine.points[2] - 150,\n            selectedLine.points[3] + indent,\n            selectedLine.points[2] - 450,\n            selectedLine.points[3] + indent + 120,\n            height,\n        ]\n    }\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault()\n        dispatch({\n            type: 'addElement',\n            element: {\n                id: uuid(),\n                objectType: 'vent',\n                points: getCurrentVentPoints(),\n            },\n        })\n        setCurrentTool(tools.move)\n        setSelected(undefined)\n    }\n    const handleSwitch = () => setSwitchDirection(!switchDirection)\n    return (\n        <>\n            {selected && (\n                <Layer>\n                    <Vent\n                        isInProgres\n                        element={{\n                            points: getCurrentVentPoints(),\n                        }}\n                    />\n                </Layer>\n            )}\n\n            <Portal node={toolEditorContainerNode}>\n                <ThemeProvider theme={light}>\n                    {selected && (\n                        <Wrapper>\n                            <Title>{t('Vent')}</Title>\n                            <LineEditorContainer onSubmit={handleSubmit}>\n                                <NumberInput\n                                    placeholder={t('Indent')}\n                                    setInputValue={setIndent}\n                                    min={0}\n                                    max={Number(selectedWallLength) - 150}\n                                    value={indent}\n                                    onChange={handleIndentChange}\n                                />\n\n                                <NumberInput\n                                    placeholder={t('Height')}\n                                    setInputValue={setHeight}\n                                    min={0}\n                                    value={height}\n                                    onChange={handleHeightChange}\n                                />\n\n                                <InputSubmit\n                                    type=\"button\"\n                                    onClick={handleSwitch}\n                                >\n                                    <ChangeIcon />\n                                </InputSubmit>\n\n                                <Line />\n                                <InputSubmit type=\"submit\">\n                                    <EnterSvg />\n                                </InputSubmit>\n                            </LineEditorContainer>\n                        </Wrapper>\n                    )}\n                </ThemeProvider>\n            </Portal>\n        </>\n    )\n}\n","import React, { useState } from 'react'\nimport { Layer } from 'react-konva'\nimport styled, { ThemeProvider } from 'styled-components'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { v4 as uuid } from 'uuid'\nimport { useTranslation } from 'react-i18next'\n\nimport { light } from 'cad/themes/light'\nimport { Portal } from 'cad/Portal'\nimport { Tube } from 'cad/ElementsType'\nimport { tools } from 'cad/Workplace'\nimport ChangeIcon from 'assets/icons/iconsCad/change.svg'\nimport { getSelectedWallLength } from 'cad/reusableFunctions'\nimport { getElements } from 'cad/storage/selectors'\nimport EnterSvg from 'assets/icons/iconsCad/enter.svg'\nimport { NumberInput } from 'cad/NumberInput'\nimport { OptionalString } from 'cad/types'\nimport { InputSubmit, Line } from './WallTool'\n\nconst LineEditorContainer = styled.form`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: white;\n    border: solid 1px ${light.bgColor};\n    padding: 5px;\n    & p {\n        box-sizing: border-box;\n        margin: 0;\n        font-size: 18px;\n        align-self: center;\n        @media (max-width: 767px) {\n            font-size: 14px;\n            text-align: center;\n            max-width: 110px;\n        }\n    }\n    @media (max-width: 767px) {\n        flex-wrap: wrap;\n        max-width: 320px;\n        box-sizing: border-box;\n    }\n`\nconst InputWraperWide = styled.div`\n    max-width: 250px;\n    margin: 0 10px;\n    @media (max-width: 767px) {\n        max-width: 190px;\n        margin: 0 5px;\n    }\n`\nconst InputWraper = styled.div`\n    max-width: 22%;\n    margin: 0 10px;\n    @media (max-width: 767px) {\n        max-width: 123px;\n        margin: 0;\n    }\n`\n\ntype Props = {\n    toolEditorContainerNode: React.ReactNode\n    selected: OptionalString\n    switchDirection: boolean\n    setSelected: (arg: OptionalString) => void\n    setCurrentTool: (arg: string) => void\n    setSwitchDirection: (arg: boolean) => void\n}\nexport const TubeTool = ({\n    toolEditorContainerNode,\n    selected,\n    setCurrentTool,\n    setSelected,\n    switchDirection,\n    setSwitchDirection,\n}: Props) => {\n    const dispatch = useDispatch()\n    const { t } = useTranslation()\n    const stateElements = useSelector(getElements)\n    const selectedLine = stateElements.find(\n        (element: { id: string }) => element.id === selected\n    )\n\n    const [indentMine, setIndentMine] = useState(100)\n    const [indentSide, setIndentSide] = useState(100)\n    const [diameter, setDiameter] = useState(50)\n\n    const handleIndentMineChange = (event: { target: { value: string } }) =>\n        setIndentMine(Number(event.target.value))\n\n    const handleIndentSideChange = (event: { target: { value: string } }) => {\n        if (Number(selectedWallLength) - diameter >= Number(event.target.value))\n            setIndentSide(Number(event.target.value))\n    }\n\n    const handleDiameterChange = (event: { target: { value: string } }) => {\n        if (\n            Number(selectedWallLength) - indentSide >=\n            Number(event.target.value)\n        )\n            setDiameter(Number(event.target.value))\n    }\n\n    if (!stateElements.length) {\n        return null\n    }\n\n    const selectedWallLength = selected && getSelectedWallLength(selectedLine)\n    const getCurrentTubePoints = () => {\n        if (\n            selectedLine.points[0] !== selectedLine.points[2] &&\n            selectedLine.points[0] < selectedLine.points[2] &&\n            switchDirection === false\n        ) {\n            return [\n                selectedLine.points[0] + indentSide + diameter / 2,\n                selectedLine.points[1] + indentMine + diameter / 2,\n                diameter,\n            ]\n        }\n\n        if (\n            selectedLine.points[0] !== selectedLine.points[2] &&\n            selectedLine.points[0] < selectedLine.points[2] &&\n            switchDirection === true\n        ) {\n            return [\n                selectedLine.points[2] - indentSide - diameter / 2,\n                selectedLine.points[3] + indentMine + diameter / 2,\n                diameter,\n            ]\n        }\n\n        if (\n            selectedLine.points[0] !== selectedLine.points[2] &&\n            selectedLine.points[0] > selectedLine.points[2] &&\n            switchDirection === false\n        ) {\n            return [\n                selectedLine.points[0] - indentSide - diameter / 2,\n                selectedLine.points[1] - indentMine - diameter / 2,\n                diameter,\n            ]\n        }\n        if (\n            selectedLine.points[0] !== selectedLine.points[2] &&\n            selectedLine.points[0] > selectedLine.points[2] &&\n            switchDirection === true\n        ) {\n            return [\n                selectedLine.points[2] + indentSide + diameter / 2,\n                selectedLine.points[3] - indentMine - diameter / 2,\n                diameter,\n            ]\n        }\n\n        if (\n            selectedLine.points[0] === selectedLine.points[2] &&\n            selectedLine.points[1] < selectedLine.points[3] &&\n            switchDirection === false\n        ) {\n            return [\n                selectedLine.points[0] - indentMine - diameter / 2,\n                selectedLine.points[1] + indentSide + diameter / 2,\n                diameter,\n            ]\n        }\n        if (\n            selectedLine.points[0] === selectedLine.points[2] &&\n            selectedLine.points[1] < selectedLine.points[3] &&\n            switchDirection === true\n        ) {\n            return [\n                selectedLine.points[2] - indentMine - diameter / 2,\n                selectedLine.points[3] - indentSide - diameter / 2,\n                diameter,\n            ]\n        }\n        if (\n            selectedLine.points[0] === selectedLine.points[2] &&\n            selectedLine.points[1] > selectedLine.points[3] &&\n            switchDirection === false\n        ) {\n            return [\n                selectedLine.points[0] + indentMine + diameter / 2,\n                selectedLine.points[1] - indentSide - diameter / 2,\n                diameter,\n            ]\n        }\n\n        return [\n            selectedLine.points[2] + indentMine + diameter / 2,\n            selectedLine.points[3] + indentSide + diameter / 2,\n            diameter,\n        ]\n    }\n\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault()\n        dispatch({\n            type: 'addElement',\n            element: {\n                id: uuid(),\n                objectType: 'tube',\n                points: getCurrentTubePoints(),\n            },\n        })\n\n        setCurrentTool(tools.move)\n        setSelected(undefined)\n    }\n\n    const handleSwitch = () => setSwitchDirection(!switchDirection)\n    return (\n        <>\n            {selected && (\n                <Layer>\n                    <Tube\n                        isInProgres\n                        element={{\n                            points: getCurrentTubePoints(),\n                        }}\n                    />\n                </Layer>\n            )}\n\n            <Portal node={toolEditorContainerNode}>\n                <ThemeProvider theme={light}>\n                    {selected && (\n                        <LineEditorContainer onSubmit={handleSubmit}>\n                            <InputWraper>\n                                <NumberInput\n                                    placeholder={t('IndentToMainWall')}\n                                    setInputValue={setIndentMine}\n                                    value={indentMine}\n                                    onChange={handleIndentMineChange}\n                                />\n                            </InputWraper>\n\n                            <InputWraperWide>\n                                <NumberInput\n                                    placeholder={t('IndentToSideWall')}\n                                    setInputValue={setIndentSide}\n                                    max={Number(selectedWallLength) - diameter}\n                                    value={indentSide}\n                                    onChange={handleIndentSideChange}\n                                />\n                            </InputWraperWide>\n\n                            <InputWraper>\n                                <NumberInput\n                                    placeholder={t('TubeDiameter')}\n                                    setInputValue={setDiameter}\n                                    min={10}\n                                    max={\n                                        Number(selectedWallLength) - indentSide\n                                    }\n                                    value={diameter}\n                                    onChange={handleDiameterChange}\n                                />\n                            </InputWraper>\n\n                            <InputSubmit type=\"button\" onClick={handleSwitch}>\n                                <ChangeIcon />\n                            </InputSubmit>\n\n                            <Line />\n                            <InputSubmit type=\"submit\">\n                                <EnterSvg />\n                            </InputSubmit>\n                        </LineEditorContainer>\n                    )}\n                </ThemeProvider>\n            </Portal>\n        </>\n    )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Layer } from 'react-konva'\nimport styled, { ThemeProvider } from 'styled-components'\nimport { useTranslation } from 'react-i18next'\n\nimport { Portal } from 'cad/Portal'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { BalconyDoor, Wall } from 'cad/ElementsType'\nimport { tools } from 'cad/Workplace'\nimport { v4 as uuid } from 'uuid'\nimport Left from 'assets/icons/iconsCad/left.svg'\nimport Right from 'assets/icons/iconsCad/right.svg'\nimport LeftBalcony from 'assets/icons/iconsCad/leftBalcony.svg'\nimport RightBalcony from 'assets/icons/iconsCad/rightBalcony.svg'\nimport CenterBalcony from 'assets/icons/iconsCad/balcony.svg'\nimport { light } from 'cad/themes/light'\nimport { getElements } from 'cad/storage/selectors'\nimport {\n    getSelectedWallLength,\n    calculateDefaultIndent,\n} from 'cad/reusableFunctions'\nimport EnterSvg from 'assets/icons/iconsCad/enter.svg'\nimport { NumberInput } from 'cad/NumberInput'\nimport { ApertureTypePoints, OptionalString, WallType } from 'cad/types'\nimport { InputSubmit, Title, Wrapper } from './WallTool'\n\nconst ApertureEditorContainer = styled.form`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: white;\n    border: solid 1px ${light.bgColor};\n    padding: 5px;\n    & p {\n        max-width: 200px;\n        margin: 0;\n        font-size: 16px;\n        align-self: center;\n        text-align: center;\n        @media (max-width: 819px) {\n            font-size: 14px;\n            max-width: 90px;\n            text-align: center;\n        }\n    }\n    @media (max-width: 767px) {\n        display: grid;\n        grid-template-columns: 1fr 1fr 1fr;\n        grid-template-rows: auto;\n        max-width: 320px;\n        box-sizing: border-box;\n        align-items: flex-end;\n        justify-items: center;\n    }\n`\nconst InputWraper = styled.div`\n    margin: 0 5px;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    align-items: center;\n    div {\n        display: flex;\n    }\n`\n\nconst Line = styled.div`\n    height: 120%;\n    width: 1px;\n    border-left: solid 1px ${light.bgColor};\n`\nconst WrapperBlock = styled.div`\n    display: flex;\n    align-items: center;\n    height: 100%;\n`\nconst ButtonDirection = styled.div<{ disabled?: boolean }>`\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    svg {\n        width: 34px;\n        height: 34px;\n        margin: 0 15px;\n        z-index: 2;\n        color: ${(props) => (props.disabled ? 'white' : '#000000a9')};\n        fill: ${(props) => (props.disabled ? '#000000a9' : 'white')};\n    }\n    :hover {\n        svg {\n            color: white;\n            fill: #000000a9;\n        }\n    }\n`\nconst Button = styled.button<{ active: boolean }>`\n    cursor: pointer;\n    background-color: ${(props) => (props.active ? light.bgColor : '#fff')};\n    border: none;\n    margin: 3px 10px;\n    svg {\n        width: 34px;\n        height: 34px;\n        margin: 5px;\n        z-index: 2;\n    }\n    :hover {\n        svg {\n            color: white;\n            fill: #000000a9;\n        }\n    }\n`\ntype Props = {\n    toolEditorContainerNode: React.ReactNode\n    setCurrentTool: (arg: string) => void\n    selected: OptionalString\n    setSelected: (arg: OptionalString) => void\n    setStartPoint?: undefined | ((arg: [number, number]) => void)\n    setWallDirection?:\n        | undefined\n        | ((currentAperturePoints: ApertureTypePoints) => void)\n}\nexport const BalconyDoorTool = ({\n    toolEditorContainerNode,\n    selected,\n    setCurrentTool,\n    setSelected,\n    setStartPoint = () => {},\n    setWallDirection = () => {},\n}: Props) => {\n    const dispatch = useDispatch()\n    const { t } = useTranslation()\n    const stateElements = useSelector(getElements)\n    const [inputWindowNumber, setInputWindowNumber] = useState(1)\n    const [balconyType, setBalconyType] = useState('')\n\n    const selectedLine: WallType = stateElements.find(\n        (element: { id: string }) => element.id === selected\n    )\n    const selectedWallLength = selected\n        ? getSelectedWallLength(selectedLine!)\n        : 0\n    const [leftIndent, setLeftIndent] = useState(0)\n    const [rightIndent, setRightIndent] = useState(0)\n    const [outsideWidth, setOutsideWidth] = useState(0)\n\n    useEffect(() => {\n        const defaultIndent = calculateDefaultIndent(\n            selected,\n            selectedLine,\n            true\n        )\n        setLeftIndent(defaultIndent)\n        setRightIndent(defaultIndent)\n    }, [selected, selectedLine, selectedWallLength])\n    useEffect(() => {\n        setOutsideWidth(selectedWallLength - leftIndent - rightIndent)\n    }, [leftIndent, rightIndent, selectedWallLength])\n\n    const handleLeftIndentChange = (event: { target: { value: string } }) => {\n        if (\n            Number(selectedWallLength) - rightIndent >=\n            Number(event.target.value)\n        )\n            setLeftIndent(Number(event.target.value))\n    }\n    const handleRightIndentChange = (event: { target: { value: string } }) => {\n        if (\n            Number(selectedWallLength) - leftIndent >=\n            Number(event.target.value)\n        )\n            setRightIndent(Number(event.target.value))\n    }\n    const handleOutsideWidthChange = (event: { target: { value: string } }) => {\n        if (\n            Number(event.target.value) <=\n            selectedWallLength - leftIndent - rightIndent\n        )\n            setOutsideWidth(Number(event.target.value))\n    }\n    const [apertureDepth, setApertureDepth] = useState(200)\n    const handleApertureDepthChange = (event: {\n        target: { value: string }\n    }) => {\n        setApertureDepth(Number(event.target.value))\n    }\n\n    const [doorWidth, setDoorWidth] = useState(600)\n    const handleDoorWidthChange = (event: { target: { value: string } }) => {\n        if (\n            Number(selectedWallLength) - leftIndent - rightIndent >=\n            Number(event.target.value)\n        )\n            setDoorWidth(Number(event.target.value))\n    }\n\n    const [apertureNicheDepth, setApertureNicheDepth] = useState(100)\n    const handleApertureNicheDepthChange = (event: {\n        target: { value: string }\n    }) => setApertureNicheDepth(Number(event.target.value))\n\n    const [apertureHeigthTop, setApertureHeigthTop] = useState(2000)\n    const handleApertureHeigthTopChange = (event: {\n        target: { value: string }\n    }) => {\n        setApertureHeigthTop(Number(event.target.value))\n    }\n\n    const [apertureHeigthBottom, setApertureHeigthBottom] = useState(1000)\n    const handleApertureHeigthBottomChange = (event: {\n        target: { value: string }\n    }) => {\n        setApertureHeigthBottom(Number(event.target.value))\n    }\n\n    const [doorHeigthBottom, setDoorHeigthBottom] = useState(0)\n    const handleDoorHeigthBottomChange = (event: {\n        target: { value: string }\n    }) => {\n        setDoorHeigthBottom(Number(event.target.value))\n    }\n\n    const [outsideDepth, setOutsideDepth] = useState(200)\n    const handleOutsideDepthChange = (event: { target: { value: string } }) => {\n        setOutsideDepth(Number(event.target.value))\n    }\n\n    if (!stateElements.length) {\n        return null\n    }\n    const outsideIndent =\n        (Number(selectedWallLength) - leftIndent - rightIndent - outsideWidth) /\n        2\n    const getCurrentBalconyDoorPoints: (\n        arg1: WallType,\n        arg2: string\n    ) => [number, number][] = (line, balconyT) => {\n        if (balconyT === 'right') {\n            if (\n                line.points[0] !== line.points[2] &&\n                line.points[0] < line.points[2]\n            ) {\n                return [\n                    [line.points[0] + leftIndent, line.points[1]], // 0\n                    [\n                        line.points[0] + leftIndent,\n                        line.points[1] - apertureDepth,\n                    ], // 1\n                    [\n                        line.points[2] - rightIndent,\n                        line.points[3] - apertureDepth,\n                    ], // 2\n                    [line.points[2] - rightIndent, line.points[3]], // 3\n                    [\n                        line.points[0] + leftIndent,\n                        line.points[1] - apertureNicheDepth,\n                    ], // 4\n                    [\n                        line.points[2] - rightIndent - doorWidth,\n                        line.points[3] - apertureNicheDepth,\n                    ], // 5\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            350,\n                        line.points[1] - apertureDepth - 500,\n                    ], // 6\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            160,\n                        line.points[1] - apertureDepth - 120,\n                    ], // 7\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            290,\n                        line.points[1] - apertureDepth - 230,\n                    ], // 8\n                    [apertureHeigthBottom, apertureHeigthTop], // 9\n                    [line.points[2] - rightIndent - doorWidth, line.points[3]], // 10\n                    [\n                        line.points[2] - rightIndent - doorWidth,\n                        line.points[3] - apertureDepth,\n                    ], // 11\n                    [\n                        line.points[0] + leftIndent + outsideIndent,\n                        line.points[1] - apertureDepth,\n                    ], // 12\n                    [\n                        line.points[2] - rightIndent - outsideIndent,\n                        line.points[3] - apertureDepth,\n                    ], // 13\n                    [\n                        line.points[0] + leftIndent + outsideIndent,\n                        line.points[1] - apertureDepth - outsideDepth,\n                    ], // 14\n                    [\n                        line.points[2] - rightIndent - outsideIndent,\n                        line.points[3] - apertureDepth - outsideDepth,\n                    ], // 15\n                    [doorHeigthBottom, 0], // 16\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            260,\n                        line.points[1] - apertureDepth - 340,\n                    ], // 17\n                ]\n            }\n\n            if (\n                line.points[0] !== line.points[2] &&\n                line.points[0] > line.points[2]\n            ) {\n                return [\n                    [line.points[0] - leftIndent, line.points[1]], // 0\n                    [\n                        line.points[0] - leftIndent,\n                        line.points[1] + apertureDepth,\n                    ], // 1\n                    [\n                        line.points[2] + rightIndent,\n                        line.points[3] + apertureDepth,\n                    ], // 2\n                    [line.points[2] + rightIndent, line.points[3]], // 3\n                    [\n                        line.points[0] - leftIndent,\n                        line.points[1] + apertureNicheDepth,\n                    ], // 4\n                    [\n                        line.points[2] + rightIndent + doorWidth,\n                        line.points[3] + apertureNicheDepth,\n                    ], // 5\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            350,\n                        line.points[1] + apertureDepth + 200,\n                    ], // 6\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            160,\n                        line.points[1] + apertureDepth + 560,\n                    ], // 7\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            290,\n                        line.points[1] + apertureDepth + 450,\n                    ], // 8\n                    [apertureHeigthBottom, apertureHeigthTop], // 9\n                    [line.points[2] + rightIndent + doorWidth, line.points[3]], // 10\n                    [\n                        line.points[2] + rightIndent + doorWidth,\n                        line.points[3] + apertureDepth,\n                    ], // 11\n                    [\n                        line.points[0] - leftIndent - outsideIndent,\n                        line.points[1] + apertureDepth,\n                    ], // 12\n                    [\n                        line.points[2] + rightIndent + outsideIndent,\n                        line.points[3] + apertureDepth,\n                    ], // 13\n                    [\n                        line.points[0] - leftIndent - outsideIndent,\n                        line.points[1] + apertureDepth + outsideDepth,\n                    ], // 14\n                    [\n                        line.points[2] + rightIndent + outsideIndent,\n                        line.points[3] + apertureDepth + outsideDepth,\n                    ], // 15\n                    [doorHeigthBottom, 0], // 16\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            260,\n                        line.points[1] + apertureDepth + 340,\n                    ], // 17\n                ]\n            }\n\n            if (\n                line.points[0] === line.points[2] &&\n                line.points[1] < line.points[3]\n            ) {\n                return [\n                    [line.points[0], line.points[1] + leftIndent], // 0\n                    [\n                        line.points[0] + apertureDepth,\n                        line.points[1] + leftIndent,\n                    ], // 1\n                    [\n                        line.points[2] + apertureDepth,\n                        line.points[3] - rightIndent,\n                    ], // 2\n                    [line.points[2], line.points[3] - rightIndent], // 3\n                    [\n                        line.points[0] + apertureNicheDepth,\n                        line.points[1] + leftIndent,\n                    ], // 4\n                    [\n                        line.points[2] + apertureNicheDepth,\n                        line.points[3] - rightIndent - doorWidth,\n                    ], // 5\n                    [\n                        line.points[0] + apertureDepth + 200,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2,\n                    ], // 6\n                    [\n                        line.points[0] + apertureDepth + 380,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 +\n                            380,\n                    ], // 7\n                    [\n                        line.points[0] + apertureDepth + 250,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 +\n                            260,\n                    ], // 8\n                    [apertureHeigthBottom, apertureHeigthTop], // 9\n                    [line.points[2], line.points[3] - rightIndent - doorWidth], // 10\n                    [\n                        line.points[2] + apertureDepth,\n                        line.points[3] - rightIndent - doorWidth,\n                    ], // 11\n                    [\n                        line.points[0] + apertureDepth,\n                        line.points[1] + leftIndent + outsideIndent,\n                    ], // 12\n                    [\n                        line.points[2] + apertureDepth,\n                        line.points[3] - rightIndent - outsideIndent,\n                    ], // 13\n                    [\n                        line.points[0] + apertureDepth + outsideDepth,\n                        line.points[1] + leftIndent + outsideIndent,\n                    ], // 14\n                    [\n                        line.points[2] + apertureDepth + outsideDepth,\n                        line.points[3] - rightIndent - outsideIndent,\n                    ], // 15\n                    [doorHeigthBottom, 0], // 16\n                    [\n                        line.points[0] + apertureDepth + 270,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 +\n                            130,\n                    ], // 17\n                ]\n            }\n            return [\n                [line.points[0], line.points[1] - leftIndent], // 0\n                [line.points[0] - apertureDepth, line.points[1] - leftIndent], // 1\n                [line.points[2] - apertureDepth, line.points[3] + rightIndent], // 2\n                [line.points[2], line.points[3] + rightIndent], // 3\n                [\n                    line.points[0] - apertureNicheDepth,\n                    line.points[1] - leftIndent,\n                ], // 4\n                [\n                    line.points[2] - apertureNicheDepth,\n                    line.points[3] + rightIndent + doorWidth,\n                ], // 5\n                [\n                    line.points[0] - apertureDepth - 800,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2,\n                ], // 6\n                [\n                    line.points[0] - apertureDepth - 590,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 +\n                        380,\n                ], // 7\n                [\n                    line.points[0] - apertureDepth - 720,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 +\n                        260,\n                ], // 8\n                [apertureHeigthBottom, apertureHeigthTop], // 9\n                [line.points[2], line.points[3] + rightIndent + doorWidth], // 10\n                [\n                    line.points[2] - apertureDepth,\n                    line.points[3] + rightIndent + doorWidth,\n                ], // 11\n                [\n                    line.points[0] - apertureDepth,\n                    line.points[1] - leftIndent - outsideIndent,\n                ], // 12\n                [\n                    line.points[2] - apertureDepth,\n                    line.points[3] + rightIndent + outsideIndent,\n                ], // 13\n                [\n                    line.points[0] - apertureDepth - outsideDepth,\n                    line.points[1] - leftIndent - outsideIndent,\n                ], // 14\n                [\n                    line.points[2] - apertureDepth - outsideDepth,\n                    line.points[3] + rightIndent + outsideIndent,\n                ], // 15\n                [doorHeigthBottom, 0], // 16\n                [\n                    line.points[0] - apertureDepth - 700,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 +\n                        130,\n                ], // 17\n            ]\n        }\n        if (balconyT === 'left') {\n            if (\n                line.points[0] !== line.points[2] &&\n                line.points[0] < line.points[2]\n            ) {\n                return [\n                    [line.points[0] + leftIndent, line.points[1]], // 0\n                    [\n                        line.points[0] + leftIndent,\n                        line.points[1] - apertureDepth,\n                    ], // 1\n                    [\n                        line.points[2] - rightIndent,\n                        line.points[3] - apertureDepth,\n                    ], // 2\n                    [line.points[2] - rightIndent, line.points[3]], // 3\n                    [\n                        line.points[2] - rightIndent,\n                        line.points[1] - apertureNicheDepth,\n                    ], // 4\n                    [\n                        line.points[0] + leftIndent + doorWidth,\n                        line.points[3] - apertureNicheDepth,\n                    ], // 5\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            350,\n                        line.points[1] - apertureDepth - 500,\n                    ], // 6\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            160,\n                        line.points[1] - apertureDepth - 120,\n                    ], // 7\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            290,\n                        line.points[1] - apertureDepth - 230,\n                    ], // 8\n                    [apertureHeigthBottom, apertureHeigthTop], // 9\n                    [line.points[0] + leftIndent + doorWidth, line.points[3]], // 10\n                    [\n                        line.points[0] + leftIndent + doorWidth,\n                        line.points[3] - apertureDepth,\n                    ], // 11\n                    [\n                        line.points[0] + leftIndent + outsideIndent,\n                        line.points[1] - apertureDepth,\n                    ], // 12\n                    [\n                        line.points[2] - rightIndent - outsideIndent,\n                        line.points[3] - apertureDepth,\n                    ], // 13\n                    [\n                        line.points[0] + leftIndent + outsideIndent,\n                        line.points[1] - apertureDepth - outsideDepth,\n                    ], // 14\n                    [\n                        line.points[2] - rightIndent - outsideIndent,\n                        line.points[3] - apertureDepth - outsideDepth,\n                    ], // 15\n                    [doorHeigthBottom, 0], // 16\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            260,\n                        line.points[1] - apertureDepth - 340,\n                    ], // 17\n                ]\n            }\n\n            if (\n                line.points[0] !== line.points[2] &&\n                line.points[0] > line.points[2]\n            ) {\n                return [\n                    [line.points[0] - leftIndent, line.points[1]], // 0\n                    [\n                        line.points[0] - leftIndent,\n                        line.points[1] + apertureDepth,\n                    ], // 1\n                    [\n                        line.points[2] + rightIndent,\n                        line.points[3] + apertureDepth,\n                    ], // 2\n                    [line.points[2] + rightIndent, line.points[3]], // 3\n                    [\n                        line.points[2] + rightIndent,\n                        line.points[1] + apertureNicheDepth,\n                    ], // 4\n                    [\n                        line.points[0] - leftIndent - doorWidth,\n                        line.points[3] + apertureNicheDepth,\n                    ], // 5\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            350,\n                        line.points[1] + apertureDepth + 190,\n                    ], // 6\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            160,\n                        line.points[1] + apertureDepth + 580,\n                    ], // 7\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            290,\n                        line.points[1] + apertureDepth + 470,\n                    ], // 8\n                    [apertureHeigthBottom, apertureHeigthTop], // 9\n                    [line.points[0] - leftIndent - doorWidth, line.points[3]], // 10\n                    [\n                        line.points[0] - leftIndent - doorWidth,\n                        line.points[3] + apertureDepth,\n                    ], // 11\n                    [\n                        line.points[0] - leftIndent - outsideIndent,\n                        line.points[1] + apertureDepth,\n                    ], // 12\n                    [\n                        line.points[2] + rightIndent + outsideIndent,\n                        line.points[3] + apertureDepth,\n                    ], // 13\n                    [\n                        line.points[0] - leftIndent - outsideIndent,\n                        line.points[1] + apertureDepth + outsideDepth,\n                    ], // 14\n                    [\n                        line.points[2] + rightIndent + outsideIndent,\n                        line.points[3] + apertureDepth + outsideDepth,\n                    ], // 15\n                    [doorHeigthBottom, 0], // 16\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            260,\n                        line.points[1] + apertureDepth + 370,\n                    ], // 17\n                ]\n            }\n\n            if (\n                line.points[0] === line.points[2] &&\n                line.points[1] < line.points[3]\n            ) {\n                return [\n                    [line.points[0], line.points[1] + leftIndent], // 0\n                    [\n                        line.points[0] + apertureDepth,\n                        line.points[1] + leftIndent,\n                    ], // 1\n                    [\n                        line.points[2] + apertureDepth,\n                        line.points[3] - rightIndent,\n                    ], // 2\n                    [line.points[2], line.points[3] - rightIndent], // 3\n                    [\n                        line.points[0] + apertureNicheDepth,\n                        line.points[3] - rightIndent,\n                    ], // 4\n                    [\n                        line.points[2] + apertureNicheDepth,\n                        line.points[1] + leftIndent + doorWidth,\n                    ], // 5\n                    [\n                        line.points[0] + apertureDepth + 200,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2,\n                    ], // 6\n                    [\n                        line.points[0] + apertureDepth + 380,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 +\n                            380,\n                    ], // 7\n                    [\n                        line.points[0] + apertureDepth + 250,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 +\n                            260,\n                    ], // 8\n                    [apertureHeigthBottom, apertureHeigthTop], // 9\n                    [line.points[2], line.points[1] + leftIndent + doorWidth], // 10\n                    [\n                        line.points[2] + apertureDepth,\n                        line.points[1] + leftIndent + doorWidth,\n                    ], // 11\n                    [\n                        line.points[0] + apertureDepth,\n                        line.points[1] + leftIndent + outsideIndent,\n                    ], // 12\n                    [\n                        line.points[2] + apertureDepth,\n                        line.points[3] - rightIndent - outsideIndent,\n                    ], // 13\n                    [\n                        line.points[0] + apertureDepth + outsideDepth,\n                        line.points[1] + leftIndent + outsideIndent,\n                    ], // 14\n                    [\n                        line.points[2] + apertureDepth + outsideDepth,\n                        line.points[3] - rightIndent - outsideIndent,\n                    ], // 15\n                    [doorHeigthBottom, 0], // 16\n                    [\n                        line.points[0] + apertureDepth + 270,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 +\n                            130,\n                    ], // 17\n                ]\n            }\n            return [\n                [line.points[0], line.points[1] - leftIndent], // 0\n                [line.points[0] - apertureDepth, line.points[1] - leftIndent], // 1\n                [line.points[2] - apertureDepth, line.points[3] + rightIndent], // 2\n                [line.points[2], line.points[3] + rightIndent], // 3\n                [\n                    line.points[0] - apertureNicheDepth,\n                    line.points[3] + rightIndent,\n                ], // 4\n                [\n                    line.points[2] - apertureNicheDepth,\n                    line.points[1] - leftIndent - doorWidth,\n                ], // 5\n                [\n                    line.points[0] - apertureDepth - 900,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2,\n                ], // 6\n                [\n                    line.points[0] - apertureDepth - 720,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 +\n                        380,\n                ], // 7\n                [\n                    line.points[0] + apertureDepth - 1250,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 +\n                        260,\n                ], // 8\n                [apertureHeigthBottom, apertureHeigthTop], // 9\n                [line.points[2], line.points[1] - leftIndent - doorWidth], // 10\n                [\n                    line.points[2] - apertureDepth,\n                    line.points[1] - leftIndent - doorWidth,\n                ], // 11\n                [\n                    line.points[0] - apertureDepth,\n                    line.points[1] - leftIndent - outsideIndent,\n                ], // 12\n                [\n                    line.points[2] - apertureDepth,\n                    line.points[3] + rightIndent + outsideIndent,\n                ], // 13\n                [\n                    line.points[0] - apertureDepth - outsideDepth,\n                    line.points[1] - leftIndent - outsideIndent,\n                ], // 14\n                [\n                    line.points[2] - apertureDepth - outsideDepth,\n                    line.points[3] + rightIndent + outsideIndent,\n                ], // 15\n                [doorHeigthBottom, 0], // 16\n                [\n                    line.points[0] - apertureDepth - 820,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 +\n                        150,\n                ], // 17\n            ]\n        }\n        if (balconyT === 'center') {\n            if (\n                line.points[0] !== line.points[2] &&\n                line.points[0] < line.points[2]\n            ) {\n                return [\n                    [line.points[0] + leftIndent, line.points[1]], // 0\n                    [\n                        line.points[0] + leftIndent,\n                        line.points[1] - apertureDepth,\n                    ], // 1\n                    [\n                        line.points[2] - rightIndent,\n                        line.points[3] - apertureDepth,\n                    ], // 2\n                    [line.points[2] - rightIndent, line.points[3]], // 3\n                    [\n                        line.points[0] + leftIndent,\n                        line.points[3] - apertureNicheDepth,\n                    ], // 4\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                        line.points[3] - apertureNicheDepth,\n                    ], // 5\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            350,\n                        line.points[1] - apertureDepth - 500,\n                    ], // 6\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            160,\n                        line.points[1] - apertureDepth - 120,\n                    ], // 7\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            290,\n                        line.points[1] - apertureDepth - 230,\n                    ], // 8\n                    [apertureHeigthBottom, apertureHeigthTop], // 9\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                        line.points[3],\n                    ], // 10\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                        line.points[3] - apertureDepth,\n                    ], // 11\n                    [\n                        line.points[0] + leftIndent + outsideIndent,\n                        line.points[1] - apertureDepth,\n                    ], // 12\n                    [\n                        line.points[2] - rightIndent - outsideIndent,\n                        line.points[3] - apertureDepth,\n                    ], // 13\n                    [\n                        line.points[0] + leftIndent + outsideIndent,\n                        line.points[1] - apertureDepth - outsideDepth,\n                    ], // 14\n                    [\n                        line.points[2] - rightIndent - outsideIndent,\n                        line.points[3] - apertureDepth - outsideDepth,\n                    ], // 15\n                    [doorHeigthBottom, 0], // 16\n                    [\n                        line.points[0] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            260,\n                        line.points[1] - apertureDepth - 340,\n                    ], // 17\n                    [\n                        line.points[2] -\n                            rightIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                        line.points[3] - apertureDepth,\n                    ], // 18\n                    [\n                        line.points[2] -\n                            rightIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                        line.points[3],\n                    ], // 19\n                    [\n                        line.points[2] - rightIndent,\n                        line.points[3] - apertureNicheDepth,\n                    ], // 20\n                    [\n                        line.points[2] -\n                            rightIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                        line.points[3] - apertureNicheDepth,\n                    ], // 21\n                ]\n            }\n\n            if (\n                line.points[0] !== line.points[2] &&\n                line.points[0] > line.points[2]\n            ) {\n                return [\n                    [line.points[0] - leftIndent, line.points[1]], // 0\n                    [\n                        line.points[0] - leftIndent,\n                        line.points[1] + apertureDepth,\n                    ], // 1\n                    [\n                        line.points[2] + rightIndent,\n                        line.points[3] + apertureDepth,\n                    ], // 2\n                    [line.points[2] + rightIndent, line.points[3]], // 3\n                    [\n                        line.points[0] - leftIndent,\n                        line.points[3] + apertureNicheDepth,\n                    ], // 4\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                        line.points[3] + apertureNicheDepth,\n                    ], // 5\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            350,\n                        line.points[1] + apertureDepth + 200,\n                    ], // 6\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            160,\n                        line.points[1] + apertureDepth + 570,\n                    ], // 7\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            290,\n                        line.points[1] + apertureDepth + 460,\n                    ], // 8\n                    [apertureHeigthBottom, apertureHeigthTop], // 9\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                        line.points[3],\n                    ], // 10\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                        line.points[3] + apertureDepth,\n                    ], // 11\n                    [\n                        line.points[0] - leftIndent - outsideIndent,\n                        line.points[1] + apertureDepth,\n                    ], // 12\n                    [\n                        line.points[2] + rightIndent + outsideIndent,\n                        line.points[3] + apertureDepth,\n                    ], // 13\n                    [\n                        line.points[0] - leftIndent - outsideIndent,\n                        line.points[1] + apertureDepth + outsideDepth,\n                    ], // 14\n                    [\n                        line.points[2] + rightIndent + outsideIndent,\n                        line.points[3] + apertureDepth + outsideDepth,\n                    ], // 15\n                    [doorHeigthBottom, 0], // 16\n                    [\n                        line.points[0] -\n                            leftIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 -\n                            260,\n                        line.points[1] + apertureDepth + 340,\n                    ], // 17\n                    [\n                        line.points[2] +\n                            rightIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                        line.points[3] + apertureDepth,\n                    ], // 18\n                    [\n                        line.points[2] +\n                            rightIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                        line.points[3],\n                    ], // 19\n                    [\n                        line.points[2] + rightIndent,\n                        line.points[3] + apertureNicheDepth,\n                    ], // 20\n                    [\n                        line.points[2] +\n                            rightIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                        line.points[3] + apertureNicheDepth,\n                    ], // 21\n                ]\n            }\n\n            if (\n                line.points[0] === line.points[2] &&\n                line.points[1] < line.points[3]\n            ) {\n                return [\n                    [line.points[0], line.points[1] + leftIndent], // 0\n                    [\n                        line.points[0] + apertureDepth,\n                        line.points[1] + leftIndent,\n                    ], // 1\n                    [\n                        line.points[2] + apertureDepth,\n                        line.points[3] - rightIndent,\n                    ], // 2\n                    [line.points[2], line.points[3] - rightIndent], // 3\n                    [\n                        line.points[0] + apertureNicheDepth,\n                        line.points[3] - rightIndent,\n                    ], // 4\n                    [\n                        line.points[0] + apertureNicheDepth,\n                        line.points[3] -\n                            rightIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                    ], // 5\n                    [\n                        line.points[0] + apertureDepth + 200,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2,\n                    ], // 6\n                    [\n                        line.points[0] + apertureDepth + 380,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 +\n                            380,\n                    ], // 7\n                    [\n                        line.points[0] + apertureDepth + 250,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 +\n                            260,\n                    ], // 8\n                    [apertureHeigthBottom, apertureHeigthTop], // 9\n                    [\n                        line.points[2],\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                    ], // 10\n                    [\n                        line.points[2] + apertureDepth,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                    ], // 11\n                    [\n                        line.points[0] + apertureDepth,\n                        line.points[1] + leftIndent + outsideIndent,\n                    ], // 12\n                    [\n                        line.points[2] + apertureDepth,\n                        line.points[3] - rightIndent - outsideIndent,\n                    ], // 13\n                    [\n                        line.points[0] + apertureDepth + outsideDepth,\n                        line.points[1] + leftIndent + outsideIndent,\n                    ], // 14\n                    [\n                        line.points[2] + apertureDepth + outsideDepth,\n                        line.points[3] - rightIndent - outsideIndent,\n                    ], // 15\n                    [doorHeigthBottom, 0], // 16\n                    [\n                        line.points[0] + apertureDepth + 270,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent) /\n                                2 +\n                            130,\n                    ], // 17\n                    [\n                        line.points[2] + apertureDepth,\n                        line.points[3] -\n                            rightIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                    ], // 18\n                    [\n                        line.points[2],\n                        line.points[3] -\n                            rightIndent -\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                    ], // 19\n                    [\n                        line.points[0] + apertureNicheDepth,\n                        line.points[1] + leftIndent,\n                    ], // 20\n                    [\n                        line.points[0] + apertureNicheDepth,\n                        line.points[1] +\n                            leftIndent +\n                            (Number(selectedWallLength) -\n                                rightIndent -\n                                leftIndent -\n                                doorWidth) /\n                                2,\n                    ], // 21\n                ]\n            }\n            return [\n                [line.points[0], line.points[1] - leftIndent], // 0\n                [line.points[0] - apertureDepth, line.points[1] - leftIndent], // 1\n                [line.points[2] - apertureDepth, line.points[3] + rightIndent], // 2\n                [line.points[2], line.points[3] + rightIndent], // 3\n                [\n                    line.points[0] - apertureNicheDepth,\n                    line.points[3] + rightIndent,\n                ], // 4\n                [\n                    line.points[0] - apertureNicheDepth,\n                    line.points[3] +\n                        rightIndent +\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent -\n                            doorWidth) /\n                            2,\n                ], // 5\n                [\n                    line.points[0] - apertureDepth - 1000,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2,\n                ], // 6\n                [\n                    line.points[0] - apertureDepth - 790,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 +\n                        370,\n                ], // 7\n                [\n                    line.points[0] - apertureDepth - 925,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 +\n                        250,\n                ], // 8\n                [apertureHeigthBottom, apertureHeigthTop], // 9\n                [\n                    line.points[2],\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent -\n                            doorWidth) /\n                            2,\n                ], // 10\n                [\n                    line.points[2] - apertureDepth,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent -\n                            doorWidth) /\n                            2,\n                ], // 11\n                [\n                    line.points[0] - apertureDepth,\n                    line.points[1] - leftIndent - outsideIndent,\n                ], // 12\n                [\n                    line.points[2] - apertureDepth,\n                    line.points[3] + rightIndent + outsideIndent,\n                ], // 13\n                [\n                    line.points[0] - apertureDepth - outsideDepth,\n                    line.points[1] - leftIndent - outsideIndent,\n                ], // 14\n                [\n                    line.points[2] - apertureDepth - outsideDepth,\n                    line.points[3] + rightIndent + outsideIndent,\n                ], // 15\n                [doorHeigthBottom, 0], // 16\n                [\n                    line.points[0] - apertureDepth - 900,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent) /\n                            2 +\n                        150,\n                ], // 17\n                [\n                    line.points[2] - apertureDepth,\n                    line.points[3] +\n                        rightIndent +\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent -\n                            doorWidth) /\n                            2,\n                ], // 18\n                [\n                    line.points[2],\n                    line.points[3] +\n                        rightIndent +\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent -\n                            doorWidth) /\n                            2,\n                ], // 19\n                [\n                    line.points[0] - apertureNicheDepth,\n                    line.points[1] - leftIndent,\n                ], // 20\n                [\n                    line.points[0] - apertureNicheDepth,\n                    line.points[1] -\n                        leftIndent -\n                        (Number(selectedWallLength) -\n                            rightIndent -\n                            leftIndent -\n                            doorWidth) /\n                            2,\n                ], // 21\n            ]\n        }\n        return [[0, 0]]\n    }\n    const currentBalconyDoorPoints: [\n        number,\n        number\n    ][] = getCurrentBalconyDoorPoints(selectedLine, balconyType)\n\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault()\n        {\n            balconyType === 'center' &&\n                dispatch({\n                    type: 'addElements',\n                    elements: [\n                        {\n                            id: uuid(),\n                            objectType: tools.wall,\n                            isApertureWall: true,\n                            points: [\n                                currentBalconyDoorPoints[4][0],\n                                currentBalconyDoorPoints[4][1],\n                                currentBalconyDoorPoints[5][0],\n                                currentBalconyDoorPoints[5][1],\n                            ],\n                        },\n                        {\n                            id: uuid(),\n                            objectType: tools.wall,\n                            isApertureWall: true,\n                            points: [\n                                currentBalconyDoorPoints[21][0],\n                                currentBalconyDoorPoints[21][1],\n                                currentBalconyDoorPoints[20][0],\n                                currentBalconyDoorPoints[20][1],\n                            ],\n                        },\n                        {\n                            id: uuid(),\n                            objectType: tools.balconyDoor,\n                            balconyType,\n                            points: currentBalconyDoorPoints,\n                        },\n                    ],\n                })\n            balconyType === 'right' &&\n                dispatch({\n                    type: 'addElements',\n                    elements: [\n                        {\n                            id: uuid(),\n                            objectType: tools.wall,\n                            isApertureWall: true,\n                            points: [\n                                currentBalconyDoorPoints[4][0],\n                                currentBalconyDoorPoints[4][1],\n                                currentBalconyDoorPoints[5][0],\n                                currentBalconyDoorPoints[5][1],\n                            ],\n                        },\n                        {\n                            id: uuid(),\n                            objectType: tools.balconyDoor,\n                            balconyType,\n                            points: currentBalconyDoorPoints,\n                        },\n                    ],\n                })\n            balconyType === 'left' &&\n                dispatch({\n                    type: 'addElements',\n                    elements: [\n                        {\n                            id: uuid(),\n                            objectType: tools.wall,\n                            isApertureWall: true,\n                            points: [\n                                currentBalconyDoorPoints[5][0],\n                                currentBalconyDoorPoints[5][1],\n                                currentBalconyDoorPoints[4][0],\n                                currentBalconyDoorPoints[4][1],\n                            ],\n                        },\n                        {\n                            id: uuid(),\n                            objectType: tools.balconyDoor,\n                            balconyType,\n                            points: currentBalconyDoorPoints,\n                        },\n                    ],\n                })\n        }\n\n        setStartPoint([\n            currentBalconyDoorPoints[14][0],\n            currentBalconyDoorPoints[14][1],\n        ])\n\n        setWallDirection([\n            [0, 0],\n            [currentBalconyDoorPoints[1][0], currentBalconyDoorPoints[1][1]],\n            [currentBalconyDoorPoints[2][0], currentBalconyDoorPoints[2][1]],\n        ])\n        setCurrentTool(tools.wall)\n\n        setSelected(undefined)\n    }\n    return (\n        <>\n            {selected && (balconyType === 'left' || balconyType === 'right') && (\n                <Layer>\n                    <BalconyDoor\n                        isInProgres\n                        element={{\n                            balconyType,\n                            points: currentBalconyDoorPoints,\n                        }}\n                    />\n\n                    <Wall\n                        isInProgres\n                        element={{\n                            points: [\n                                currentBalconyDoorPoints[4][0],\n                                currentBalconyDoorPoints[4][1],\n                                currentBalconyDoorPoints[5][0],\n                                currentBalconyDoorPoints[5][1],\n                            ],\n                        }}\n                    />\n                </Layer>\n            )}\n            {selected && balconyType === 'center' && (\n                <Layer>\n                    <BalconyDoor\n                        isInProgres\n                        element={{\n                            balconyType,\n                            points: currentBalconyDoorPoints,\n                        }}\n                    />\n\n                    <Wall\n                        isInProgres\n                        element={{\n                            points: [\n                                currentBalconyDoorPoints[4][0],\n                                currentBalconyDoorPoints[4][1],\n                                currentBalconyDoorPoints[5][0],\n                                currentBalconyDoorPoints[5][1],\n                            ],\n                        }}\n                    />\n                    <Wall\n                        isInProgres\n                        element={{\n                            points: [\n                                currentBalconyDoorPoints[21][0],\n                                currentBalconyDoorPoints[21][1],\n                                currentBalconyDoorPoints[20][0],\n                                currentBalconyDoorPoints[20][1],\n                            ],\n                        }}\n                    />\n                </Layer>\n            )}\n            <Portal node={toolEditorContainerNode}>\n                <ThemeProvider theme={light}>\n                    {selected && (\n                        <Wrapper>\n                            <Title>{t('Balcony')}</Title>\n                            <ApertureEditorContainer onSubmit={handleSubmit}>\n                                {inputWindowNumber === 1 && (\n                                    <InputWraper>\n                                        <p>{t('SelectBalconyType')}</p>\n                                        <div>\n                                            <Button\n                                                active={balconyType === 'left'}\n                                                type=\"button\"\n                                                disabled={\n                                                    selected === undefined\n                                                }\n                                                onClick={() => {\n                                                    setBalconyType('left')\n                                                }}\n                                            >\n                                                <LeftBalcony />\n                                            </Button>\n                                            <Button\n                                                type=\"button\"\n                                                active={\n                                                    balconyType === 'center'\n                                                }\n                                                disabled={\n                                                    selected === undefined\n                                                }\n                                                onClick={() => {\n                                                    setBalconyType('center')\n                                                }}\n                                            >\n                                                <CenterBalcony\n                                                    style={{\n                                                        margin: '0',\n                                                        width: '40px',\n                                                        height: '44px',\n                                                    }}\n                                                />\n                                            </Button>\n                                            <Button\n                                                type=\"button\"\n                                                active={balconyType === 'right'}\n                                                disabled={\n                                                    selected === undefined\n                                                }\n                                                onClick={() => {\n                                                    setBalconyType('right')\n                                                }}\n                                            >\n                                                <RightBalcony />\n                                            </Button>\n                                        </div>\n                                    </InputWraper>\n                                )}\n                                {inputWindowNumber === 1 && <div />}\n                                {inputWindowNumber === 2 && (\n                                    <>\n                                        <InputWraper>\n                                            <NumberInput\n                                                placeholder={t('RightIndent')}\n                                                setInputValue={setRightIndent}\n                                                max={\n                                                    Number(selectedWallLength) -\n                                                    leftIndent\n                                                }\n                                                value={rightIndent}\n                                                onChange={\n                                                    handleRightIndentChange\n                                                }\n                                            />\n                                        </InputWraper>\n                                        <InputWraper>\n                                            <NumberInput\n                                                placeholder={t('DoorWidth')}\n                                                setInputValue={setDoorWidth}\n                                                max={\n                                                    Number(selectedWallLength) -\n                                                    (leftIndent + rightIndent)\n                                                }\n                                                value={doorWidth}\n                                                onChange={handleDoorWidthChange}\n                                            />\n                                        </InputWraper>\n                                        <InputWraper>\n                                            <NumberInput\n                                                placeholder={t('LeftIndent')}\n                                                setInputValue={setLeftIndent}\n                                                max={\n                                                    Number(selectedWallLength) -\n                                                    rightIndent\n                                                }\n                                                value={leftIndent}\n                                                onChange={\n                                                    handleLeftIndentChange\n                                                }\n                                            />\n                                        </InputWraper>\n                                        <InputWraper>\n                                            <NumberInput\n                                                placeholder={t('NicheDepth')}\n                                                setInputValue={\n                                                    setApertureNicheDepth\n                                                }\n                                                max={apertureDepth}\n                                                value={apertureNicheDepth}\n                                                onChange={\n                                                    handleApertureNicheDepthChange\n                                                }\n                                            />\n                                        </InputWraper>\n                                        <InputWraper>\n                                            <NumberInput\n                                                placeholder={t('Depth')}\n                                                setInputValue={setApertureDepth}\n                                                value={apertureDepth}\n                                                onChange={\n                                                    handleApertureDepthChange\n                                                }\n                                            />\n                                        </InputWraper>\n                                    </>\n                                )}\n                                {inputWindowNumber === 3 && (\n                                    <>\n                                        <InputWraper>\n                                            <NumberInput\n                                                placeholder={t(\n                                                    'HeigthBottomDoor'\n                                                )}\n                                                setInputValue={\n                                                    setDoorHeigthBottom\n                                                }\n                                                value={doorHeigthBottom}\n                                                onChange={\n                                                    handleDoorHeigthBottomChange\n                                                }\n                                            />\n                                        </InputWraper>\n                                        <InputWraper>\n                                            <NumberInput\n                                                placeholder={t(\n                                                    'HeigthBottomWindow'\n                                                )}\n                                                setInputValue={\n                                                    setApertureHeigthBottom\n                                                }\n                                                value={apertureHeigthBottom}\n                                                onChange={\n                                                    handleApertureHeigthBottomChange\n                                                }\n                                            />\n                                        </InputWraper>\n                                        <InputWraper>\n                                            <NumberInput\n                                                placeholder={t('HeigthTop')}\n                                                setInputValue={\n                                                    setApertureHeigthTop\n                                                }\n                                                value={apertureHeigthTop}\n                                                onChange={\n                                                    handleApertureHeigthTopChange\n                                                }\n                                            />\n                                        </InputWraper>\n                                    </>\n                                )}\n                                {inputWindowNumber === 3 && (\n                                    <>\n                                        <div /> <div />\n                                    </>\n                                )}\n                                {inputWindowNumber === 4 && (\n                                    <>\n                                        <InputWraper>\n                                            <NumberInput\n                                                placeholder={t('OutsideWidth')}\n                                                setInputValue={setOutsideWidth}\n                                                value={outsideWidth}\n                                                onChange={\n                                                    handleOutsideWidthChange\n                                                }\n                                            />\n                                        </InputWraper>\n                                        <InputWraper>\n                                            <NumberInput\n                                                placeholder={t('OutsideDepth')}\n                                                setInputValue={setOutsideDepth}\n                                                value={outsideDepth}\n                                                onChange={\n                                                    handleOutsideDepthChange\n                                                }\n                                            />\n                                        </InputWraper>\n                                    </>\n                                )}\n                                <WrapperBlock>\n                                    {inputWindowNumber > 1 && (\n                                        <ButtonDirection\n                                            onClick={() => {\n                                                setInputWindowNumber(\n                                                    inputWindowNumber - 1\n                                                )\n                                            }}\n                                        >\n                                            <Left />\n                                        </ButtonDirection>\n                                    )}\n                                    {inputWindowNumber < 4 && (\n                                        <ButtonDirection\n                                            disabled={balconyType === ''}\n                                            onClick={() => {\n                                                balconyType !== '' &&\n                                                    setInputWindowNumber(\n                                                        inputWindowNumber + 1\n                                                    )\n                                            }}\n                                        >\n                                            <Right />\n                                        </ButtonDirection>\n                                    )}\n\n                                    {inputWindowNumber === 4 && (\n                                        <>\n                                            <Line />\n\n                                            <InputSubmit type=\"submit\">\n                                                <EnterSvg />\n                                            </InputSubmit>\n                                        </>\n                                    )}\n                                </WrapperBlock>\n                            </ApertureEditorContainer>\n                        </Wrapper>\n                    )}\n                </ThemeProvider>\n            </Portal>\n        </>\n    )\n}\n","export type OptionalString = undefined | string\n\nexport interface GenericElement<P> {\n    id?: OptionalString\n    objectType?: OptionalString\n    points: P\n    isApertureWall?: boolean\n    balconyType?: OptionalString\n    length?: number\n}\nexport type WallPoints = [x1: number, y1: number, x2: number, y2: number]\nexport type WallType = GenericElement<WallPoints>\nexport function isWall(element: ElementType): element is WallType {\n    return (\n        (element as WallType).objectType === 'wall' &&\n        (element as WallType).points.length === 4\n    )\n}\n\nexport type TubeType = GenericElement<[x1: number, y1: number, d: number]>\nexport function isTube(element: ElementType): element is TubeType {\n    return (\n        (element as TubeType).objectType === 'tube' &&\n        (element as TubeType).points.length === 3\n    )\n}\n\nexport type MainDoorPoints = [\n    x1: number,\n    y2: number,\n    h1: number,\n    h2: number,\n    h3: number\n]\nexport type MainDoorType = GenericElement<MainDoorPoints>\nexport function isMainDoor(element: ElementType): element is MainDoorType {\n    return (\n        (element as MainDoorType).objectType === 'mainDoor' &&\n        (element as MainDoorType).points.length === 5\n    )\n}\n\nexport type ApertureTypePoints = [number, number][]\nexport type ApertureType = GenericElement<ApertureTypePoints>\nexport function isAperture(element: ElementType): element is ApertureType {\n    return (\n        (element as ApertureType).objectType === 'aperture' &&\n        (element as ApertureType).points.length === 10\n    )\n}\n\nexport type ApertureDoorType = GenericElement<ApertureTypePoints>\nexport function isApertureDoor(\n    element: ElementType\n): element is ApertureDoorType {\n    return (\n        (element as ApertureDoorType).objectType === 'apertureDoor' &&\n        (element as ApertureDoorType).points.length === 10\n    )\n}\n\nexport type HeaterTypePoints = [\n    p1: [number, number],\n    p2: [number, number],\n    p3: [number, number],\n    p4: [number, number]\n]\nexport type HeaterType = GenericElement<HeaterTypePoints>\nexport function isHeater(element: ElementType): element is HeaterType {\n    return (element as HeaterType).objectType === 'heater'\n}\n\nexport type VentType = GenericElement<\n    [x1: number, y1: number, x2: number, y2: number, h: number]\n>\nexport function isVent(element: ElementType): element is VentType {\n    return (element as VentType).objectType === 'vent'\n}\n\nexport type BalconyDoorType = GenericElement<[number, number][]>\nexport function isBalconyDoor(\n    element: ElementType\n): element is BalconyDoorType {\n    return (element as BalconyDoorType).objectType === 'balconyDoor'\n}\n\nexport type ElementType =\n    | WallType\n    | TubeType\n    | MainDoorType\n    | ApertureType\n    | ApertureDoorType\n    | HeaterType\n    | VentType\n    | BalconyDoorType\n","import React, { useRef, useState, useLayoutEffect, useCallback } from 'react'\nimport { Stage, Layer } from 'react-konva'\nimport styled from 'styled-components'\nimport { Provider } from 'react-redux'\nimport useGestures from 'use-gestures'\n\nimport { store } from 'cad/storage/reduser'\nimport { WallTool } from 'cad/tools/WallTool'\nimport { MainDoorTool } from 'cad/tools/MainDoorTools'\nimport { ApertureTool } from 'cad/tools/ApertureTool'\nimport { BatteryTool } from 'cad/tools/BatteryTool'\nimport { VentTool } from 'cad/tools/VentTool'\nimport { TubeTool } from 'cad/tools/TubeTool'\nimport { BalconyDoorTool } from './tools/BalconyDoorTool'\nimport { tools } from 'cad/Workplace'\nimport {\n    Wall,\n    MainDoor,\n    Aperture,\n    Battery,\n    Vent,\n    Tube,\n    BalconyDoor,\n} from 'cad/ElementsType'\nimport {\n    ApertureTypePoints,\n    OptionalString,\n    ElementType,\n    isWall,\n    isMainDoor,\n    isAperture,\n    isApertureDoor,\n    isHeater,\n    isVent,\n    isTube,\n    isBalconyDoor,\n} from './types'\n\nconst CanvasContainer = styled.div`\n    width: 100%;\n    height: 100%;\n    max-width: 100vw;\n    position: absolute;\n    touch-action: auto;\n`\n\ntype Props = {\n    centeringState: number[]\n    setCenteringState: React.Dispatch<React.SetStateAction<number[]>>\n    setCursor: (arg: { element: OptionalString; style: OptionalString }) => void\n    cursor: {\n        element: OptionalString\n        style: OptionalString\n    }\n    selected: string | undefined\n    setSelected: (arg: OptionalString) => void\n    scale: number\n    stateElements: Array<ElementType>\n    toolEditorContainerNode?: React.ReactNode\n    currentTool: string\n    setCanvasScale: (arg: number) => void\n    setCurrentTool: (arg: string) => void\n    setStartPoint: (arg: [number, number]) => void\n    startPoint: [number, number]\n    setDragableState: (arg: { x: number; y: number }) => void\n    dragableState: { x: number; y: number }\n    setElementDirection: (arg: string) => void\n    elementDirection: string\n    setWallDirection: (currentAperturePoints: ApertureTypePoints) => null\n}\n\nexport const Canvas = ({\n    setCanvasScale,\n    centeringState,\n    setCenteringState,\n    setCursor,\n    cursor,\n    selected,\n    setSelected,\n    scale,\n    stateElements,\n    toolEditorContainerNode,\n    currentTool,\n    setCurrentTool,\n    setStartPoint,\n    startPoint,\n    setDragableState,\n    dragableState,\n    setElementDirection,\n    elementDirection,\n    setWallDirection,\n}: Props) => {\n    const [switchDirection, setSwitchDirection] = useState(false)\n    const containerRef = useRef<HTMLDivElement>(null)\n    const [canvasSize, setcanvasSize] = useState({ width: 0, height: 0 })\n\n    const handleResize = useCallback(() => {\n        setcanvasSize({\n            width: containerRef.current!.clientWidth,\n            height: containerRef.current!.clientHeight,\n        })\n    }, [])\n    useLayoutEffect(() => {\n        setcanvasSize({\n            width: containerRef.current!.clientWidth,\n            height: containerRef.current!.clientHeight,\n        })\n        window.addEventListener('resize', handleResize)\n\n        return () => {\n            window.removeEventListener('resize', handleResize)\n        }\n    }, [handleResize])\n\n    const renderCurrentTool = () => {\n        if (currentTool !== tools.mainDoor && !stateElements.length) {\n            return null\n        }\n\n        switch (currentTool) {\n            case tools.wall: {\n                return (\n                    <WallTool\n                        scale={scale}\n                        setCenteringState={setCenteringState}\n                        elementDirection={elementDirection}\n                        setElementDirection={setElementDirection}\n                        toolEditorContainerNode={toolEditorContainerNode}\n                        dragableState={dragableState}\n                        startPoint={startPoint}\n                        setCurrentTool={setCurrentTool}\n                    />\n                )\n            }\n            case tools.mainDoor: {\n                return (\n                    <MainDoorTool\n                        startPoint={startPoint}\n                        setCurrentTool={setCurrentTool}\n                        toolEditorContainerNode={toolEditorContainerNode}\n                    />\n                )\n            }\n            case tools.aperture: {\n                return (\n                    <ApertureTool\n                        selected={selected}\n                        setSelected={setSelected}\n                        setCurrentTool={setCurrentTool}\n                        toolEditorContainerNode={toolEditorContainerNode}\n                        isApertureWindow\n                    />\n                )\n            }\n            case tools.apertureDoor: {\n                return (\n                    <ApertureTool\n                        setWallDirection={setWallDirection}\n                        selected={selected}\n                        setSelected={setSelected}\n                        setStartPoint={setStartPoint}\n                        setCurrentTool={setCurrentTool}\n                        toolEditorContainerNode={toolEditorContainerNode}\n                    />\n                )\n            }\n            case tools.heater: {\n                return (\n                    <BatteryTool\n                        selected={selected}\n                        setSelected={setSelected}\n                        setCurrentTool={setCurrentTool}\n                        toolEditorContainerNode={toolEditorContainerNode}\n                    />\n                )\n            }\n            case tools.vent: {\n                return (\n                    <VentTool\n                        selected={selected}\n                        setSelected={setSelected}\n                        setCurrentTool={setCurrentTool}\n                        toolEditorContainerNode={toolEditorContainerNode}\n                        switchDirection={switchDirection}\n                        setSwitchDirection={setSwitchDirection}\n                    />\n                )\n            }\n            case tools.tube: {\n                return (\n                    <TubeTool\n                        selected={selected}\n                        setSelected={setSelected}\n                        setCurrentTool={setCurrentTool}\n                        toolEditorContainerNode={toolEditorContainerNode}\n                        switchDirection={switchDirection}\n                        setSwitchDirection={setSwitchDirection}\n                    />\n                )\n            }\n            case tools.balconyDoor: {\n                return (\n                    <BalconyDoorTool\n                        setWallDirection={setWallDirection}\n                        selected={selected}\n                        setSelected={setSelected}\n                        setStartPoint={setStartPoint}\n                        setCurrentTool={setCurrentTool}\n                        toolEditorContainerNode={toolEditorContainerNode}\n                    />\n                )\n            }\n            default: {\n                return null\n            }\n        }\n    }\n    useGestures(containerRef, {\n        onPinchChanged: (event: { scale: number }) => {\n            if (event.scale) {\n                setTimeout(setCanvasScale(event.scale / 10), 100)\n            }\n        },\n    })\n    return (\n        <CanvasContainer ref={containerRef}>\n            <Stage\n                width={canvasSize.width}\n                height={canvasSize.height}\n                scaleX={scale}\n                scaleY={-scale}\n                draggable\n                offsetX={\n                    -canvasSize.width / scale / 2 +\n                    centeringState[0] * (0.1 / scale!)\n                }\n                offsetY={\n                    canvasSize.height / scale / 2 +\n                    centeringState[1] * (0.1 / scale!)\n                }\n                style={{\n                    cursor: cursor.style,\n                }}\n                onDragEnd={(event) =>\n                    setDragableState({\n                        x: event.target.x(),\n                        y: event.target.y(),\n                    })\n                }\n            >\n                <Provider store={store}>\n                    <Layer>\n                        {stateElements.map((element: ElementType) => {\n                            if (isWall(element)) {\n                                return (\n                                    <Wall\n                                        currentTool={currentTool}\n                                        cursorStyle={cursor.style}\n                                        cursorElement={cursor.element}\n                                        setCursor={setCursor}\n                                        selected={selected}\n                                        setSelected={setSelected}\n                                        key={element.id}\n                                        element={element}\n                                    />\n                                )\n                            }\n                            if (isMainDoor(element)) {\n                                return (\n                                    <MainDoor\n                                        key={element.id}\n                                        element={element}\n                                    />\n                                )\n                            }\n                            if (isAperture(element)) {\n                                return (\n                                    <Aperture\n                                        key={element.id}\n                                        element={element}\n                                        isApertureWindow\n                                    />\n                                )\n                            }\n                            if (isApertureDoor(element)) {\n                                return (\n                                    <Aperture\n                                        key={element.id}\n                                        element={element}\n                                    />\n                                )\n                            }\n                            if (isHeater(element)) {\n                                return (\n                                    <Battery\n                                        key={element.id}\n                                        element={element}\n                                    />\n                                )\n                            }\n                            if (isVent(element)) {\n                                return (\n                                    <Vent key={element.id} element={element} />\n                                )\n                            }\n                            if (isTube(element)) {\n                                return (\n                                    <Tube key={element.id} element={element} />\n                                )\n                            }\n                            if (isBalconyDoor(element!)) {\n                                return (\n                                    <BalconyDoor\n                                        key={element!.id}\n                                        element={element}\n                                    />\n                                )\n                            }\n                            return ''\n                        })}\n                    </Layer>\n                    {renderCurrentTool()}\n                </Provider>\n            </Stage>\n        </CanvasContainer>\n    )\n}\n","import { backgroundColors } from 'styles/colors'\n\nexport const dark = {\n    color: '#a1a1a1',\n    bgColor: `${backgroundColors.formPromo}`,\n    bgColorHover: '#fff',\n    overlayColor: '#333333a6',\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { accentDark } from 'cad/themes/accentDark'\n\nconst P = styled.p`\n    font-size: 22px;\n    margin: 5px 0;\n    line-height: 26px;\n    li {\n        font-size: 18px;\n    }\n`\n\nconst A = styled.a`\n    color: ${accentDark.color};\n    text-decoration: none;\n    margin-left: 5px;\n    &:hover {\n        text-decoration: underline;\n    }\n`\n\nconst H3 = styled.h3`\n    font-size: 24px;\n    line-height: 30px;\n    margin: 5px 0;\n`\n\nconst Ul = styled.ul`\n    margin: 5px 20px;\n`\n\nconst Li = styled.li`\n    margin: 5px 20px;\n    list-style: circle;\n`\n\nconst email = 'obmer@clearline.com.ua'\n\n// const youtubeId = 'BkMlIY5Gq8o'\n\n// const Video = () => (\n//     <div\n//         style={{\n//             position: 'relative',\n//             paddingBottom: '56.25%' /* 16:9 */,\n//             paddingTop: 25,\n//             height: 0,\n//         }}\n//     >\n//         <iframe\n//             title=\"video-instruction\"\n//             style={{\n//                 position: 'absolute',\n//                 top: 0,\n//                 left: 0,\n//                 width: '100%',\n//                 height: '100%',\n//             }}\n//             src={`https://www.youtube.com/embed/${youtubeId}?rel=0`}\n//             frameBorder=\"0\"\n//             allowFullScreen\n//         />\n//     </div>\n// )\n\nconst IntroductionContentEN = () => (\n    <>\n        <H3>Create an apartment drawing for your project design</H3>\n\n        <Ul>\n            <Li>free</Li>\n\n            <Li>without registration</Li>\n\n            <Li>on your smartphone</Li>\n\n            <Li>for rectangular rooms</Li>\n        </Ul>\n\n        <H3>Measure the room</H3>\n\n        <P>Take each room&apos;s dimensions.</P>\n\n        <H3>Draw each room in the editor one by one</H3>\n\n        <H3>Add entrance room</H3>\n\n        <P>\n            <Li>\n                The process begins with adding the <b>entrance door</b>\n            </Li>\n\n            <Li>\n                Next, draw starting from the <b>door</b> to the right, selecting\n                the direction of the walls using arrows and setting their size.\n                You need to add every <b>wall</b> of the entrance room\n            </Li>\n\n            <Li>\n                Close the entrance room outline - connect the last <b>wall</b>{' '}\n                with the left edge of the <b>entrance door</b>\n            </Li>\n        </P>\n\n        <H3>Add other rooms</H3>\n\n        <P>\n            <Li>\n                Once you&apos;ve created the <b>entrance room</b> you can add{' '}\n                <b>inner doors</b>\n            </Li>\n\n            <Li>\n                Click on the <b>Inner Doors</b> tool and select the <b>wall</b>{' '}\n                on which they should be located\n            </Li>\n\n            <Li>\n                Once you add <b>Interior Doors</b> it is possible to draw the\n                next room\n            </Li>\n\n            <Li>\n                Draw it, <b>close the outline</b> and add the following{' '}\n                <b>rooms</b>\n                using the same principle\n            </Li>\n        </P>\n\n        <H3>Add windows, ventilation, radiators, etc.</H3>\n\n        <P>\n            <Li>\n                After you&apos;ve added every room, you can add other objects,\n                picking them on the panel to the left\n            </Li>\n        </P>\n        {/* <Video /> */}\n\n        <H3>Save the drawing</H3>\n\n        <P>\n            Click on the “Save Drawing” button and get a drawing file. Send the{' '}\n            file to the e-mail <A href={`mailto:${email}`}>{email}</A>\n        </P>\n    </>\n)\n\nconst IntroductionContentUK = () => (\n    <>\n        <H3>Створіть креслення квартири для дизайн проекту</H3>\n\n        <Ul>\n            <Li>безкоштовно</Li>\n\n            <Li>без реєстрації</Li>\n\n            <Li>на смартфоні</Li>\n\n            <Li>для приміщень прямокутної форми</Li>\n        </Ul>\n\n        <H3>Обміряйте приміщення</H3>\n\n        <P>Зніміть по черзі розміри кожної кімнати.</P>\n\n        <H3>\n            Накресліть в редакторі кожну кімнату по черзі, почавши з передпокою\n        </H3>\n\n        <H3>Додавання передпокою</H3>\n\n        <P>\n            <Li>\n                Процес починається з додавання <b>вхідних дверей</b>\n            </Li>\n\n            <Li>\n                Далі, кресліть від <b>дверей</b> праворуч, обираючи стрілками\n                напрямок стін та вказуючи їх розміри. Потрібно додати усі{' '}\n                <b>стіни</b> передпокою\n            </Li>\n\n            <Li>\n                Замкніть периметр передпокою - з&apos;єднайте останню{' '}\n                <b>стіну</b> з лівим краєм <b>вхідних дверей</b>\n            </Li>\n        </P>\n\n        <H3>Додавання інших кімнат</H3>\n\n        <P>\n            <Li>\n                Після того, як ви створили <b>передпокій</b> у вас\n                з&apos;являється можливість додати <b>міжкімнатні двері</b>\n            </Li>\n\n            <Li>\n                Клацніть на значок <b>Міжкімнатні двері</b> на панелі ліворуч та\n                оберіть <b>стіну</b> на якій вони повинні розташовуватись\n            </Li>\n\n            <Li>\n                Після того, як ви додати <b>Міжкімнатні двері</b> у вас\n                з’являється можливість накреслити наступну кімнату\n            </Li>\n\n            <Li>\n                Накресліть її, <b>замкніть периметр</b> цієї кімнати і додавайте\n                наступні <b>кімнaти</b> за таким же принципом\n            </Li>\n        </P>\n\n        <H3>Додайте вікна, витяжку, радіатори, тощо</H3>\n\n        <P>\n            <Li>\n                Після того, як всі кімнати накреслені, Ви можете додавати інші\n                об&apos;єкти, обираючи на панелі ліворуч необхідні елементи\n            </Li>\n        </P>\n\n        {/* <Video /> */}\n\n        <H3>Збережіть креслення</H3>\n\n        <P>\n            Натисніть на кнопку «Зберегти Креслення» та отримаєте файл\n            креслення. Надішліть файл на пошту{' '}\n            <A href={`mailto:${email}`}>{email}</A>\n        </P>\n    </>\n)\n\nconst IntroductionContentRU = () => (\n    <>\n        <H3>Создайте чертеж квартиры для дизайн проекта</H3>\n\n        <Ul>\n            <Li>бесплатно</Li>\n\n            <Li>без регистрации</Li>\n\n            <Li>доступно на смартфоне</Li>\n\n            <Li>для помещений с прямыми углами</Li>\n        </Ul>\n\n        <H3>Обмерьте помещение</H3>\n\n        <P>Снимите поочередно размеры каждой комнаты.</P>\n\n        <H3>\n            Нарисуйте в редакторе каждую комнату по очереди, начиная с прихожей\n        </H3>\n\n        <H3>Добавление прихожей</H3>\n\n        <P>\n            <Li>\n                Процесс начинается с добавления <b>входной двери</b>\n            </Li>\n\n            <Li>\n                Далее, чертите от <b>двери</b> вправо, выбирая стрелками\n                направления стен и задавая их размеры. Нужно добавить все{' '}\n                <b>стены</b> прихожей\n            </Li>\n\n            <Li>\n                Замкните периметр прихожей - соедините последнюю <b>стену</b> с\n                левым краем <b>входной двери</b>\n            </Li>\n        </P>\n\n        <H3>Добавление других комнат</H3>\n\n        <P>\n            <Li>\n                После того, как вы создали <b>прихожую</b> у вас появляется\n                возможность добавить <b>межкомнатные двери</b>.\n            </Li>\n\n            <Li>\n                Кликните на значок <b>Межкомнатные двери</b> на панели слева и\n                выберите <b>стену</b> на которой они должны находиться\n            </Li>\n\n            <Li>\n                После того, как вы добавили <b>Межкомнатные двери</b> у вас\n                появляется возможность начертить следуюцую комнату\n            </Li>\n\n            <Li>\n                Начертите ее, <b>замкните периметр</b> этой комнаты и добавляйте\n                следующие <b>кoмнaты</b> по такому же принципу\n            </Li>\n        </P>\n\n        <H3>Добавьте окна, вытяжку, радиаторы и т.д.</H3>\n\n        <P>\n            <Li>\n                После того, как все комнаты начерчены, Bы можете добавлять\n                другие объекты, выбрав на панели слева необходимые елементы\n            </Li>\n        </P>\n        {/* <Video /> */}\n\n        <H3>Сохраните чертеж</H3>\n\n        <P>\n            Нажмите на кнопку «Сохранить Чертеж» и получите файл чертежа.\n            Отправьте файл на почту<A href={`mailto:${email}`}>{email}</A>\n        </P>\n    </>\n)\n\nexport const introductionContent = (data: string) => {\n    switch (data) {\n        case 'en': {\n            return IntroductionContentEN\n        }\n        case 'uk': {\n            return IntroductionContentUK\n        }\n        case 'ru': {\n            return IntroductionContentRU\n        }\n        default:\n            return IntroductionContentRU\n    }\n}\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport styled from 'styled-components'\nimport CloseIcon from 'assets/icons/Exit.svg'\nimport { introductionContent } from 'cad/content/IntroductionContent'\nimport { useStaticQuery, graphql } from 'gatsby'\nimport Img, { FluidObject } from 'gatsby-image'\n// import ReactPlayer from 'react-player'\n\n// import Frame from 'assets/icons/frame.svg'\nimport { Container } from 'components/Container'\nimport { colors } from 'styles/colors'\nimport { displayWidth } from 'styles/width'\nimport { Title } from 'components/TitleComponent'\nimport { getDataByLanguage } from 'utils/getDataByLanguage'\nimport { getImageByImageName } from 'utils/getImageByImageName'\n\nconst CadWrapper = styled.div`\n    width: 100%;\n    height: 100%;\n    background-color: #f2f2f2;\n    position: relative;\n    z-index: 6;\n    border-bottom: 1px solid ${colors.dark};\n    overflow-y: auto;\n    margin-bottom: 90px;\n`\nconst SubTitle = styled.p`\n    font-style: normal;\n    font-weight: normal;\n    font-size: 16px;\n    line-height: 26px;\n    letter-spacing: 0.4px;\n    color: ${colors.dark};\n    text-align: center;\n`\nconst HeroColumn = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 0 32px;\n    justify-content: space-between;\n    position: relative;\n    @media (min-width: ${displayWidth.tablet}) {\n        align-items: flex-start;\n        border-right: 1px solid ${colors.dark};\n    }\n`\nconst TitleStyled = styled(Title)`\n    margin: 40px 0;\n    font-size: 28px;\n    line-height: 55px;\n    text-align: center;\n    letter-spacing: 0.67px;\n    @media (min-width: ${displayWidth.tablet}) {\n        margin: 60px 0;\n    }\n    @media (min-width: ${displayWidth.desktop}) {\n        font-size: 48px;\n        margin: 60px 0 48px;\n    }\n`\nconst InstructionColumn = styled.div`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    align-items: center;\n    @media (min-width: ${displayWidth.tablet}) {\n        align-items: flex-start;\n    }\n`\n// const Video = styled.div`\n//     width: 100%;\n//     position: relative;\n//     padding-top: 56.25%; /* Player ratio: 100 / (1280 / 720) */\n//     div {\n//         position: absolute;\n//         top: 5%;\n//         left: 5.6%;\n//         width: 100%;\n//         height: 100%;\n//     }\n//     @media (min-width: ${displayWidth.tablet}) {\n//         margin-top: 90px;\n//     }\n// `\n// const FrameStyled = styled(Frame)`\n//     position: absolute;\n//     top: -12%;\n//     left: 6.5%;\n//     width: 87%;\n//     height: 108%;\n// `\n\nconst Image = styled(Img)<{ fluid: FluidObject }>`\n    display: none;\n    @media (min-width: ${displayWidth.tablet}) {\n        display: block;\n        width: 100%;\n        height: auto;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        color: transparent;\n    }\n`\nconst ContainerS = styled(Container)`\n    margin: 0 auto;\n    position: relative;\n`\n\nconst IntroductionContentContainer = styled.div`\n    width: 100%;\n    height: 100%;\n    padding: 20px;\n    box-sizing: border-box;\n    @media (min-width: ${displayWidth.tablet}) {\n        padding: 60px;\n    }\n`\nconst ExitButton = styled.button`\n    position: fixed;\n    top: 75px;\n    right: 15px;\n    border: none;\n    cursor: pointer;\n    z-index: 11;\n    @media (min-width: ${displayWidth.tablet}) {\n        top: 95px;\n    }\n`\ntype Props = {\n    closeFunction?: () => void\n}\n\nexport const Instruction = ({ closeFunction }: Props) => {\n    const { i18n } = useTranslation()\n\n    const IntroductionContent = introductionContent(i18n.language)\n    const data = useStaticQuery(graphql`\n        query {\n            allImageSharp {\n                edges {\n                    node {\n                        fluid(srcSetBreakpoints: [400]) {\n                            originalName\n                            ...GatsbyImageSharpFluid\n                        }\n                    }\n                }\n            }\n            allCadYaml {\n                edges {\n                    node {\n                        title\n                        subTitle\n                        video\n                        instruction\n                        buttonText\n                        parent {\n                            ... on File {\n                                name\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    `)\n    const cadYaml = getDataByLanguage(data.allCadYaml, i18n.language)\n    const { title, subTitle /* video, */ } = cadYaml\n    const imageFluid = getImageByImageName(data.allImageSharp, 'cactus.webp')\n    return (\n        <CadWrapper>\n            <ContainerS columns={'1fr'} tabletColumns={'1fr 2fr'}>\n                <ExitButton onClick={closeFunction}>\n                    <CloseIcon />\n                </ExitButton>\n                <HeroColumn>\n                    <div>\n                        <TitleStyled> {title}</TitleStyled>\n                        <SubTitle>{subTitle}</SubTitle>\n                    </div>\n                    <Image fluid={imageFluid.fluid} />\n                </HeroColumn>\n                <InstructionColumn>\n                    {/* <Video>\n                        <FrameStyled />\n                        <ReactPlayer\n                            width=\"80%\"\n                            height=\"80%\"\n                            controls={true}\n                            url={video}\n                            loop={true}\n                            volume={0.5}\n                            muted={true}\n                            config={{\n                                youtube: {\n                                    playerVars: {\n                                        showinfo: 0,\n                                        autoplay: 1,\n                                        color: 'white',\n                                        enablejsapi: 1,\n                                    },\n                                },\n                            }}\n                        />\n                    </Video> */}\n\n                    <IntroductionContentContainer>\n                        <IntroductionContent />\n                    </IntroductionContentContainer>\n                </InstructionColumn>\n            </ContainerS>\n        </CadWrapper>\n    )\n}\n","import { WallType } from 'cad/types'\n\nexport const toDxfStringLine = (element: WallType, color = '0') => {\n    return `0\nLINE\n8\n${element.id}\n10\n${element.points[0]}\n20\n${element.points[1]}\n11\n${element.points[2]}\n21\n${element.points[3]}\n62\n${color}\n`\n}\n","import { ApertureType } from 'cad/types'\nimport { toDxfStringLine } from './lineDxf'\n\nexport const toDxfStringAperture = (\n    element: ApertureType,\n    itIsDoor?: boolean\n) => {\n    const color = itIsDoor ? '3' : '5'\n    return (\n        toDxfStringLine({\n            id: element.id,\n            points: [...element.points[0], ...element.points[1]],\n        }) +\n        toDxfStringLine(\n            {\n                id: element.id,\n                points: [...element.points[1], ...element.points[2]],\n            },\n            color\n        ) +\n        toDxfStringLine({\n            id: element.id,\n            points: [...element.points[2], ...element.points[3]],\n        }).concat(`0\nELLIPSE\n8\n${element.id}\n10\n${element.points[6][0]}\n20\n${element.points[6][1]}\n11\n250\n40\n0.6\n41\n0.0\n42\n6.283\n0\nTEXT\n1\n${element.points[9][0]}\n8\n${element.id}\n10\n${element.points[8][0] + 20}\n20\n${element.points[8][1] - 70}\n40\n70\n0\nTEXT\n1\n${element.points[9][1]}\n8\n${element.id}\n10\n${element.points[7][0] + 20}\n20\n${element.points[7][1] - 70}\n40\n70\n`)\n    )\n}\n","import { BalconyDoorType } from 'cad/types'\nimport { toDxfStringLine } from './lineDxf'\n\nexport const toDxfStringBalconyDoor = (element: BalconyDoorType) => {\n    if (element.balconyType === 'left') {\n        return (\n            toDxfStringLine({\n                id: element.id,\n                points: [...element.points[10], ...element.points[11]],\n            }) +\n            toDxfStringLine(\n                {\n                    id: element.id,\n                    points: [...element.points[2], ...element.points[11]],\n                },\n                '5'\n            ) +\n            toDxfStringLine({\n                id: element.id,\n                points: [...element.points[12], ...element.points[14]],\n            }) +\n            toDxfStringLine({\n                id: element.id,\n                points: [...element.points[13], ...element.points[15]],\n            }) +\n            toDxfStringLine({\n                id: element.id,\n                points: [...element.points[0], ...element.points[1]],\n            }) +\n            toDxfStringLine(\n                {\n                    id: element.id,\n                    points: [...element.points[1], ...element.points[11]],\n                },\n                '3'\n            ) +\n            toDxfStringLine({\n                id: element.id,\n                points: [...element.points[2], ...element.points[3]],\n            }).concat(`0\nELLIPSE\n8\n${element.id}\n10\n${element.points[6][0] + 350}\n20\n${element.points[6][1] + 250}\n11\n350\n40\n0.6\n41\n0.0\n42\n6.283\n0\nTEXT\n1\n${`WB:${element.points[9][0]}`}\n8\n${element.id}\n10\n${element.points[8][0] + 90}\n20\n${element.points[8][1] - 35}\n40\n70\n0\nTEXT\n1\n${`T:${element.points[9][1]}`}\n8\n${element.id}\n10\n${element.points[7][0] + 40}\n20\n${element.points[7][1] - 35}\n40\n70\n0\nTEXT\n1\n${`DB:${element.points[16][0]}`}\n8\n${element.id}\n10\n${element.points[17][0] + 100}\n20\n${element.points[17][1] - 45}\n40\n70\n`)\n        )\n    }\n    return (\n        toDxfStringLine({\n            id: element.id,\n            points: [...element.points[10], ...element.points[11]],\n        }) +\n        (element.points[18]\n            ? toDxfStringLine({\n                  id: element.id,\n                  points: [...element.points[18], ...element.points[19]],\n              }) +\n              toDxfStringLine(\n                  {\n                      id: element.id,\n                      points: [...element.points[2], ...element.points[18]],\n                  },\n                  '5'\n              ) +\n              toDxfStringLine(\n                  {\n                      id: element.id,\n                      points: [...element.points[11], ...element.points[18]],\n                  },\n                  '3'\n              )\n            : toDxfStringLine(\n                  {\n                      id: element.id,\n                      points: [...element.points[2], ...element.points[11]],\n                  },\n                  '3'\n              )) +\n        toDxfStringLine({\n            id: element.id,\n            points: [...element.points[12], ...element.points[14]],\n        }) +\n        toDxfStringLine({\n            id: element.id,\n            points: [...element.points[13], ...element.points[15]],\n        }) +\n        toDxfStringLine({\n            id: element.id,\n            points: [...element.points[0], ...element.points[1]],\n        }) +\n        toDxfStringLine(\n            {\n                id: element.id,\n                points: [...element.points[1], ...element.points[11]],\n            },\n            '5'\n        ) +\n        toDxfStringLine({\n            id: element.id,\n            points: [...element.points[2], ...element.points[3]],\n        }).concat(`0\nELLIPSE\n8\n${element.id}\n10\n${element.points[6][0] + 350}\n20\n${element.points[6][1] + 250}\n11\n350\n40\n0.6\n41\n0.0\n42\n6.283\n0\nTEXT\n1\n${`WB:${element.points[9][0]}`}\n8\n${element.id}\n10\n${element.points[8][0] + 90}\n20\n${element.points[8][1] - 35}\n40\n70\n0\nTEXT\n1\n${`T:${element.points[9][1]}`}\n8\n${element.id}\n10\n${element.points[7][0] + 40}\n20\n${element.points[7][1] - 35}\n40\n70\n0\nTEXT\n1\n${`DB:${element.points[16][0]}`}\n8\n${element.id}\n10\n${element.points[17][0] + 100}\n20\n${element.points[17][1] - 45}\n40\n70\n`)\n    )\n}\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\nimport {\n    isWall,\n    ElementType,\n    isTube,\n    isMainDoor,\n    isAperture,\n    isApertureDoor,\n    isHeater,\n    isVent,\n    isBalconyDoor,\n} from 'cad/types'\nimport { getElements } from 'cad/storage/selectors'\nimport { toDxfStringLine } from 'cad/dxf/lineDxf'\nimport { toDxfStringDoor } from 'cad/dxf/doorDxf'\nimport { toDxfStringAperture } from 'cad/dxf/apertureDxf'\nimport { toDxfStringBattery } from 'cad/dxf/batteryDxf'\nimport { toDxfStringVent } from 'cad/dxf/ventDxf'\nimport { toDxfStringTube } from 'cad/dxf/tubeDxf'\nimport { fileDxf } from 'cad/dxf/fileDxf'\nimport { download } from 'cad/dxf/downloadDxf'\nimport { toDxfStringBalconyDoor } from './dxf/balconyDoor'\nimport { displayWidth } from 'styles/width'\nimport ISvg from 'assets/icons/iconsCad/i.svg'\nimport { accentDark } from './themes/accentDark'\nimport { Button } from 'components/Button'\nimport { sendEvent } from 'tracking/tracking'\n\nconst ModalWraper = styled.div`\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 3;\n    width: 100%;\n    height: 100%;\n    background-color: #000000ef;\n`\nconst ModalContainer = styled.div`\n    padding: 10px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background-color: white;\n    @media (min-width: ${displayWidth.tablet}) {\n        padding: 70px;\n        align-items: flex-start;\n    }\n`\nconst Text = styled.p`\n    margin: 0;\n    font-size: 36px;\n    text-align: center;\n    color: black;\n    @media (min-width: ${displayWidth.tablet}) {\n        margin-bottom: 20px;\n        text-align: left;\n    }\n`\nconst SaveNameLabel = styled.label`\n    display: block;\n    text-align: center;\n    padding: 10px 0px;\n    color: ${(props) => props.theme.color};\n    font-size: 14px;\n\n    & > span {\n        display: block;\n    }\n    @media (min-width: ${displayWidth.tablet}) {\n        text-align: left;\n        width: 100%;\n    }\n`\nconst SaveNameInput = styled.input`\n    width: 100%;\n    padding: 8px 5px;\n    font-size: 20px;\n    text-align: left;\n    border: none;\n    border-bottom: 1px solid #000;\n    box-sizing: border-box;\n`\n\nconst WarningContainer = styled.section`\n    margin: 0 0 30px;\n    padding: 15px;\n    text-align: center;\n    background: #f7d7d7;\n    color: #000;\n    @media (min-width: ${displayWidth.tablet}) {\n        text-align: left;\n        width: 100%;\n        box-sizing: border-box;\n    }\n`\nconst WarningIcon = styled(ISvg)`\n    fill: ${accentDark.color};\n    margin-right: 7px;\n    height: 19px;\n`\nconst WarningHeader = styled.h2`\n    margin: 0;\n    height: 19px;\n    margin-bottom: 10px;\n    font-weight: bold;\n    font-size: 16px;\n    line-height: 20px;\n`\n\nconst WarningMessage = styled.div`\n    font-size: 16px;\n    margin-left: 26px;\n`\nconst Div = styled.div`\n    display: flex;\n    justify-content: center;\n    @media (min-width: ${displayWidth.tablet}) {\n        justify-content: flex-start;\n    }\n`\nconst SaveButton = styled(Button)`\n    margin: 10px;\n`\nconst CancelButton = styled(SaveButton)`\n    color: black;\n    background-color: white;\n    :hover {\n        background-color: lightgray;\n    }\n`\nconst ButtonWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    @media (min-width: ${displayWidth.tablet}) {\n        flex-direction: row;\n    }\n`\ntype Props = {\n    setShouldShowSaveModal: (arg: boolean) => void\n    isConturLocked?: boolean | undefined\n    onClose: () => void\n}\n\nexport const SaveModal = ({\n    setShouldShowSaveModal,\n    isConturLocked,\n    onClose,\n}: Props) => {\n    const stateElements: ElementType[] = useSelector(getElements)\n    const date = new Date()\n    const formatDate = `${date.getDate()}.${\n        date.getMonth() + 1\n    }.${date.getFullYear()}-${date.getHours()}.${date.getMinutes()}.${date.getSeconds()}`\n    const itIsDoor = true\n\n    const dfxElementsArray = stateElements.map((element) => {\n        if (isWall(element)) return toDxfStringLine(element)\n        if (isTube(element)) return toDxfStringTube(element)\n        if (isMainDoor(element)) return toDxfStringDoor(element)\n        if (isAperture(element)) return toDxfStringAperture(element)\n        if (isApertureDoor(element))\n            return toDxfStringAperture(element, itIsDoor)\n        if (isHeater(element)) return toDxfStringBattery(element)\n        if (isVent(element)) return toDxfStringVent(element)\n        if (isBalconyDoor(element)) return toDxfStringBalconyDoor(element)\n        return ''\n    })\n\n    const { t } = useTranslation()\n    const [saveName, setSaveName] = useState(formatDate)\n    const handleSaveNameChange = (event: { target: { value: string } }) =>\n        setSaveName(event.target.value)\n    const handleDownloadClick = () =>\n        download(saveName, fileDxf(dfxElementsArray.join('')))\n    return (\n        <ModalWraper>\n            <ModalContainer>\n                <Text>{t('SaveTheDrawing')}</Text>\n\n                <SaveNameLabel>\n                    <span>{t('SaveNameLabel')}</span>\n\n                    <SaveNameInput\n                        value={saveName}\n                        onChange={handleSaveNameChange}\n                    />\n                </SaveNameLabel>\n                {!isConturLocked && (\n                    <WarningContainer>\n                        <Div>\n                            <WarningIcon />\n                            <WarningHeader>\n                                {t('SaveWarningHeader')}\n                            </WarningHeader>\n                        </Div>\n                        <WarningMessage>\n                            {t('SaveWarningMessage')}\n                        </WarningMessage>\n                    </WarningContainer>\n                )}\n                <ButtonWrapper>\n                    <SaveButton\n                        onClick={() => {\n                            sendEvent('Click', {\n                                eventCategory: 'Save Draw',\n                                placement: 'CAD',\n                            })\n                            setShouldShowSaveModal(false)\n                            handleDownloadClick()\n                            onClose()\n                        }}\n                    >\n                        {t('Save')}\n                    </SaveButton>\n\n                    <CancelButton\n                        onClick={() => {\n                            setShouldShowSaveModal(false)\n                            onClose()\n                        }}\n                    >\n                        {t('Cancel')}\n                    </CancelButton>\n                </ButtonWrapper>\n            </ModalContainer>\n        </ModalWraper>\n    )\n}\n","import { TubeType } from 'cad/types'\n\nexport const toDxfStringTube = (element: TubeType, color = '10') => {\n    return `0\nCIRCLE\n8\n${element.id}\n10\n${element.points[0]}\n20\n${element.points[1]}\n40\n${element.points[2] / 2}\n62\n${color}\n`\n}\n","import { MainDoorType, WallType } from 'cad/types'\nimport { toDxfStringLine } from './lineDxf'\n\nexport const toDxfStringDoor = (element: MainDoorType) => {\n    const vector1: WallType = {\n        id: element.id,\n        points: [\n            element.points[0],\n            element.points[1],\n            element.points[0],\n            element.points[1] + element.points[2],\n        ],\n    }\n    const vector2: WallType = {\n        id: element.id,\n        points: [\n            element.points[0],\n            element.points[1],\n            element.points[0] + element.points[3],\n            element.points[1],\n        ],\n    }\n    const vector3: WallType = {\n        id: element.id,\n        points: [\n            element.points[0] + element.points[3],\n            element.points[1],\n            element.points[0] + element.points[3],\n            element.points[1] + element.points[2],\n        ],\n    }\n    return `${toDxfStringLine(vector1)}${toDxfStringLine(\n        vector2,\n        '2'\n    )}${toDxfStringLine(vector3)}0\nELLIPSE\n8\n${element.id}\n10\n${element.points[0] + element.points[3] / 2}\n20\n${element.points[1] + element.points[2] / 2}\n11\n200\n40\n0.5\n41\n0.0\n42\n6.283\n0\nTEXT\n1\n${element.points[4]}\n8\n${element.id}\n10\n${element.points[0] + element.points[3] / 2 - 130}\n20\n${element.points[1] + element.points[2] / 2 - 50}\n40\n100\n`\n}\n","import { HeaterType } from 'cad/types'\nimport { toDxfStringLine } from './lineDxf'\n\nexport const toDxfStringBattery = (element: HeaterType, color = '24') => {\n    return (\n        toDxfStringLine(\n            {\n                id: element.id,\n                points: [...element.points[0], ...element.points[1]],\n            },\n            color\n        ) +\n        toDxfStringLine(\n            {\n                id: element.id,\n                points: [...element.points[1], ...element.points[2]],\n            },\n            color\n        ) +\n        toDxfStringLine(\n            {\n                id: element.id,\n                points: [...element.points[2], ...element.points[3]],\n            },\n            color\n        ) +\n        toDxfStringLine(\n            {\n                id: element.id,\n                points: [...element.points[3], ...element.points[0]],\n            },\n            color\n        )\n    )\n}\n","import { VentType } from 'cad/types'\nimport { toDxfStringLine } from './lineDxf'\n\nexport const toDxfStringVent = (element: VentType, color = '150') => {\n    return (\n        toDxfStringLine(\n            {\n                id: element.id,\n                points: [\n                    element.points[0],\n                    element.points[1],\n                    element.points[0] + 150,\n                    element.points[1],\n                ],\n            },\n            color\n        ) +\n        toDxfStringLine(\n            {\n                id: element.id,\n                points: [\n                    element.points[0] + 150,\n                    element.points[1],\n                    element.points[0] + 150,\n                    element.points[1] + 150,\n                ],\n            },\n            color\n        ) +\n        toDxfStringLine(\n            {\n                id: element.id,\n                points: [\n                    element.points[0] + 150,\n                    element.points[1] + 150,\n                    element.points[0],\n                    element.points[1] + 150,\n                ],\n            },\n            color\n        ) +\n        toDxfStringLine(\n            {\n                id: element.id,\n                points: [\n                    element.points[0],\n                    element.points[1] + 150,\n                    element.points[0],\n                    element.points[1],\n                ],\n            },\n            color\n        ).concat(`0\nTEXT\n1\n${element.points[4]}\n8\n${element.id}\n10\n${element.points[2] + 20}\n20\n${element.points[3] - 70}\n40\n70\n`)\n    )\n}\n","export function download(filename: string, text: string) {\n    const element = window.document.createElement('a')\n\n    element.setAttribute(\n        'href',\n        `data:text/plain;charset=utf-8,${encodeURIComponent(text)}`\n    )\n    element.setAttribute('download', `${filename}.dxf`)\n\n    element.style.display = 'none'\n    window.document.body.appendChild(element)\n\n    element.click()\n\n    window.document.body.removeChild(element)\n}\n","export const fileDxf = (elementDxf: string) => {\n    return `0\nSECTION\n2\nENTITIES\n${elementDxf}0\nENDSEC\n0\nEOF\n`\n}\n","import React, { useState } from 'react'\nimport styled, { ThemeProvider } from 'styled-components'\nimport { useTranslation } from 'react-i18next'\n\nimport { accentDark } from 'cad/themes/accentDark'\nimport { light } from 'cad/themes/light'\nimport CloseIcon from 'assets/icons/Exit.svg'\nimport { colors } from 'styles/colors'\nimport { displayWidth } from 'styles/width'\nimport { Button } from 'components/Button'\n\nconst ModalWraper = styled.div`\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 3;\n    width: 100%;\n    height: 100%;\n    background-color: #000000ef;\n`\nconst ModalContainer = styled.div`\n    position: relative;\n    box-sizing: border-box;\n    width: 700px;\n    max-width: 90%;\n    padding: 50px 10px 10px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background-color: white;\n    @media (min-width: ${displayWidth.tablet}) {\n        padding: 30px 70px;\n    }\n`\nconst CloseIconStyled = styled(CloseIcon)`\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    width: 30px;\n    height: 30px;\n    cursor: pointer;\n    z-index: 4;\n    fill: ${colors.dark};\n    stroke: ${colors.white};\n`\ntype FeedbackModalProps = {\n    onClose: () => void\n}\n\nexport const FeedbackModal = ({ onClose }: FeedbackModalProps) => {\n    return (\n        <ThemeProvider theme={light}>\n            <ModalWraper>\n                <ModalContainer>\n                    <FeedbackForm />\n\n                    <CloseIconStyled onClick={onClose} />\n                </ModalContainer>\n            </ModalWraper>\n        </ThemeProvider>\n    )\n}\n\nconst Form = styled.form`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    max-width: 100%;\n    text-align: center;\n    @media (min-width: ${displayWidth.tablet}) {\n        align-items: flex-start;\n    }\n`\n\nconst Text = styled.h3`\n    color: black;\n    font-family: 'Yeseva One';\n    font-style: normal;\n    font-weight: normal;\n    font-size: 36px;\n    line-height: 42px;\n    letter-spacing: 1.77882px;\n    text-align: center;\n    @media (min-width: ${displayWidth.tablet}) {\n        text-align: left;\n        margin-bottom: 20px;\n    }\n`\n\nconst FeedbackText = styled.textarea`\n    padding: 10px 20px;\n    width: 100%;\n    max-width: 100%;\n    min-width: 100px;\n    font-size: 16px;\n    line-height: 20px;\n    height: calc(20px * 6);\n    min-height: calc(20px * 6);\n    box-sizing: border-box;\n    border-radius: 10px;\n`\n\nconst SubmitButton = styled(Button)`\n    margin: 20px 0 0;\n`\n\nexport const FeedbackForm = () => {\n    const { t } = useTranslation()\n    const [feedbackContent, setFeedbackContent] = useState('')\n    const [isFormSent, setIsFormSent] = useState(false)\n\n    const handleFeedbackChange = (event: { target: { value: string } }) => {\n        setFeedbackContent(event.target.value)\n    }\n\n    const handleFormSubmit = (event: {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        preventDefault: any\n        target: { value: string }\n    }) => {\n        event\n            .preventDefault()(\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                window as any\n            )\n            .ga('send', 'event', 'FeedbackForm', 'Send', feedbackContent)\n        setIsFormSent(true)\n    }\n\n    if (isFormSent) {\n        return <Text>{t('ThanksForYourFeedback')}</Text>\n    }\n\n    return (\n        <Form onSubmit={() => handleFormSubmit}>\n            <Text>{t('HelpUsImproveTheApp')}</Text>\n\n            <FeedbackText\n                placeholder=\"...\"\n                value={feedbackContent}\n                onChange={handleFeedbackChange}\n            />\n\n            <SubmitButton type=\"submit\" theme={accentDark}>\n                {t('LeaveFeedback')}\n            </SubmitButton>\n        </Form>\n    )\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport styled, { ThemeProvider } from 'styled-components'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { ActionCreators } from 'redux-undo'\nimport { useTranslation } from 'react-i18next'\nimport { Canvas } from 'cad/Canvas'\n\nimport { dark } from 'cad/themes/dark'\nimport { accentDark } from 'cad/themes/accentDark'\nimport Minus from 'assets/icons/iconsCad/minus.svg'\nimport WallSvg from 'assets/icons/iconsCad/wall-svgrepo-com.svg'\nimport ApertureSvg from 'assets/icons/iconsCad/window-svgrepo-com.svg'\nimport Plus from 'assets/icons/iconsCad/plus.svg'\nimport Undo from 'assets/icons/iconsCad/undo.svg'\nimport Redo from 'assets/icons/iconsCad/redo.svg'\nimport Heater from 'assets/icons/iconsCad/heater.svg'\nimport Tube from 'assets/icons/iconsCad/tube.svg'\nimport Vent from 'assets/icons/iconsCad/vent.svg'\nimport Question from 'assets/icons/iconsCad/questionIcon.svg'\nimport Fit from 'assets/icons/iconsCad/fit.svg'\nimport Door from 'assets/icons/iconsCad/door.svg'\nimport Union from 'assets/icons/iconsCad/Union.svg'\nimport {\n    getElements,\n    statePastElements,\n    stateFutureElements,\n} from 'cad/storage/selectors'\nimport { Instruction } from 'cad/instruction'\nimport { SaveModal } from 'cad/saveModal'\nimport { FeedbackModal } from 'cad/feedback/FeedbackModal'\nimport {\n    ApertureDoorType,\n    BalconyDoorType,\n    MainDoorType,\n    OptionalString,\n    WallType,\n} from './types'\nimport { light } from './themes/light'\nimport ISvg from 'assets/icons/iconsCad/i.svg'\nimport { displayWidth } from 'styles/width'\nimport { Button } from 'components/Button'\n\nconst WorkplaceStyled = styled.div`\n    position: relative;\n    width: 100%;\n    height: 100%;\n    max-width: 100vw;\n    flex-grow: 1;\n    background-color: #f2f2f2;\n    overflow: hidden;\n`\nconst LeftTopTools = styled.div`\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1;\n`\nconst RightTopTools = styled.div`\n    position: absolute;\n    top: 0;\n    right: 0;\n`\n\nconst ToolEditorContainer = styled.section`\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    bottom: 10px;\n`\nconst StartWindow = styled.div`\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n    background-color: #000000ef;\n`\nconst ClearWindow = styled.div`\n    z-index: 3;\n    box-sizing: border-box;\n    padding: 10px;\n    background-color: white;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    @media (min-width: ${displayWidth.tablet}) {\n        padding: 70px;\n    }\n`\nconst OrietationScreen = styled(StartWindow)`\n    display: none;\n    @media (max-width: 812px) and (orientation: landscape) {\n        display: flex;\n        z-index: 3;\n        color: white;\n        font-size: 30px;\n    }\n`\nconst Ask = styled.p`\n    font-family: 'Yeseva One';\n    max-width: 600px;\n    margin: 0 auto 20px;\n    font-style: normal;\n    font-weight: bold;\n    font-size: 36px;\n    line-height: 42px;\n    letter-spacing: 1.77882px;\n    text-align: center;\n    padding-right: 0;\n`\nconst ButtonWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    @media (min-width: ${displayWidth.tablet}) {\n        flex-direction: row;\n    }\n`\nconst ButtonConf = styled(Button)`\n    margin: 10px;\n`\nconst ButtonCanc = styled(ButtonConf)`\n    color: black;\n    background-color: white;\n    :hover {\n        background-color: lightgray;\n    }\n`\nconst Hint = styled.div`\n    display: none;\n    position: absolute;\n    left: 95px;\n    top: 25px;\n    svg {\n        position: absolute;\n        left: 0;\n        top: -10px;\n        width: 255px;\n    }\n    p {\n        position: absolute;\n        left: 10px;\n        top: 0px;\n        z-index: 4;\n        color: white;\n        width: 250px;\n        font-style: normal;\n        font-weight: normal;\n        font-size: 12px;\n        line-height: 26px;\n        letter-spacing: 0.4px;\n    }\n`\nconst ButtonStyled = styled.button<{ active?: boolean; disable?: boolean }>`\n    position: relative;\n    width: 88px;\n    height: 68px;\n    padding-top: 2px;\n    margin: 1px;\n    background-color: ${(props) =>\n        props.active ? accentDark.color : light.bgColor};\n    border: none;\n    background-color: ${(props) => props.disable && ' #a1a1a1ff'};\n    :hover {\n        background-color: #000000a9;\n\n        ${Hint} {\n            display: ${(props) => props.disable && 'block'};\n        }\n    }\n\n    > svg {\n        width: 36px;\n        height: 36px;\n        fill: white;\n    }\n    > p {\n        font-style: normal;\n        font-weight: bold;\n        font-size: 10px;\n        line-height: 14px;\n        text-align: center;\n        letter-spacing: 0.685714px;\n        text-transform: uppercase;\n        color: white;\n        margin: 0;\n    }\n`\nconst ButtonTools = styled.button`\n    width: 88px;\n    text-align: center;\n    padding: 4px 0;\n    height: 34px;\n    margin: 1px;\n    margin-top: 3px;\n    font-style: normal;\n    font-weight: bold;\n    font-size: 10px;\n    line-height: 24px;\n    border: 1px solid gray;\n    background-color: white;\n    text-transform: uppercase;\n    border-radius: 0;\n    cursor: pointer;\n    :hover {\n        background-color: gray;\n    }\n`\nconst ButtonMobileHidden = styled.span`\n    @media (max-width: 767px) {\n        display: none;\n    }\n`\nconst ButtonGroupStyled = styled.div<{ showTools?: boolean }>`\n    display: ${(props) => (props.showTools ? 'none' : 'flex')};\n    flex-direction: column;\n    @media (min-width: ${displayWidth.tablet}) {\n        display: ${(props) => (props.showTools ? 'flex' : 'none')};\n    }\n`\nconst MILIMETERS_PER_PIXEL = 0.1\nconst ZOOM_FACTOR = 1.1\nconst ZOOM_FACTOR_WHEEL = 1.05\nconst ButtonS = styled.button`\n    cursor: pointer;\n    background-color: transparent;\n    border: none;\n    margin: 1px;\n    padding: 0;\n    svg {\n        width: 34px;\n        height: 34px;\n        margin: 2px 5px;\n        z-index: 2;\n    }\n\n    :disabled {\n        svg {\n            fill: #00000056;\n        }\n    }\n    @media (min-width: ${displayWidth.tablet}) {\n        :hover {\n            svg {\n                fill: #000000a9;\n            }\n        }\n    }\n`\nexport const tools = {\n    default: 'default',\n    move: 'move',\n    wall: 'wall',\n    mainDoor: 'mainDoor',\n    aperture: 'aperture',\n    apertureDoor: 'apertureDoor',\n    heater: 'heater',\n    vent: 'vent',\n    tube: 'tube',\n    balconyDoor: 'balconyDoor',\n}\nconst LineEditorContainerAskWrapper = styled.div`\n    position: absolute;\n    bottom: 30px;\n    left: 0;\n    right: 0;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n`\nconst LineEditorContainerAsk = styled.div`\n    display: flex;\n    max-width: 90vw;\n    background-color: white;\n    border: 1px solid ${light.bgColor};\n    color: ${light.bgColor};\n    padding: 10px 20px;\n    box-sizing: border-box;\n    svg {\n        height: 20px;\n        min-width: 20px;\n    }\n`\nconst StartText = styled.span`\n    width: 430px;\n    max-width: 100%;\n    margin: 0 5px;\n    font-size: 18px;\n    line-height: 20px;\n    text-align: center;\n    align-self: center;\n`\nconst getFutureTool = (futureObjectType: string) => {\n    if (\n        futureObjectType === tools.apertureDoor ||\n        futureObjectType === tools.mainDoor ||\n        futureObjectType === tools.wall ||\n        futureObjectType === tools.balconyDoor\n    ) {\n        return tools.wall\n    }\n    return tools.move\n}\n\nexport const direction = {\n    right: 'right',\n    left: 'left',\n    down: 'down',\n    up: 'up',\n}\nconst getDirection = (lastElementInState: WallType) => {\n    if (\n        lastElementInState.objectType === tools.wall &&\n        lastElementInState.points[0] !== lastElementInState.points[2] &&\n        lastElementInState.points[0] < lastElementInState.points[2]\n    ) {\n        return direction.right\n    }\n    if (\n        lastElementInState.objectType === tools.wall &&\n        lastElementInState.points[0] !== lastElementInState.points[2] &&\n        lastElementInState.points[0] > lastElementInState.points[2]\n    ) {\n        return direction.left\n    }\n    if (\n        lastElementInState.objectType === tools.wall &&\n        lastElementInState.points[0] === lastElementInState.points[2] &&\n        lastElementInState.points[1] > lastElementInState.points[3]\n    ) {\n        return direction.down\n    }\n    if (\n        lastElementInState.objectType === tools.wall &&\n        lastElementInState.points[0] === lastElementInState.points[2] &&\n        lastElementInState.points[1] < lastElementInState.points[3]\n    ) {\n        return direction.up\n    }\n    return direction.right\n}\n\ntype Props = {\n    shouldShowAskModal: boolean\n    setShouldShowAskModal: (arg: boolean) => void\n    shouldShowSaveModal: boolean\n    setShouldShowSaveModal: (arg: boolean) => void\n    shouldShowFeedbackModal: boolean\n    setShouldShowFeedbackModal: (arg: boolean) => void\n}\n\nconst Workplace = ({\n    shouldShowAskModal,\n    setShouldShowAskModal,\n    shouldShowSaveModal,\n    setShouldShowSaveModal,\n    shouldShowFeedbackModal,\n    setShouldShowFeedbackModal,\n}: Props) => {\n    const { t } = useTranslation()\n    const dispatch = useDispatch()\n    const stateElements = useSelector(getElements)\n    const stateElementsPast = useSelector(statePastElements)\n    const stateElementsFuture = useSelector(stateFutureElements)\n    const [showInstruction, setShowInstruction] = useState(false)\n    const [centeringState, setCenteringState] = useState([0, 0])\n    const [selected, setSelected] = useState<OptionalString>()\n    const [startPoint, setStartPoint] = useState<[number, number]>([0, 0])\n    const [canvasScale, setCanvasScale] = useState(MILIMETERS_PER_PIXEL)\n    const [currentTool, setCurrentTool] = useState(tools.default)\n    const [showTools, setShowTools] = useState(true)\n    const [elementDirection, setElementDirection] = useState(\n        stateElements.length\n            ? getDirection(stateElements[stateElements.length - 1])\n            : direction.right\n    )\n    const [cursor, setCursor] = useState<{\n        element: OptionalString\n        style: OptionalString\n    }>({\n        element: undefined,\n        style: 'default',\n    })\n    const [dragableState, setDragableState] = useState({\n        x: 0,\n        y: 0,\n    })\n    const [toolEditorContainerNode, setToolEditorContainerNode] = useState()\n\n    // const timeoutRef = useRef(null)\n\n    // useEffect(() => {\n    //     timeoutRef.current = setTimeout(() => {\n    //         setShouldShowFeedbackModal(true)\n    //     }, 240 * 1000)\n\n    //     return () => {\n    //         clearTimeout(timeoutRef.current)\n    //     }\n    // }, [setShouldShowFeedbackModal])\n\n    const toolEditorContainerRef = useCallback((node) => {\n        setToolEditorContainerNode(node)\n    }, [])\n    useEffect(() => {\n        stateElements.length === 0 && setCurrentTool(tools.mainDoor)\n    }, [stateElements.length])\n\n    const shouldShowContinueModal =\n        currentTool === tools.default && stateElements.length !== 0\n\n    const getPointToContinueFrom: () => [number, number] = () => {\n        const elementsToDetermineContinuePointFrom = stateElements.filter(\n            (\n                element:\n                    | WallType\n                    | MainDoorType\n                    | ApertureDoorType\n                    | BalconyDoorType\n            ) =>\n                (element.objectType === tools.wall &&\n                    !element.isApertureWall) ||\n                element.objectType === tools.mainDoor ||\n                element.objectType === tools.apertureDoor ||\n                element.objectType === tools.balconyDoor\n        )\n        const elementToContinueFrom =\n            elementsToDetermineContinuePointFrom[\n                elementsToDetermineContinuePointFrom.length - 1\n            ]\n\n        if (elementsToDetermineContinuePointFrom.length === 1) {\n            return [\n                stateElements[0].points[0] + stateElements[0].points[3],\n                stateElements[0].points[1] + stateElements[0].points[2],\n            ]\n        }\n        switch (elementToContinueFrom.objectType) {\n            case tools.wall: {\n                if (isConturLocked) {\n                    setCurrentTool(tools.move)\n                    return [0, 0]\n                }\n                return [\n                    elementToContinueFrom.points[2],\n                    elementToContinueFrom.points[3],\n                ]\n            }\n            case tools.balconyDoor: {\n                return [\n                    elementToContinueFrom.points[14][0],\n                    elementToContinueFrom.points[14][1],\n                ]\n            }\n            case tools.apertureDoor: {\n                return [\n                    elementToContinueFrom.points[1][0],\n                    elementToContinueFrom.points[1][1],\n                ]\n            }\n            default: {\n                return [0, 0]\n            }\n        }\n    }\n\n    const mainDoorElement =\n        stateElements.length &&\n        stateElements.find(\n            (element: MainDoorType) => element.objectType === tools.mainDoor\n        )\n    const apertureDoorElements =\n        stateElements.length &&\n        stateElements.filter(\n            (element: ApertureDoorType) =>\n                element.objectType === tools.apertureDoor\n        )\n    const lastDoorElement =\n        apertureDoorElements &&\n        apertureDoorElements[apertureDoorElements.length - 1]\n    const balconyDoorElements =\n        stateElements.length &&\n        stateElements.filter(\n            (element: ApertureDoorType) =>\n                element.objectType === tools.balconyDoor\n        )\n    const lastBalconyDoorElement =\n        balconyDoorElements &&\n        balconyDoorElements[balconyDoorElements.length - 1]\n\n    const lastPoint: number[] = stateElements.length && getPointToContinueFrom()\n    const isConturLocked =\n        (stateElements.length &&\n            stateElements[stateElements.length - 1].objectType !==\n                tools.apertureDoor &&\n            mainDoorElement.points[0] === lastPoint[0] &&\n            mainDoorElement.points[1] + mainDoorElement.points[2] ===\n                lastPoint[1]) ||\n        (lastDoorElement &&\n            lastDoorElement.points[2][0] === lastPoint[0] &&\n            lastDoorElement.points[2][1] === lastPoint[1]) ||\n        (lastBalconyDoorElement &&\n            lastBalconyDoorElement.points[15][0] === lastPoint[0] &&\n            lastBalconyDoorElement.points[15][1] === lastPoint[1])\n\n    const isDoorAdded = Boolean(stateElements.length)\n\n    const setWallDirection = (currentAperturePoints: [number, number][]) => {\n        if (\n            currentAperturePoints[1][0] !== currentAperturePoints[2][0] &&\n            currentAperturePoints[1][0] > currentAperturePoints[2][0]\n        ) {\n            setElementDirection(direction.right)\n        }\n        if (\n            currentAperturePoints[1][0] !== currentAperturePoints[2][0] &&\n            currentAperturePoints[1][0] < currentAperturePoints[2][0]\n        ) {\n            setElementDirection(direction.left)\n        }\n        if (\n            currentAperturePoints[1][0] === currentAperturePoints[2][0] &&\n            currentAperturePoints[2][1] > currentAperturePoints[1][1]\n        ) {\n            setElementDirection(direction.down)\n        }\n        if (\n            currentAperturePoints[1][0] === currentAperturePoints[2][0] &&\n            currentAperturePoints[2][1] < currentAperturePoints[1][1]\n        ) {\n            setElementDirection(direction.up)\n        }\n        return null\n    }\n\n    useEffect(() => {\n        if (isConturLocked) {\n            setCurrentTool(tools.move)\n        }\n    }, [isConturLocked])\n    useEffect(() => {\n        setCanvasScale(0.16)\n        setSelected(undefined)\n    }, [])\n\n    const disable1 = isConturLocked || !isDoorAdded\n    const disable2 = !isConturLocked || !isDoorAdded\n\n    const currentToolName = () => {\n        switch (currentTool) {\n            case tools.wall: {\n                return t('Wall')\n            }\n            case tools.aperture: {\n                return t('Window')\n            }\n            case tools.apertureDoor: {\n                return t('Door')\n            }\n            case tools.heater: {\n                return t('Heater')\n            }\n            case tools.vent: {\n                return t('Vent')\n            }\n            case tools.tube: {\n                return t('Tube')\n            }\n            case tools.balconyDoor: {\n                return t('Balcony')\n            }\n            case tools.mainDoor: {\n                return t('MainDoor')\n            }\n            default:\n                return ''\n        }\n    }\n\n    return (\n        <ThemeProvider theme={dark}>\n            <WorkplaceStyled\n                onWheel={(event) => {\n                    if (event.deltaY > 0) {\n                        setCanvasScale(canvasScale / ZOOM_FACTOR_WHEEL)\n                    } else {\n                        setCanvasScale(canvasScale * ZOOM_FACTOR_WHEEL)\n                    }\n                }}\n            >\n                <OrietationScreen>{t('Rotate')}</OrietationScreen>\n                {!selected &&\n                    currentTool !== tools.wall &&\n                    currentTool !== tools.mainDoor && (\n                        <LineEditorContainerAskWrapper>\n                            <LineEditorContainerAsk>\n                                <ISvg />\n                                <StartText>\n                                    {t('SelectWallToContinue')}\n                                </StartText>\n                            </LineEditorContainerAsk>\n                        </LineEditorContainerAskWrapper>\n                    )}\n                {shouldShowSaveModal && (\n                    <SaveModal\n                        setShouldShowSaveModal={setShouldShowSaveModal}\n                        isConturLocked={isConturLocked}\n                        onClose={() => setShouldShowFeedbackModal(true)}\n                    />\n                )}\n                {shouldShowFeedbackModal && (\n                    <FeedbackModal\n                        onClose={() => setShouldShowFeedbackModal(false)}\n                    />\n                )}\n                {shouldShowAskModal && (\n                    <StartWindow>\n                        <ClearWindow>\n                            <Ask>{t('AskDelete')}</Ask>\n                            <ButtonWrapper>\n                                <ButtonConf\n                                    onClick={() => {\n                                        setCurrentTool(tools.mainDoor)\n                                        dispatch({\n                                            type: 'deleteState',\n                                        })\n                                        dispatch(ActionCreators.clearHistory())\n                                        setShouldShowAskModal(false)\n                                        setStartPoint([0, 0])\n                                        setCanvasScale(0.1)\n                                        setCenteringState([0, 0])\n                                        setDragableState({\n                                            x: 0,\n                                            y: 0,\n                                        })\n                                        setElementDirection(direction.right)\n                                    }}\n                                >\n                                    {t('Confirm')}\n                                </ButtonConf>\n\n                                <ButtonCanc\n                                    onClick={() => {\n                                        setShouldShowAskModal(false)\n                                    }}\n                                >\n                                    {t('Cancel')}\n                                </ButtonCanc>\n                            </ButtonWrapper>\n                        </ClearWindow>\n                    </StartWindow>\n                )}\n                {showInstruction && (\n                    <Instruction\n                        closeFunction={() => setShowInstruction(false)}\n                    />\n                )}\n                {shouldShowContinueModal && !isConturLocked && (\n                    <StartWindow>\n                        <ButtonCanc\n                            onClick={() => {\n                                setCurrentTool(tools.wall)\n                                setStartPoint(getPointToContinueFrom())\n                            }}\n                        >\n                            {t('Continue')}\n                        </ButtonCanc>\n                    </StartWindow>\n                )}\n                {shouldShowContinueModal && isConturLocked && (\n                    <StartWindow>\n                        <ButtonCanc\n                            onClick={() => {\n                                setCurrentTool(tools.move)\n                            }}\n                        >\n                            {t('Continue')}\n                        </ButtonCanc>\n                    </StartWindow>\n                )}\n                <Canvas\n                    setWallDirection={setWallDirection}\n                    centeringState={centeringState}\n                    setCenteringState={setCenteringState}\n                    cursor={cursor}\n                    setCursor={setCursor}\n                    setSelected={setSelected}\n                    selected={selected}\n                    setStartPoint={setStartPoint}\n                    startPoint={startPoint}\n                    setCurrentTool={setCurrentTool}\n                    currentTool={currentTool}\n                    scale={canvasScale}\n                    setCanvasScale={setCanvasScale}\n                    stateElements={stateElements}\n                    toolEditorContainerNode={toolEditorContainerNode}\n                    setDragableState={setDragableState}\n                    dragableState={dragableState}\n                    elementDirection={elementDirection}\n                    setElementDirection={setElementDirection}\n                />\n\n                <LeftTopTools>\n                    <ButtonTools onClick={() => setShowTools(!showTools)}>\n                        {currentTool === tools.move\n                            ? t('Tools')\n                            : currentToolName()}\n                    </ButtonTools>\n\n                    <ButtonGroupStyled showTools={showTools}>\n                        <ButtonStyled\n                            active={currentTool === tools.wall}\n                            disable={disable1}\n                            onClick={() => {\n                                !disable1 && setCurrentTool(tools.wall)\n                                !disable1 && setStartPoint(startPoint)\n                                !disable1 && setSelected(undefined)\n                                !disable1 &&\n                                    setTimeout(\n                                        () => setShowTools(!showTools),\n                                        2000\n                                    )\n                            }}\n                        >\n                            <WallSvg />\n                            <p>{t('Wall')}</p>\n                            <Hint>\n                                <Union />\n                                <p>{t('AddDoor')}</p>\n                            </Hint>\n                        </ButtonStyled>\n\n                        <ButtonStyled\n                            active={currentTool === tools.aperture}\n                            disable={disable2}\n                            onClick={() => {\n                                !disable2 && setCurrentTool(tools.aperture)\n                                !disable2 && setSelected(undefined)\n                                !disable2 &&\n                                    setTimeout(\n                                        () => setShowTools(!showTools),\n                                        2000\n                                    )\n                            }}\n                        >\n                            <ApertureSvg />\n                            <p>{t('Window')}</p>\n                            <Hint>\n                                <Union />\n                                <p>{t('CloseContur')}</p>\n                            </Hint>\n                        </ButtonStyled>\n\n                        <ButtonStyled\n                            active={currentTool === tools.heater}\n                            disable={disable2}\n                            onClick={() => {\n                                !disable2 && setCurrentTool(tools.heater)\n                                !disable2 && setSelected(undefined)\n                                !disable2 &&\n                                    setTimeout(\n                                        () => setShowTools(!showTools),\n                                        2000\n                                    )\n                            }}\n                        >\n                            <Heater />\n                            <p>{t('Heater')}</p>\n                            <Hint>\n                                <Union />\n                                <p>{t('CloseContur')}</p>\n                            </Hint>\n                        </ButtonStyled>\n\n                        <ButtonStyled\n                            active={currentTool === tools.vent}\n                            disable={disable2}\n                            onClick={() => {\n                                !disable2 && setCurrentTool(tools.vent)\n                                !disable2 && setSelected(undefined)\n                                !disable2 &&\n                                    setTimeout(\n                                        () => setShowTools(!showTools),\n                                        2000\n                                    )\n                            }}\n                        >\n                            <Vent />\n                            <p>{t('Vent')}</p>\n                            <Hint>\n                                <Union />\n                                <p>{t('CloseContur')}</p>\n                            </Hint>\n                        </ButtonStyled>\n\n                        <ButtonStyled\n                            active={currentTool === tools.tube}\n                            disable={disable2}\n                            onClick={() => {\n                                !disable2 && setCurrentTool(tools.tube)\n                                !disable2 && setSelected(undefined)\n                                !disable2 &&\n                                    setTimeout(\n                                        () => setShowTools(!showTools),\n                                        2000\n                                    )\n                            }}\n                        >\n                            <Tube />\n                            <p>{t('Tube')}</p>\n                            <Hint>\n                                <Union />\n                                <p>{t('CloseContur')}</p>\n                            </Hint>\n                        </ButtonStyled>\n\n                        <ButtonStyled\n                            active={currentTool === tools.apertureDoor}\n                            disable={disable2}\n                            onClick={() => {\n                                !disable2 && setCurrentTool(tools.apertureDoor)\n                                !disable2 && setSelected(undefined)\n                                !disable2 &&\n                                    setTimeout(\n                                        () => setShowTools(!showTools),\n                                        2000\n                                    )\n                            }}\n                        >\n                            <Door />\n                            <p>{t('Door')}</p>\n                            <Hint>\n                                <Union />\n\n                                <p>{t('CloseContur')}</p>\n                            </Hint>\n                        </ButtonStyled>\n\n                        <ButtonStyled\n                            active={currentTool === tools.balconyDoor}\n                            disable={disable2}\n                            onClick={() => {\n                                !disable2 && setCurrentTool(tools.balconyDoor)\n                                !disable2 && setSelected(undefined)\n                                !disable2 &&\n                                    setTimeout(\n                                        () => setShowTools(!showTools),\n                                        2000\n                                    )\n                            }}\n                        >\n                            <Door />\n                            <p>{t('Balcony')}</p>\n                            <Hint>\n                                <Union />\n                                <p>{t('CloseContur')}</p>\n                            </Hint>\n                        </ButtonStyled>\n                    </ButtonGroupStyled>\n                </LeftTopTools>\n\n                <RightTopTools>\n                    <ButtonS\n                        onClick={() => setShowInstruction(true)}\n                        title={t('Instruction')}\n                    >\n                        <Question />\n                    </ButtonS>\n                    <ButtonMobileHidden>\n                        <ButtonS\n                            onClick={() =>\n                                setCanvasScale(canvasScale * ZOOM_FACTOR)\n                            }\n                            title={t('Plus')}\n                        >\n                            <Plus />\n                        </ButtonS>\n                    </ButtonMobileHidden>\n                    <ButtonMobileHidden>\n                        <ButtonS\n                            onClick={() =>\n                                setCanvasScale(canvasScale / ZOOM_FACTOR)\n                            }\n                            title={t('Minus')}\n                        >\n                            <Minus />\n                        </ButtonS>\n                    </ButtonMobileHidden>\n\n                    <ButtonS\n                        onClick={() => {\n                            setCanvasScale(0.1)\n                            setCenteringState([\n                                dragableState.x * 10,\n                                -dragableState.y * 10,\n                            ])\n                        }}\n                        title={t('Fit')}\n                    >\n                        <Fit />\n                    </ButtonS>\n\n                    <ButtonS\n                        disabled={!stateElementsPast}\n                        onClick={() => {\n                            dispatch(ActionCreators.undo())\n                            setCurrentTool(\n                                stateElements[stateElements.length - 1]\n                                    .objectType === 'wall'\n                                    ? 'wall'\n                                    : 'move'\n                            )\n                            setElementDirection(\n                                getDirection(\n                                    stateElements[stateElements.length - 1]\n                                )\n                            )\n                            setSelected(undefined)\n                        }}\n                        title={t('Undo')}\n                    >\n                        <Undo />\n                    </ButtonS>\n\n                    <ButtonS\n                        disabled={!stateElementsFuture}\n                        onClick={() => {\n                            dispatch(ActionCreators.redo())\n\n                            setCurrentTool(\n                                getFutureTool(\n                                    stateElementsFuture[\n                                        stateElementsFuture.length - 1\n                                    ].objectType\n                                )\n                            )\n\n                            setElementDirection(\n                                getDirection(\n                                    stateElementsFuture[\n                                        stateElementsFuture.length - 1\n                                    ]\n                                )\n                            )\n                            setSelected(undefined)\n                        }}\n                        title={t('Redo')}\n                    >\n                        <Redo />\n                    </ButtonS>\n                </RightTopTools>\n                <ToolEditorContainer ref={toolEditorContainerRef} />\n            </WorkplaceStyled>\n        </ThemeProvider>\n    )\n}\n\nexport default Workplace\n","import React, { useState } from 'react'\nimport { Link } from 'gatsby'\nimport { useTranslation } from 'react-i18next'\nimport styled, { css } from 'styled-components'\n\nimport { languages } from 'i18n/languages'\nimport ShevronIcon from 'assets/icons/ShevronDown.svg'\nimport { usePagePath } from 'hooks/usePagePath'\nimport { headerHeight } from 'styles/height'\nimport { colors } from 'styles/colors'\nimport { displayWidth } from 'styles/width'\nimport { sendEvent } from 'tracking'\n\nconst languagesList = Object.keys(languages)\n\nconst LanguageList = styled.div<{ open: boolean }>`\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: ${headerHeight.cadMobile};\n    height: ${headerHeight.cadMobile};\n    box-sizing: border-box;\n    z-index: 4;\n    margin-bottom: 0px;\n    ${(props) =>\n        props.open\n            ? css`\n                  color: ${colors.white};\n                  background: ${colors.dark};\n              `\n            : css`\n                  color: ${colors.dark};\n                  background: transparent;\n              `}\n    @media (min-width: ${displayWidth.tablet}) {\n        width: ${headerHeight.cadDesctop};\n        height: ${headerHeight.cadDesctop};\n    }\n`\nconst IconStyled = styled(ShevronIcon)<{ open: boolean }>`\n    width: 10px;\n    ${({ open }) => (open ? 'padding-right:6px;' : 'padding-left: 6px;')};\n    transform: ${({ open }) => open && 'rotate(180deg)'};\n    cursor: pointer;\n`\nconst FakeLink = styled.span<{ open: boolean }>`\n    width: ${headerHeight.cadMobile};\n    height: ${headerHeight.cadMobile};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: ${colors.white};\n    text-decoration: none;\n    font-size: 11px;\n    font-weight: 600;\n    letter-spacing: 0;\n    line-height: 19px;\n    cursor: pointer;\n    box-sizing: border-box;\n    color: ${({ open }) => (open ? colors.dark : colors.white)};\n    background-color: ${({ open }) => (open ? colors.white : 'transparent')};\n    border: ${({ open }) => (open ? `1px solid ${colors.dark}` : 'none')};\n    border-left: ${({ open }) =>\n        open ? `1px solid ${colors.dark}` : `1px solid ${colors.white}`};\n    ${IconStyled} {\n        fill: ${({ open }) => (open ? colors.dark : colors.white)};\n    }\n    :hover {\n        background-color: ${({ open }) => (open ? colors.dark : colors.white)};\n        color: ${({ open }) => (open ? colors.white : colors.dark)};\n        ${IconStyled} {\n            fill: ${({ open }) => (open ? colors.white : colors.dark)};\n        }\n    }\n    @media (min-width: ${displayWidth.tablet}) {\n        font-size: 14px;\n        width: ${headerHeight.cadDesctop};\n        height: ${headerHeight.cadDesctop};\n    }\n`\nconst activeClassName = 'active'\nconst LinkStyled = styled(Link).attrs({\n    activeClassName,\n})<{ open: boolean }>`\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-decoration: none;\n    font-size: 11px;\n    font-weight: 600;\n    letter-spacing: 0;\n    line-height: 19px;\n    color: ${({ open }) => (open ? colors.white : colors.dark)};\n    @media (min-width: ${displayWidth.tablet}) {\n        font-size: 14px;\n    }\n`\n\nconst LangItem = styled.button<{ open: boolean }>`\n    display: flex;\n    list-style: none;\n    width: 100%;\n    box-sizing: border-box;\n    height: ${headerHeight.cadMobile};\n    background-color: transparent;\n    border: none;\n    box-sizing: border-box;\n    background-color: ${({ open }) => (open ? colors.white : 'transparent')};\n    border: ${({ open }) => (open ? `1px solid ${colors.dark}` : 'none')};\n    border-bottom: ${({ open }) => open && 'none'};\n\n    :hover {\n        cursor: pointer;\n        background-color: ${({ open }) => open && colors.dark};\n        ${LinkStyled} {\n            color: ${colors.white};\n        }\n    }\n    @media (min-width: ${displayWidth.tablet}) {\n        height: ${headerHeight.cadDesctop};\n    }\n`\n\nconst Wrapper = styled.div<{ open: boolean }>`\n    position: absolute;\n    left: 0;\n    top: 59px;\n    width: ${headerHeight.cadMobile};\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    :last-child {\n        border-bottom: ${({ open }) => open && `1px solid ${colors.dark}`};\n        box-sizing: border-box;\n    }\n    @media (min-width: ${displayWidth.tablet}) {\n        width: ${headerHeight.cadDesctop};\n        top: 79px;\n    }\n`\n\nexport const LanguageSwitcherCad = () => {\n    const [isOpen, setIsOpen] = useState(false)\n    const { i18n } = useTranslation()\n    const { getPagePath } = usePagePath()\n    return (\n        <LanguageList open={isOpen}>\n            <FakeLink open={isOpen} onClick={() => setIsOpen(!isOpen)}>\n                {languages[i18n.language].label}\n                <IconStyled open={isOpen} />\n            </FakeLink>\n\n            <Wrapper open={isOpen}>\n                {isOpen &&\n                    languagesList\n                        .filter((lang) => lang !== i18n.language)\n                        .map((lang) => {\n                            const langLabel = languages[lang].label\n                            const path = getPagePath(lang)\n\n                            return (\n                                <LangItem open={isOpen} key={lang}>\n                                    <LinkStyled\n                                        open={!isOpen}\n                                        to={`${path}`}\n                                        onClick={() => {\n                                            setIsOpen(!isOpen)\n                                            sendEvent('Click', {\n                                                eventCategory: 'LanguageChange',\n                                                to: `${lang}`,\n                                            })\n                                        }}\n                                    >\n                                        {langLabel}\n                                    </LinkStyled>\n                                </LangItem>\n                            )\n                        })}\n            </Wrapper>\n        </LanguageList>\n    )\n}\n","import React, { useRef, useState, useLayoutEffect, useCallback } from 'react'\nimport styled from 'styled-components'\nimport { useTranslation } from 'react-i18next'\nimport { useSelector } from 'react-redux'\n\nimport { LocalizedLink } from 'i18n/LocalizedLink'\nimport { LanguageSwitcherCad } from 'i18n/LanguageSwitcherCad'\nimport { accentDark } from 'cad/themes/accentDark'\nimport { getElements } from 'cad/storage/selectors'\nimport SaveIcon from 'assets/icons/iconsCad/save.svg'\nimport DeleteIcon from 'assets/icons/iconsCad/delete.svg'\nimport LogoSwg from 'assets/icons/Logo.svg'\nimport { light } from './themes/light'\nimport { displayWidth } from 'styles/width'\nimport { sendEvent } from 'tracking/tracking'\n\nconst ButtonArea = styled.div`\n    display: flex;\n`\nconst LogoSvg = styled(LogoSwg)`\n    width: 32px;\n    margin-left: 5px;\n    fill: #fff;\n    @media (min-width: ${displayWidth.tablet}) {\n        width: 57px;\n    }\n`\n\nconst ButtonS = styled.div`\n    display: flex;\n    align-items: center;\n    align-self: center;\n    height: 26px;\n    padding: 5px;\n    color: ${light.color};\n    background-color: ${light.bgColor};\n    text-transform: uppercase;\n    font-style: normal;\n    font-weight: bold;\n    font-size: 12px;\n    line-height: 16px;\n    text-align: center;\n    letter-spacing: 0.685714px;\n    text-transform: uppercase;\n    cursor: pointer;\n    svg {\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        @media (min-width: ${displayWidth.tablet}) {\n            margin-right: 12px;\n            width: 26px;\n            height: 26px;\n        }\n    }\n    @media (min-width: ${displayWidth.tablet}) {\n        margin-right: 20px;\n    }\n\n    :hover {\n        color: gray;\n        svg {\n            fill: gray;\n        }\n    }\n`\n\nconst Logo = styled(LocalizedLink)`\n    display: flex;\n    align-items: center;\n    align-self: center;\n    font-size: 28px;\n    margin: 0 10px;\n    text-decoration: none;\n\n    :hover {\n        svg {\n            fill: gray;\n        }\n    }\n`\nconst AppHeaderContainer = styled.header`\n    display: flex;\n    justify-content: space-between;\n    flex-shrink: 0;\n    width: 100%;\n    height: 60px;\n    background-color: ${(props) => props.theme.bgColor};\n    @media (min-width: ${displayWidth.tablet}) {\n        height: 80px;\n    }\n`\n\nconst Banner = styled(LocalizedLink)`\n    align-self: center;\n    padding: 5px 10px 6px;\n    height: 36px;\n    background-color: ${accentDark.color};\n    color: ${accentDark.bgColor};\n    text-align: center;\n    font-size: 16px;\n    line-height: 18px;\n    text-decoration: none;\n    font-weight: 600;\n    border-radius: 20px;\n    align-items: center;\n    &:hover {\n        background-color: ${accentDark.bgColorHover};\n    }\n    p {\n        margin: 0 auto;\n        text-align: center;\n    }\n    @media (max-width: 350px) {\n        font-size: 10px;\n    }\n    @media (max-width: 360px) {\n        font-size: 14px;\n    }\n    @media (min-width: ${displayWidth.tablet}) {\n        display: flex;\n        padding: 10px 40px;\n        margin: 12px;\n        font-size: 26px;\n        font-weight: 700;\n        line-height: 30px;\n        letter-spacing: 0px;\n        text-align: center;\n        border-radius: 32px;\n    }\n`\n\ntype Props = {\n    setShouldShowAskModal: (arg: boolean) => void\n    setShouldShowSaveModal: (arg: boolean) => void\n}\nexport const AppHeader = ({\n    setShouldShowAskModal,\n    setShouldShowSaveModal,\n}: Props) => {\n    const stateElements = useSelector(getElements)\n    const windowRef = useRef<HTMLDivElement>(null)\n    const [windowWidth, setWindowWidth] = useState<number>(0)\n    const handleResize = useCallback(() => {\n        setWindowWidth(windowRef.current!.clientWidth)\n    }, [])\n\n    useLayoutEffect(() => {\n        setWindowWidth(windowRef.current!.clientWidth)\n        window.addEventListener('resize', handleResize)\n\n        return () => {\n            window.removeEventListener('resize', handleResize)\n        }\n    }, [handleResize])\n\n    const { t } = useTranslation()\n\n    return (\n        <AppHeaderContainer ref={windowRef}>\n            <Logo to={'/'}>\n                <LogoSvg />\n            </Logo>\n\n            <Banner\n                onClick={() =>\n                    sendEvent('Click', {\n                        eventCategory: 'Banner',\n                        placement: 'CAD',\n                    })\n                }\n                to={'/design-za-99'}\n            >\n                <p>{t('promoRaw')}</p>\n                <p> {t('designProject99')}</p>\n            </Banner>\n\n            <ButtonArea>\n                {stateElements && stateElements.length !== 0 && (\n                    <ButtonS onClick={() => setShouldShowAskModal(true)}>\n                        {windowWidth > 500 ? (\n                            <>\n                                <DeleteIcon />\n                                {t('ClearAll')}\n                            </>\n                        ) : (\n                            <DeleteIcon />\n                        )}\n                    </ButtonS>\n                )}\n                {stateElements && stateElements.length !== 0 && (\n                    <ButtonS onClick={() => setShouldShowSaveModal(true)}>\n                        {windowWidth > 500 ? (\n                            <>\n                                <SaveIcon />\n                                {t('Export')}\n                            </>\n                        ) : (\n                            <SaveIcon />\n                        )}\n                    </ButtonS>\n                )}\n                <LanguageSwitcherCad />\n            </ButtonArea>\n        </AppHeaderContainer>\n    )\n}\n","import React, { useState, useEffect } from 'react'\nimport styled, { ThemeProvider } from 'styled-components'\nimport { Provider } from 'react-redux'\nimport { store } from 'cad/storage/reduser'\nimport { light } from 'cad/themes/light'\nimport Workplace from 'cad/Workplace'\nimport { AppHeader } from 'cad/AppHeader'\nimport { HelmetFunc } from 'components/PageMetaData'\n\nconst pageMetadata = {\n    uk: {\n        title: 'Створення обмірного креслення онлайн',\n        description:\n            'Створення обмірного креслення житлових та нежилих приміщень безкоштовно, без реєстрації, онлайн, у форматі dxf від дизайнерських студій ClearLine',\n    },\n    ru: {\n        title: 'Создание обмерочного чертежа онлайн',\n        description:\n            'Создание обмерочных чертежей жилых и нежилых помещений бесплатно, без регистрации, онлайн,  в формате dxf от дизайн студии ClearLine',\n    },\n    en: {\n        title: 'Creating a dimensional drawing online',\n        description:\n            'Creation of dimensional drawings of residential and non-residential premises free of charge, without registration, online, in dxf format from design studio ClearLine',\n    },\n}\n\nconst AppStyled = styled.div`\n    display: flex;\n    flex-direction: column;\n    flex-grow: 0;\n    width: 100vw;\n    height: 100%;\n    max-height: 100vh;\n`\n\nconst CadPage = () => {\n    const [shouldRender, setShouldRender] = useState(false)\n    const [shouldShowAskModal, setShouldShowAskModal] = useState(false)\n    const [shouldShowSaveModal, setShouldShowSaveModal] = useState(false)\n    const [shouldShowFeedbackModal, setShouldShowFeedbackModal] = useState(\n        false\n    )\n\n    useEffect(() => {\n        setShouldRender(true)\n    }, [])\n\n    if (!shouldRender) {\n        return null\n    }\n\n    return (\n        <Provider store={store}>\n            <HelmetFunc data={pageMetadata} />\n            <AppStyled>\n                <ThemeProvider theme={light}>\n                    <AppHeader\n                        setShouldShowAskModal={setShouldShowAskModal}\n                        setShouldShowSaveModal={setShouldShowSaveModal}\n                    />\n                </ThemeProvider>\n                <Workplace\n                    shouldShowAskModal={shouldShowAskModal}\n                    setShouldShowAskModal={setShouldShowAskModal}\n                    shouldShowSaveModal={shouldShowSaveModal}\n                    setShouldShowSaveModal={setShouldShowSaveModal}\n                    shouldShowFeedbackModal={shouldShowFeedbackModal}\n                    setShouldShowFeedbackModal={setShouldShowFeedbackModal}\n                />\n            </AppStyled>\n        </Provider>\n    )\n}\n\nexport default CadPage\n","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Util_1 = require(\"./Util\");\n\nvar Global_1 = require(\"./Global\");\n\nvar COMMA = ',',\n    OPEN_PAREN = '(',\n    CLOSE_PAREN = ')',\n    OPEN_PAREN_BRACKET = '([',\n    CLOSE_BRACKET_PAREN = '])',\n    SEMICOLON = ';',\n    DOUBLE_PAREN = '()',\n    EQUALS = '=',\n    CONTEXT_METHODS = ['arc', 'arcTo', 'beginPath', 'bezierCurveTo', 'clearRect', 'clip', 'closePath', 'createLinearGradient', 'createPattern', 'createRadialGradient', 'drawImage', 'ellipse', 'fill', 'fillText', 'getImageData', 'createImageData', 'lineTo', 'moveTo', 'putImageData', 'quadraticCurveTo', 'rect', 'restore', 'rotate', 'save', 'scale', 'setLineDash', 'setTransform', 'stroke', 'strokeText', 'transform', 'translate'];\nvar CONTEXT_PROPERTIES = ['fillStyle', 'strokeStyle', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'lineCap', 'lineDashOffset', 'lineJoin', 'lineWidth', 'miterLimit', 'font', 'textAlign', 'textBaseline', 'globalAlpha', 'globalCompositeOperation', 'imageSmoothingEnabled'];\nvar traceArrMax = 100;\n\nvar Context = function () {\n  function Context(canvas) {\n    this.canvas = canvas;\n    this._context = canvas._canvas.getContext('2d');\n\n    if (Global_1.Konva.enableTrace) {\n      this.traceArr = [];\n\n      this._enableTrace();\n    }\n  }\n\n  Context.prototype.fillShape = function (shape) {\n    if (shape.fillEnabled()) {\n      this._fill(shape);\n    }\n  };\n\n  Context.prototype._fill = function (shape) {};\n\n  Context.prototype.strokeShape = function (shape) {\n    if (shape.hasStroke()) {\n      this._stroke(shape);\n    }\n  };\n\n  Context.prototype._stroke = function (shape) {};\n\n  Context.prototype.fillStrokeShape = function (shape) {\n    this.fillShape(shape);\n    this.strokeShape(shape);\n  };\n\n  Context.prototype.getTrace = function (relaxed) {\n    var traceArr = this.traceArr,\n        len = traceArr.length,\n        str = '',\n        n,\n        trace,\n        method,\n        args;\n\n    for (n = 0; n < len; n++) {\n      trace = traceArr[n];\n      method = trace.method;\n\n      if (method) {\n        args = trace.args;\n        str += method;\n\n        if (relaxed) {\n          str += DOUBLE_PAREN;\n        } else {\n          if (Util_1.Util._isArray(args[0])) {\n            str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;\n          } else {\n            str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;\n          }\n        }\n      } else {\n        str += trace.property;\n\n        if (!relaxed) {\n          str += EQUALS + trace.val;\n        }\n      }\n\n      str += SEMICOLON;\n    }\n\n    return str;\n  };\n\n  Context.prototype.clearTrace = function () {\n    this.traceArr = [];\n  };\n\n  Context.prototype._trace = function (str) {\n    var traceArr = this.traceArr,\n        len;\n    traceArr.push(str);\n    len = traceArr.length;\n\n    if (len >= traceArrMax) {\n      traceArr.shift();\n    }\n  };\n\n  Context.prototype.reset = function () {\n    var pixelRatio = this.getCanvas().getPixelRatio();\n    this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);\n  };\n\n  Context.prototype.getCanvas = function () {\n    return this.canvas;\n  };\n\n  Context.prototype.clear = function (bounds) {\n    var canvas = this.getCanvas();\n\n    if (bounds) {\n      this.clearRect(bounds.x || 0, bounds.y || 0, bounds.width || 0, bounds.height || 0);\n    } else {\n      this.clearRect(0, 0, canvas.getWidth() / canvas.pixelRatio, canvas.getHeight() / canvas.pixelRatio);\n    }\n  };\n\n  Context.prototype._applyLineCap = function (shape) {\n    var lineCap = shape.getLineCap();\n\n    if (lineCap) {\n      this.setAttr('lineCap', lineCap);\n    }\n  };\n\n  Context.prototype._applyOpacity = function (shape) {\n    var absOpacity = shape.getAbsoluteOpacity();\n\n    if (absOpacity !== 1) {\n      this.setAttr('globalAlpha', absOpacity);\n    }\n  };\n\n  Context.prototype._applyLineJoin = function (shape) {\n    var lineJoin = shape.attrs.lineJoin;\n\n    if (lineJoin) {\n      this.setAttr('lineJoin', lineJoin);\n    }\n  };\n\n  Context.prototype.setAttr = function (attr, val) {\n    this._context[attr] = val;\n  };\n\n  Context.prototype.arc = function (a0, a1, a2, a3, a4, a5) {\n    this._context.arc(a0, a1, a2, a3, a4, a5);\n  };\n\n  Context.prototype.arcTo = function (a0, a1, a2, a3, a4) {\n    this._context.arcTo(a0, a1, a2, a3, a4);\n  };\n\n  Context.prototype.beginPath = function () {\n    this._context.beginPath();\n  };\n\n  Context.prototype.bezierCurveTo = function (a0, a1, a2, a3, a4, a5) {\n    this._context.bezierCurveTo(a0, a1, a2, a3, a4, a5);\n  };\n\n  Context.prototype.clearRect = function (a0, a1, a2, a3) {\n    this._context.clearRect(a0, a1, a2, a3);\n  };\n\n  Context.prototype.clip = function () {\n    this._context.clip();\n  };\n\n  Context.prototype.closePath = function () {\n    this._context.closePath();\n  };\n\n  Context.prototype.createImageData = function (a0, a1) {\n    var a = arguments;\n\n    if (a.length === 2) {\n      return this._context.createImageData(a0, a1);\n    } else if (a.length === 1) {\n      return this._context.createImageData(a0);\n    }\n  };\n\n  Context.prototype.createLinearGradient = function (a0, a1, a2, a3) {\n    return this._context.createLinearGradient(a0, a1, a2, a3);\n  };\n\n  Context.prototype.createPattern = function (a0, a1) {\n    return this._context.createPattern(a0, a1);\n  };\n\n  Context.prototype.createRadialGradient = function (a0, a1, a2, a3, a4, a5) {\n    return this._context.createRadialGradient(a0, a1, a2, a3, a4, a5);\n  };\n\n  Context.prototype.drawImage = function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n    var a = arguments,\n        _context = this._context;\n\n    if (a.length === 3) {\n      _context.drawImage(a0, a1, a2);\n    } else if (a.length === 5) {\n      _context.drawImage(a0, a1, a2, a3, a4);\n    } else if (a.length === 9) {\n      _context.drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8);\n    }\n  };\n\n  Context.prototype.ellipse = function (a0, a1, a2, a3, a4, a5, a6, a7) {\n    this._context.ellipse(a0, a1, a2, a3, a4, a5, a6, a7);\n  };\n\n  Context.prototype.isPointInPath = function (x, y) {\n    return this._context.isPointInPath(x, y);\n  };\n\n  Context.prototype.fill = function () {\n    this._context.fill();\n  };\n\n  Context.prototype.fillRect = function (x, y, width, height) {\n    this._context.fillRect(x, y, width, height);\n  };\n\n  Context.prototype.strokeRect = function (x, y, width, height) {\n    this._context.strokeRect(x, y, width, height);\n  };\n\n  Context.prototype.fillText = function (a0, a1, a2) {\n    this._context.fillText(a0, a1, a2);\n  };\n\n  Context.prototype.measureText = function (text) {\n    return this._context.measureText(text);\n  };\n\n  Context.prototype.getImageData = function (a0, a1, a2, a3) {\n    return this._context.getImageData(a0, a1, a2, a3);\n  };\n\n  Context.prototype.lineTo = function (a0, a1) {\n    this._context.lineTo(a0, a1);\n  };\n\n  Context.prototype.moveTo = function (a0, a1) {\n    this._context.moveTo(a0, a1);\n  };\n\n  Context.prototype.rect = function (a0, a1, a2, a3) {\n    this._context.rect(a0, a1, a2, a3);\n  };\n\n  Context.prototype.putImageData = function (a0, a1, a2) {\n    this._context.putImageData(a0, a1, a2);\n  };\n\n  Context.prototype.quadraticCurveTo = function (a0, a1, a2, a3) {\n    this._context.quadraticCurveTo(a0, a1, a2, a3);\n  };\n\n  Context.prototype.restore = function () {\n    this._context.restore();\n  };\n\n  Context.prototype.rotate = function (a0) {\n    this._context.rotate(a0);\n  };\n\n  Context.prototype.save = function () {\n    this._context.save();\n  };\n\n  Context.prototype.scale = function (a0, a1) {\n    this._context.scale(a0, a1);\n  };\n\n  Context.prototype.setLineDash = function (a0) {\n    if (this._context.setLineDash) {\n      this._context.setLineDash(a0);\n    } else if ('mozDash' in this._context) {\n      this._context['mozDash'] = a0;\n    } else if ('webkitLineDash' in this._context) {\n      this._context['webkitLineDash'] = a0;\n    }\n  };\n\n  Context.prototype.getLineDash = function () {\n    return this._context.getLineDash();\n  };\n\n  Context.prototype.setTransform = function (a0, a1, a2, a3, a4, a5) {\n    this._context.setTransform(a0, a1, a2, a3, a4, a5);\n  };\n\n  Context.prototype.stroke = function () {\n    this._context.stroke();\n  };\n\n  Context.prototype.strokeText = function (a0, a1, a2, a3) {\n    this._context.strokeText(a0, a1, a2, a3);\n  };\n\n  Context.prototype.transform = function (a0, a1, a2, a3, a4, a5) {\n    this._context.transform(a0, a1, a2, a3, a4, a5);\n  };\n\n  Context.prototype.translate = function (a0, a1) {\n    this._context.translate(a0, a1);\n  };\n\n  Context.prototype._enableTrace = function () {\n    var that = this,\n        len = CONTEXT_METHODS.length,\n        _simplifyArray = Util_1.Util._simplifyArray,\n        origSetter = this.setAttr,\n        n,\n        args;\n\n    var func = function func(methodName) {\n      var origMethod = that[methodName],\n          ret;\n\n      that[methodName] = function () {\n        args = _simplifyArray(Array.prototype.slice.call(arguments, 0));\n        ret = origMethod.apply(that, arguments);\n\n        that._trace({\n          method: methodName,\n          args: args\n        });\n\n        return ret;\n      };\n    };\n\n    for (n = 0; n < len; n++) {\n      func(CONTEXT_METHODS[n]);\n    }\n\n    that.setAttr = function () {\n      origSetter.apply(that, arguments);\n      var prop = arguments[0];\n      var val = arguments[1];\n\n      if (prop === 'shadowOffsetX' || prop === 'shadowOffsetY' || prop === 'shadowBlur') {\n        val = val / this.canvas.getPixelRatio();\n      }\n\n      that._trace({\n        property: prop,\n        val: val\n      });\n    };\n  };\n\n  Context.prototype._applyGlobalCompositeOperation = function (node) {\n    var globalCompositeOperation = node.getGlobalCompositeOperation();\n\n    if (globalCompositeOperation !== 'source-over') {\n      this.setAttr('globalCompositeOperation', globalCompositeOperation);\n    }\n  };\n\n  return Context;\n}();\n\nexports.Context = Context;\nCONTEXT_PROPERTIES.forEach(function (prop) {\n  Object.defineProperty(Context.prototype, prop, {\n    get: function get() {\n      return this._context[prop];\n    },\n    set: function set(val) {\n      this._context[prop] = val;\n    }\n  });\n});\n\nvar SceneContext = function (_super) {\n  __extends(SceneContext, _super);\n\n  function SceneContext() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SceneContext.prototype._fillColor = function (shape) {\n    var fill = shape.fill();\n    this.setAttr('fillStyle', fill);\n\n    shape._fillFunc(this);\n  };\n\n  SceneContext.prototype._fillPattern = function (shape) {\n    var fillPatternX = shape.getFillPatternX(),\n        fillPatternY = shape.getFillPatternY(),\n        fillPatternRotation = Global_1.Konva.getAngle(shape.getFillPatternRotation()),\n        fillPatternOffsetX = shape.getFillPatternOffsetX(),\n        fillPatternOffsetY = shape.getFillPatternOffsetY(),\n        fillPatternScaleX = shape.getFillPatternScaleX(),\n        fillPatternScaleY = shape.getFillPatternScaleY();\n\n    if (fillPatternX || fillPatternY) {\n      this.translate(fillPatternX || 0, fillPatternY || 0);\n    }\n\n    if (fillPatternRotation) {\n      this.rotate(fillPatternRotation);\n    }\n\n    if (fillPatternScaleX || fillPatternScaleY) {}\n\n    if (fillPatternOffsetX || fillPatternOffsetY) {\n      this.translate(-1 * fillPatternOffsetX, -1 * fillPatternOffsetY);\n    }\n\n    this.setAttr('fillStyle', shape._getFillPattern());\n\n    shape._fillFunc(this);\n  };\n\n  SceneContext.prototype._fillLinearGradient = function (shape) {\n    var grd = shape._getLinearGradient();\n\n    if (grd) {\n      this.setAttr('fillStyle', grd);\n\n      shape._fillFunc(this);\n    }\n  };\n\n  SceneContext.prototype._fillRadialGradient = function (shape) {\n    var grd = shape._getRadialGradient();\n\n    if (grd) {\n      this.setAttr('fillStyle', grd);\n\n      shape._fillFunc(this);\n    }\n  };\n\n  SceneContext.prototype._fill = function (shape) {\n    var hasColor = shape.fill(),\n        fillPriority = shape.getFillPriority();\n\n    if (hasColor && fillPriority === 'color') {\n      this._fillColor(shape);\n\n      return;\n    }\n\n    var hasPattern = shape.getFillPatternImage();\n\n    if (hasPattern && fillPriority === 'pattern') {\n      this._fillPattern(shape);\n\n      return;\n    }\n\n    var hasLinearGradient = shape.getFillLinearGradientColorStops();\n\n    if (hasLinearGradient && fillPriority === 'linear-gradient') {\n      this._fillLinearGradient(shape);\n\n      return;\n    }\n\n    var hasRadialGradient = shape.getFillRadialGradientColorStops();\n\n    if (hasRadialGradient && fillPriority === 'radial-gradient') {\n      this._fillRadialGradient(shape);\n\n      return;\n    }\n\n    if (hasColor) {\n      this._fillColor(shape);\n    } else if (hasPattern) {\n      this._fillPattern(shape);\n    } else if (hasLinearGradient) {\n      this._fillLinearGradient(shape);\n    } else if (hasRadialGradient) {\n      this._fillRadialGradient(shape);\n    }\n  };\n\n  SceneContext.prototype._strokeLinearGradient = function (shape) {\n    var start = shape.getStrokeLinearGradientStartPoint(),\n        end = shape.getStrokeLinearGradientEndPoint(),\n        colorStops = shape.getStrokeLinearGradientColorStops(),\n        grd = this.createLinearGradient(start.x, start.y, end.x, end.y);\n\n    if (colorStops) {\n      for (var n = 0; n < colorStops.length; n += 2) {\n        grd.addColorStop(colorStops[n], colorStops[n + 1]);\n      }\n\n      this.setAttr('strokeStyle', grd);\n    }\n  };\n\n  SceneContext.prototype._stroke = function (shape) {\n    var dash = shape.dash(),\n        strokeScaleEnabled = shape.getStrokeScaleEnabled();\n\n    if (shape.hasStroke()) {\n      if (!strokeScaleEnabled) {\n        this.save();\n        var pixelRatio = this.getCanvas().getPixelRatio();\n        this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n      }\n\n      this._applyLineCap(shape);\n\n      if (dash && shape.dashEnabled()) {\n        this.setLineDash(dash);\n        this.setAttr('lineDashOffset', shape.dashOffset());\n      }\n\n      this.setAttr('lineWidth', shape.strokeWidth());\n\n      if (!shape.getShadowForStrokeEnabled()) {\n        this.setAttr('shadowColor', 'rgba(0,0,0,0)');\n      }\n\n      var hasLinearGradient = shape.getStrokeLinearGradientColorStops();\n\n      if (hasLinearGradient) {\n        this._strokeLinearGradient(shape);\n      } else {\n        this.setAttr('strokeStyle', shape.stroke());\n      }\n\n      shape._strokeFunc(this);\n\n      if (!strokeScaleEnabled) {\n        this.restore();\n      }\n    }\n  };\n\n  SceneContext.prototype._applyShadow = function (shape) {\n    var util = Util_1.Util,\n        color = util.get(shape.getShadowRGBA(), 'black'),\n        blur = util.get(shape.getShadowBlur(), 5),\n        offset = util.get(shape.getShadowOffset(), {\n      x: 0,\n      y: 0\n    }),\n        scale = shape.getAbsoluteScale(),\n        ratio = this.canvas.getPixelRatio(),\n        scaleX = scale.x * ratio,\n        scaleY = scale.y * ratio;\n    this.setAttr('shadowColor', color);\n    this.setAttr('shadowBlur', blur * Math.min(Math.abs(scaleX), Math.abs(scaleY)));\n    this.setAttr('shadowOffsetX', offset.x * scaleX);\n    this.setAttr('shadowOffsetY', offset.y * scaleY);\n  };\n\n  return SceneContext;\n}(Context);\n\nexports.SceneContext = SceneContext;\n\nvar HitContext = function (_super) {\n  __extends(HitContext, _super);\n\n  function HitContext() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  HitContext.prototype._fill = function (shape) {\n    this.save();\n    this.setAttr('fillStyle', shape.colorKey);\n\n    shape._fillFuncHit(this);\n\n    this.restore();\n  };\n\n  HitContext.prototype.strokeShape = function (shape) {\n    if (shape.hasHitStroke()) {\n      this._stroke(shape);\n    }\n  };\n\n  HitContext.prototype._stroke = function (shape) {\n    if (shape.hasHitStroke()) {\n      var strokeScaleEnabled = shape.getStrokeScaleEnabled();\n\n      if (!strokeScaleEnabled) {\n        this.save();\n        var pixelRatio = this.getCanvas().getPixelRatio();\n        this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n      }\n\n      this._applyLineCap(shape);\n\n      var hitStrokeWidth = shape.hitStrokeWidth();\n      var strokeWidth = hitStrokeWidth === 'auto' ? shape.strokeWidth() : hitStrokeWidth;\n      this.setAttr('lineWidth', strokeWidth);\n      this.setAttr('strokeStyle', shape.colorKey);\n\n      shape._strokeFuncHit(this);\n\n      if (!strokeScaleEnabled) {\n        this.restore();\n      }\n    }\n  };\n\n  return HitContext;\n}(Context);\n\nexports.HitContext = HitContext;","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.Grayscale = function (imageData) {\n  var data = imageData.data,\n      len = data.length,\n      i,\n      brightness;\n\n  for (i = 0; i < len; i += 4) {\n    brightness = 0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2];\n    data[i] = brightness;\n    data[i + 1] = brightness;\n    data[i + 2] = brightness;\n  }\n};"],"sourceRoot":""}